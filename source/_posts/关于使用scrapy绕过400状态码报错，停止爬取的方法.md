---
title: å…³äºä½¿ç”¨scrapyç»•è¿‡400çŠ¶æ€ç æŠ¥é”™ï¼Œåœæ­¢çˆ¬å–çš„æ–¹æ³•
tags:
  - python
  - scrapy
  - çˆ¬è™«
categories:
  - é—®é¢˜
description: ğŸ§‚scrapy é‡åˆ° 400 çŠ¶æ€ç åå¿½ç•¥ç»§ç»­çˆ¬å–çš„æ–¹æ³•
abbrlink: 1fdc6d41
date: 2021-10-26 20:49:48
cover:
---
# å…³äºä½¿ç”¨scrapyç»•è¿‡400çŠ¶æ€ç æŠ¥é”™ï¼Œåœæ­¢çˆ¬å–çš„æ–¹æ³•

> æˆ‘åœ¨çˆ¬èµ·ç‚¹å°è¯´ç½‘çš„æ—¶å€™ï¼Œå› ä¸ºæ˜¯æ‰«ç½‘é¡µï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªå»è¯•ï¼Œå¯¼è‡´ä¸å¯é¿å…çš„ä¼šè®¿é—®åˆ°400çš„è¯·æ±‚
>
> è€Œscrapyåœ¨é‡åˆ°400çš„çŠ¶æ€ç çš„æ—¶å€™ä¼šè‡ªåŠ¨åœæ­¢çˆ¬å–ï¼Œåœ¨çˆ¬è™«æ–‡ä»¶ä¸­çš„parseæ–¹æ³•é‡Œè·å–ä¸åˆ°è¿”å›çš„ä¿¡æ¯
>
> ç›´æ¥ç»™ä½ æŠ¥é”™ï¼Œç„¶åç»ˆæ­¢çˆ¬è™«å·¥ä½œï¼Œå°±å¾ˆçƒ¦ã€‚ã€‚ã€‚
>
> åœ¨ç½‘ä¸Šæ‰¾äº†å¥½ä¹…ï¼Œç»ˆäºæ‰¾åˆ°ä¸€ä¸ªæ–¹æ³•ï¼Œèƒ½åœ¨è·å–åˆ°400åä¸åœæ­¢ï¼Œç›´æ¥è¿”å›åˆ°çˆ¬è™«æ–‡ä»¶çš„parseä¸­çš„response

### åœ¨settings.pyä¸­è®¾ç½®

```
# å¿½ç•¥400æŠ¥é”™ï¼Œç›´æ¥ä¼ å…¥parse
HTTPERROR_ALLOWED_CODES = [400]
```

### ç„¶ååœ¨çˆ¬è™«æ–‡ä»¶ä¸­çš„parseæ–¹æ³•çš„responseè·å–åˆ°

```
def parse(self, response):
	print(response)
	print(response.status)
```

### åœ¨æ§åˆ¶å°ä¸­å¯ä»¥çœ‹åˆ°ä¿¡æ¯äº†

```
<400 https://book.qidian.com/info/1030564368/>
400
```

### ä¸‹é¢å°±å¯ä»¥æ ¹æ®ä¸åŒçš„éœ€æ±‚è¿›è¡Œç›¸å…³çš„ä»£ç ç¼–å†™äº†

