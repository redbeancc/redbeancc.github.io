---
title: é­”æ”¹æ•™ç¨‹æ€»ç»“ï¼ˆäºŒï¼‰
tags:
  - hexo
  - butterfly
categories:
  - é­”æ”¹æ•™ç¨‹
description: ğŸ˜é­”æ”¹æ•™ç¨‹æ€»ç»“ï¼ˆäºŒï¼‰
cover: https://img-blog.csdnimg.cn/direct/a8f2ece322884a1d972de4a38d27d671.png
abbrlink: 48067a72
date: 2024-03-07 22:28:21
---
> **å‰è¨€**ğŸ“‡
>
> 1. æœ¬æ–‡å‚è€ƒ[åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(ä¸€)](https://www.fomal.cc/posts/eec9786.html)ã€[åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(äºŒ)](https://www.fomal.cc/posts/5389e93f.html)ã€[Iconfont Inject](https://akilar.top/posts/d2ebecef/)ã€[ç³–æœå±‹å¾®è°ƒåˆé›†](https://akilar.top/posts/23fdf850/)
> 2. æœ¬ç³»åˆ—åŸºæœ¬ä¸Šéƒ½æ˜¯å„ä½å¤§ä½¬é€ å¥½çš„è½®å­ï¼Œå…·ä½“å‚è€ƒ [Fomalhautå¤§ä½¬](https://www.fomal.cc/)ã€‚å…¶ç›®çš„åœ¨äºé˜²æ­¢å„ä½å¤§ä½¬çš„é“¾æ¥å¤±æ•ˆï¼Œä¸”ä¸ªäººå¤ä¹ æ€»ç»“ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒè¯·è”ç³»åˆ é™¤ã€‚
> 3. æœ¬ç³»åˆ—èµ·å§‹ç©ºç™½çš„è™šæ‹Ÿæœºï¼Œä¸€æ­¥ä¸€æ­¥æ­å»ºé­”æ”¹é¡µé¢ï¼Œä½¿ç”¨æœ¬åœ°ç«¯å£ã€‚è‹¥æƒ³éƒ¨ç½²åœ¨å…¶å®ƒå¹³å°ï¼Œå¯è‡ªå¯»æŸ¥æ‰¾ã€‚
> 4. é‰´äºæ¯ä¸ªäººçš„æ ¹ç›®å½•åç§°éƒ½ä¸ä¸€æ ·ï¼Œæœ¬å¸–**åšå®¢æ ¹ç›®å½•**ä¸€å¾‹ä»¥`[BlogRoot]`æŒ‡ä»£ã€‚
> 5. æœ¬å¸–æ¶‰åŠé­”æ”¹æºç çš„å†…å®¹ï¼Œä¼šä½¿ç”¨**diffä»£ç å—**æ ‡è¯†ï¼Œå¤åˆ¶æ—¶è¯·**ä¸è¦å¿˜è®°åˆ é™¤**å‰é¢çš„`+ã€-`ç¬¦å·ã€‚
> 6. å› ä¸º`.pug`å’Œ`.styl`ä»¥åŠ`.yml`ç­‰å¯¹ç¼©è¿›è¦æ±‚è¾ƒä¸ºä¸¥æ ¼ï¼Œè¯·å°½é‡**ä¸è¦ä½¿ç”¨è®°äº‹æœ¬ç­‰æ— æ³•æä¾›è¯­æ³•é«˜äº®çš„æ–‡æœ¬ç¼–è¾‘å™¨**è¿›è¡Œä¿®æ”¹ã€‚
> 7. æœ¬ç³»åˆ—åŸºäº`Butterflyä¸»é¢˜`è¿›è¡Œé­”æ”¹æ–¹æ¡ˆç¼–å†™ï¼Œhexo ç‰ˆæœ¬ `6.3.0`ï¼ŒButterfly ç‰ˆæœ¬ `4.12.0`ã€‚
> 8. é­”æ”¹ä¼šè¿‡ç¨‹å¸¸å¸¸å¼•å…¥**è‡ªå®šä¹‰çš„cssä¸jsæ–‡ä»¶**ï¼Œå…·ä½“æ–¹æ³•è§æ–¹æ³•è§[Hexoåšå®¢æ·»åŠ è‡ªå®šä¹‰csså’Œjsæ–‡ä»¶](https://b.leonus.cn/2022/custom.html)

**åšå®¢æ­å»ºä¸é­”æ”¹ç³»åˆ—æ•™ç¨‹å¯¼èˆªğŸš¥ğŸš¥ğŸš¥**

1. ğŸ€[hexoåŸºç¡€æ­å»ºæ•™ç¨‹ï¼ˆä¸€ï¼‰](https://redbeancc.github.io/post/3324b066.html)
2. ğŸ†[hexoåŸºç¡€æ­å»ºæ•™ç¨‹ï¼ˆäºŒï¼‰](https://redbeancc.github.io/post/837c228f.html)
3. ğŸ‡[é­”æ”¹æ•™ç¨‹æ€»ç»“ï¼ˆä¸€ï¼‰](https://redbeancc.github.io/post/781096aa.html)
4. ğŸ§¨[é­”æ”¹æ•™ç¨‹æ€»ç»“ï¼ˆäºŒï¼‰](https://redbeancc.github.io/post/48067a72.html)â¬…å½“å‰ä½ç½®ğŸ›¸
5. âœ¨[é­”æ”¹æ•™ç¨‹æ€»ç»“ï¼ˆä¸‰ï¼‰](https://redbeancc.github.io/post/518d920.html)

# å¤–æŒ‚æ ‡ç­¾çš„å¼•å…¥ï¼ˆåº—é•¿ï¼‰

{% folding cyan,ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ %}

{% hideBlock é¢„è§ˆæ•ˆæœ %}

![image-20240303171305511](https://img-blog.csdnimg.cn/img_convert/397cf1fe8c39e791f5f69afd72faac42.png)

{% endhideBlock %}



è¯¦è§ï¼š[Tag Plugins Plus](https://akilar.top/posts/615e2dec/)

1. å®‰è£…æ’ä»¶,åœ¨åšå®¢æ ¹ç›®å½•`[BlogRoot]`ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š

   ```BASH
   npm install hexo-butterfly-tag-plugins-plus --save
   ```

   è€ƒè™‘åˆ°hexoè‡ªå¸¦çš„markdownæ¸²æŸ“æ’ä»¶`hexo-renderer-marked`ä¸å¤–æŒ‚æ ‡ç­¾è¯­æ³•çš„å…¼å®¹æ€§è¾ƒå·®ï¼Œå»ºè®®æ‚¨å°†å…¶æ›¿æ¢æˆ[hexo-renderer-kramed](https://www.npmjs.com/package/hexo-renderer-kramed)

   ```BASH
   npm uninstall hexo-renderer-marked --save
   npm install hexo-renderer-kramed --save
   ```

2. æ·»åŠ é…ç½®ä¿¡æ¯ï¼Œä»¥ä¸‹ä¸ºå†™æ³•ç¤ºä¾‹
   åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶`_config.yml`æˆ–è€…ä¸»é¢˜é…ç½®æ–‡ä»¶`_config.butterfly.yml`ä¸­æ·»åŠ 

   ```YML
   # tag-plugins-plus
   # see https://akilar.top/posts/615e2dec/
   tag_plugins:
     enable: true # å¼€å…³
     priority: 5 #è¿‡æ»¤å™¨ä¼˜å…ˆæƒ
     issues: false #issuesæ ‡ç­¾ä¾èµ–æ³¨å…¥å¼€å…³
     link:
       placeholder: /img/link.png #link_cardæ ‡ç­¾é»˜è®¤çš„å›¾æ ‡å›¾ç‰‡
     CDN:
       anima: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css #åŠ¨ç”»æ ‡ç­¾animaçš„ä¾èµ–
       jquery: https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js #issuesæ ‡ç­¾ä¾èµ–
       issues: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/issues.js #issuesæ ‡ç­¾ä¾èµ–
       iconfont: //at.alicdn.com/t/c/fonxxxx.js #å‚çœ‹https://akilar.top/posts/d2ebecef/
       carousel: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js
       tag_plugins_css: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css
   ```

3. å‚æ•°é‡Šä¹‰

| å‚æ•°                | å¤‡é€‰å€¼/ç±»å‹                        | é‡Šä¹‰                                                         |
| :------------------ | :--------------------------------- | :----------------------------------------------------------- |
| enable              | true/false                         | ã€å¿…é€‰ã€‘æ§åˆ¶å¼€å…³                                             |
| priority            | number                             | ã€å¯é€‰ã€‘è¿‡æ»¤å™¨ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ï¼Œæ‰§è¡Œè¶Šæ—©ï¼Œé»˜è®¤ä¸º10ï¼Œé€‰å¡«     |
| issues              | true/false                         | ã€å¯é€‰ã€‘issuesæ ‡ç­¾æ§åˆ¶å¼€å…³ï¼Œé»˜è®¤ä¸ºfalse                      |
| link.placeholder    | ã€å¿…é€‰ã€‘linkå¡ç‰‡å¤–æŒ‚æ ‡ç­¾çš„é»˜è®¤å›¾æ ‡ |                                                              |
| CDN.anima           | URL                                | ã€å¯é€‰ã€‘åŠ¨ç”»æ ‡ç­¾animaçš„ä¾èµ–                                  |
| CDN.jquery          | URL                                | ã€å¯é€‰ã€‘issuesæ ‡ç­¾ä¾èµ–                                       |
| CDN.issues          | URL                                | ã€å¯é€‰ã€‘issuesæ ‡ç­¾ä¾èµ–                                       |
| CDN.iconfont        | URL                                | ã€å¯é€‰ã€‘iconfontæ ‡ç­¾symbolæ ·å¼å¼•å…¥ï¼Œå¦‚æœä¸æƒ³å¼•å…¥ï¼Œåˆ™è®¾ä¸ºfalse |
| CDN.carousel        | URL                                | ã€å¯é€‰ã€‘carouselæ—‹è½¬ç›¸å†Œæ ‡ç­¾é¼ æ ‡æ‹–åŠ¨ä¾èµ–ï¼Œå¦‚æœä¸æƒ³å¼•å…¥åˆ™è®¾ä¸ºfalse |
| CDN.tag_plugins_css | URL                                | ã€å¯é€‰ã€‘å¤–æŒ‚æ ‡ç­¾æ ·å¼çš„CSSä¾èµ–ï¼Œä¸ºé¿å…CDNç¼“å­˜å»¶è¿Ÿï¼Œå»ºè®®å°†@latestæ”¹ä¸ºå…·ä½“ç‰ˆæœ¬å· |

å…·ä½“æ ·å¼å’Œå†™æ³•å¯è§ï¼š[Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»](https://www.fomal.cc/posts/2013454d.html)

{% endfolding %}



# æ–‡ç« ä¸‰æ ï¼ˆåº—é•¿+å¾®è°ƒï¼‰

{% folding cyan,ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ %}

{% hideBlock é¢„è§ˆæ•ˆæœ %}

![image-20240305170919506](https://img-blog.csdnimg.cn/img_convert/c5b53a238e4bbe6c83f9b6dbfad9c999.png)

{% endhideBlock %}

{% note warning flat %}

1. éœ€è¦å‰ç½®ï¼šé¡µé¢æ ·å¼è°ƒèŠ‚

{% endnote %}

å‚è€ƒï¼š[åŒæ å¸ƒå±€é¦–é¡µå¡ç‰‡é­”æ”¹æ•™ç¨‹](https://akilar.top/posts/d6b69c49/)

æœ¬ç½‘ç«™é‡‡ç”¨çš„æ˜¯ä¸‰æ +å“åº”å¼å¸ƒå±€çš„æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯slidecardçš„æ–¹æ¡ˆï¼Œä½†æ˜¯ä¸ºäº†å¯æ‹“å±•æ€§ï¼Œæˆ‘è¿˜æ˜¯æŠŠä¸¤ç§éƒ½æ¬äº†è¿‡æ¥ï¼Œæ–¹ä¾¿å¤§å®¶é˜…è¯»ï¼

1. ä¿®æ”¹`[BlogRoot]\themes\butterfly\layout\includes\mixins\post-ui.pug`,æ•´ä¸ªæ›¿æ¢ä¸ºä¸‹é¢çš„ä»£ç ï¼Œæ³¨æ„ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯å½©è‰²çš„å›¾æ ‡ï¼Œæ¯ä¸ª`//- i.fas`é‚£é‡Œè¡¨ç¤ºæˆ‘æ³¨é‡Šäº†é»‘ç™½çš„é¢å›¾æ ‡å¹¶æ¢ä¸Šå½©è‰²å›¾æ ‡ï¼Œå½©è‰²å›¾æ ‡å¼•å…¥çš„å…·ä½“æ–¹æ³•è§ä¹‹å‰çš„æ•™ç¨‹ï¼Œè¿™é‡Œåªéœ€è¦æ›¿æ¢æˆä½ è‡ªå·±çš„`å›¾æ ‡åå­—`å’Œè°ƒèŠ‚ç›¸åº”çš„`å¤§å°`å³å¯ï¼š

   ```stylus
   //- é¦–é¡µä¸‰æ å¡ç‰‡
   mixin postUI(posts)
     each article , index in page.posts.data
       .recent-post-item
         -
           let link = article.link || article.path
           let title = article.title || _p('no_title')
           const position = theme.cover.position
           let leftOrRight = position === 'both'
             ? index%2 == 0 ? 'left' : 'right'
             : position === 'left' ? 'left' : 'right'
           let post_cover = article.cover
           let no_cover = article.cover === false || !theme.cover.index_enable ? 'no-cover' : ''
         -
         .recent-post-content(class=leftOrRight)
           .recent-post-cover
             img.article-cover(src=url_for(post_cover) onerror=`this.onerror=null;this.src='`+ url_for(theme.error_img.post_page) + `'` alt=title)
           .recent-post-info
             a.article-title(href=url_for(link) title=title)
               .article-title-link= title
             .recent-post-meta                
               .article-meta-wrap
                 if (is_home() && (article.top || article.sticky > 0))
                   span.article-meta
                     //- i.fas.fa-thumbtack.sticky
                     svg.meta_icon(style="width:16px;height:16px;position:relative;top:3px").post-ui-icon
                       use(xlink:href='#icon-tuding')
                     span.sticky= _p('sticky')
                     span.article-meta-separator  | 
                 if (theme.post_meta.page.date_type)
                   span.post-meta-date
                     if (theme.post_meta.page.date_type === 'both')
                       //- i.far.fa-calendar-alt
                       svg.meta_icon(style="width:21px;height:21px;position:relative;top:6px").post-ui-icon
                         use(xlink:href='#icon-rili')
                       span.article-meta-label=_p('post.created')
                       time.post-meta-date-created(datetime=date_xml(article.date) title=_p('post.created') + ' ' + full_date(article.date))=date(article.date, config.date_format)
                       span.article-meta-separator  | 
                       //- i.fas.fa-history
                       svg.meta_icon(style="width:13px;height:13px;position:relative;top:2px").post-ui-icon
                         use(xlink:href='#icon-gengxin_')                    
                       span.article-meta-label=_p('post.updated') + " "
                       time.post-meta-date-updated(datetime=date_xml(article.updated) title=_p('post.updated') + ' ' + full_date(article.updated))=date(article.updated, config.date_format)
                     else
                       - let data_type_updated = theme.post_meta.page.date_type === 'updated'
                       - let date_type = data_type_updated ? 'updated' : 'date'
                       - let date_icon = data_type_updated ? 'fas fa-history' :'far fa-calendar-alt'
                       - let date_title = data_type_updated ? _p('post.updated') : _p('post.created')
                       i(class=date_icon)
                       span.article-meta-label=date_title
                       time(datetime=date_xml(article[date_type]) title=date_title + ' ' + full_date(article[date_type]))=date(article[date_type], config.date_format)
                 if (theme.post_meta.page.categories && article.categories.data.length > 0)
                   span.article-meta
                     span.article-meta-separator  | 
                     //- i.fas.fa-inbox
                     svg.meta_icon(style="width:12px;height:12px;position:relative;top:1px").post-ui-icon
                       use(xlink:href='#icon-fenlei4-copy')
                     each item, index in article.categories.data
                       a(href=url_for(item.path)).article-meta__categories #[=item.name]
                       if (index < article.categories.data.length - 1)
                         i.fas.fa-angle-right.article-meta-link
                 if (theme.post_meta.page.tags && article.tags.data.length > 0)
                   span.article-meta.tags
                     span.article-meta-separator  | 
                     //- i.fas.fa-tag
                     svg.meta_icon(style="width:13px;height:13px;position:relative;top:2px").post-ui-icon
                       use(xlink:href='#icon-biaoqian')
                     each item, index in article.tags.data
                       a(href=url_for(item.path)).article-meta__tags #[=item.name]
                       if (index < article.tags.data.length - 1)
                         span.article-meta-link #[=' â€¢ ']
                 
                 mixin countBlockInIndex
                   - needLoadCountJs = true
                   span.article-meta
                     span.article-meta-separator  | 
                     //- i.fas.fa-comments
                     svg.meta_icon(style="width:13px;height:13px;position:relative;top:2px").post-ui-icon
                       use(xlink:href='#icon-pinglun')
                     if block
                       block
                     span.article-meta-label= ' ' + _p('card_post_count')
                 
                 if theme.comments.card_post_count
                   case theme.comments.use[0]
                     when 'Disqus'
                       +countBlockInIndex
                         a(href=full_url_for(link) + '#disqus_thread')
                           i.fa-solid.fa-spinner.fa-spin
                     when 'Disqusjs'
                       +countBlockInIndex
                         a(href=full_url_for(link) + '#disqusjs')
                           span.disqus-comment-count(data-disqus-url=full_url_for(link))
                             i.fa-solid.fa-spinner.fa-spin
                     when 'Valine'
                       +countBlockInIndex
                         a(href=url_for(link) + '#post-comment')
                           span.valine-comment-count(data-xid=url_for(link))
                             i.fa-solid.fa-spinner.fa-spin
                     when 'Waline'
                       +countBlockInIndex
                         a(href=url_for(link) + '#post-comment')
                           span.waline-comment-count(id=url_for(link))
                             i.fa-solid.fa-spinner.fa-spin
                     when 'Twikoo'
                       +countBlockInIndex
                         a.twikoo-count(href=url_for(link) + '#post-comment')
                           i.fa-solid.fa-spinner.fa-spin
                     when 'Facebook Comments'
                       +countBlockInIndex
                         a(href=url_for(link) + '#post-comment')
                           span.fb-comments-count(data-href=urlNoIndex(article.permalink))
                     when 'Remark42'
                       +countBlockInIndex
                         a(href=url_for(link) + '#post-comment')
                           span.remark42__counter(data-url=urlNoIndex(article.permalink))
                             i.fa-solid.fa-spinner.fa-spin
                     when 'Artalk'
                       +countBlockInIndex
                         a(href=url_for(link) + '#post-comment')
                           span.artalk-count(data-page-key=url_for(link))
                             i.fa-solid.fa-spinner.fa-spin      
           a.article-content(href=url_for(link) title=title)
             //- Display the article introduction on homepage
             case theme.index_post_content.method
               when false
                 - break
               when 1
                 .article-content-text!= article.description
               when 2
                 if article.description
                   .article-content-text!= article.description
                 else
                   - const content = strip_html(article.content)
                   - let expert = content.substring(0, theme.index_post_content.length) 
                   - content.length > theme.index_post_content.length ? expert += ' ...' : ''
                   .article-content-text!= expert
               default
                 - const content = strip_html(article.content)
                 - let expert = content.substring(0, theme.index_post_content.length) 
                 - content.length > theme.index_post_content.length ? expert += ' ...' : ''
                 .article-content-text!= expert      
           .recent-post-arrow
   
       if theme.ad && theme.ad.index
         if (index + 1) % 3 == 0
           .recent-post-item.ads-wrap!=theme.ad.index
   ```

2. æ ·å¼æ–¹æ¡ˆæä¾›ä¸¤ç§ï¼š

   - æ ·å¼ä¸€ï¼šç”µè„‘ç«¯å®½å±é‡‡ç”¨æ»‘åŠ¨å¡ç‰‡ï¼Œå¹³æ¿å®½åº¦é‡‡ç”¨åŒæ å¸ƒå±€ï¼Œæ‰‹æœºå®½åº¦é‡‡ç”¨å•æ å¡ç‰‡
   - æ ·å¼äºŒï¼šç§»é™¤æ»‘åŠ¨å¡ç‰‡ï¼ŒæŒ‰å±å¹•å®½åº¦ä¾æ¬¡åº”ç”¨ä¸‰æ ã€åŒæ ã€å•æ 

   æ–°å»ºç›®å½•`[BlogRoot]\themes\butterfly\source\css\_index_card_style\`,å¹¶åœ¨ä¸‹é¢æ–°å»ºå¯¹åº”çš„æ–‡ä»¶`slidecard.styl`å’Œ`multicard.styl`å¹¶åˆ†åˆ«å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼Œç¬¬ä¸€ä¸ªæ»‘åŠ¨å¡ç‰‡çš„æ˜¯åº—é•¿åŸç‰ˆçš„ï¼Œæˆ‘å¾®è°ƒä¸€ä¸‹ç¬¬äºŒä¸ªçš„æ ·å¼ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„é€‰æ‹©è¿›è¡Œä¿®æ”¹ï¼š

   {% tabs  indexCard %}

   <!-- tab slidecard -->

   ```stylus
   //default color:
   :root
     --recent-post-bgcolor: rgba(255, 255, 255, 0.9)  //é»˜è®¤èƒŒæ™¯
     --article-content-bgcolor: #49b1f5 //æè¿°ç‰ˆå—èƒŒæ™¯
     --recent-post-arrow: #ffffff //ç®­å¤´é…è‰²
     --recent-post-cover-shadow: #ffffff //å°é¢é®ç½©å±‚é…è‰²ï¼Œå»ºè®®å’Œé»˜è®¤å€¼çš„é¢œè‰²ç›¸å¯¹åº”ã€‚
     --recent-post-transition: all 0.5s cubic-bezier(0.59, 0.01, 0.48, 1.17)  //åŠ¨ç”»æ•ˆæœã€‚ä¸äº†è§£çš„ä¸è¦æ”¹åŠ¨
   [data-theme="dark"]
     --recent-post-bgcolor: rgba(35,35,35,0.5)
     --article-content-bgcolor: #99999a
     --recent-post-arrow: #37e2dd
     --recent-post-cover-shadow: #232323
   // é»˜è®¤çš„é¦–é¡µå¡ç‰‡å®¹å™¨å¸ƒå±€
   .recent-posts
     padding 0 15px 0 15px
     height fit-content
     .recent-post-item
       margin-bottom 15px
       width 100%
       background var(--recent-post-bgcolor)
       overflow hidden
       border-radius 15px
       .recent-post-content
         display flex
         background var(--recent-post-bgcolor)
         position relative
         .recent-post-cover
           display flex
           background transparent
         .recent-post-info
           display flex
           background transparent
           flex-direction column
           justify-content center
           align-items center
           .article-title
             height 50%
             display: flex
             text-align: center
             align-items: center
             justify-content: flex-end
             flex-direction: column
             .article-title-link
               color: var(--text-highlight-color)
               transition: all .2s ease-in-out
               display: -webkit-box;
               -webkit-box-orient: vertical;
               overflow: hidden;
               &:hover
                 color: $text-hover
           .recent-post-meta
             height 50%
             display: flex
             text-align: center
             align-items: center
             justify-content: flex-start
             flex-direction: column
             .article-meta-wrap
               color #969797
               display: -webkit-box;
               -webkit-box-orient: vertical;
               overflow: hidden;
               a
                 color: var(--text-highlight-color)
                 transition: all .2s ease-in-out
                 color #969797
                 &:hover
                   color: $text-hover
         .article-content
           display flex
           text-align: center
           flex-direction row
           align-items center
           justify-content center
           .article-content-text
             display -webkit-box
             -webkit-box-orient vertical
             text-overflow: ellipsis
             overflow hidden
             color #fff
             text-shadow 1px 2px 3px #000
             &::before
               content "â"
               font-size 20px
             &::after
               content "â"
               font-size 20px
       &.ads-wrap
         display: block !important
         height: auto !important
   // PCç«¯æ»‘åŠ¨å¡ç‰‡æ ·å¼
   @media screen and (min-width:1069px)
     .recent-posts
       padding 0 15px 0 15px
       .recent-post-item
         .recent-post-content
           position relative
           height 200px
           width 100%
           transition var(--recent-post-transition)
           &:hover
             .recent-post-cover-shadow
               width 10.1%
               transition var(--recent-post-transition)
             .recent-post-cover
               width 10%
               transition var(--recent-post-transition)
             .article-content
               width calc(30% + 80px)
               transition var(--recent-post-transition)
               .article-content-text
                 opacity 1
             .recent-post-arrow
               transition var(--recent-post-transition)
           .recent-post-cover-shadow
             z-index: 1
             transition var(--recent-post-transition)
             position: absolute
             height 200px
             width 40%
           .recent-post-cover
             height 200px
             width 40%
             transition var(--recent-post-transition)
             img
               height 100%
               width 100%
               object-fit cover
   
           .recent-post-info
             height 200px
             width calc(60% - 80px)
             .article-title
               margin: 0px 40px
               font-size 24px
               .article-title-link
                 -webkit-line-clamp: 2;
             .recent-post-meta
               margin: 0px 20px
               .article-meta-wrap
                 font-size 12px
                 -webkit-line-clamp: 3;
           .article-content
             height 200px
             width 90px
             background var(--article-content-bgcolor)
             transition var(--recent-post-transition)
             .article-content-text
               -webkit-line-clamp 4
               transition: var(--recent-post-transition)
               opacity 0
           .recent-post-arrow
             transition var(--recent-post-transition)
             display block
             position absolute
             height 20px
             width 8px
             background var(--recent-post-arrow)
           &.both,
           &.right
             .recent-post-cover-shadow
               left 0
               background linear-gradient(to left, var(--recent-post-cover-shadow), transparent)
             .recent-post-cover
               order: 1
             .recent-post-info
               order: 2
             .article-content
               order: 3
               clip-path polygon(0 50%, 80px 0, 100% 0, 100% 100%, 80px 100%)
               .article-content-text
                 margin 20px 40px 20px 80px
             .recent-post-arrow
               order: 4
               left calc(100% - 80px)
               top calc(50% - 10px)
               clip-path polygon(0 10px, 8px 0, 8px 20px)
             &:hover
               .recent-post-arrow
                 left calc(100% - 40px)
           &.left
             .recent-post-cover-shadow
               right 0
               background linear-gradient(to right, var(--recent-post-cover-shadow), transparent)
             .recent-post-cover
               order: 4
             .recent-post-info
               order: 3
             .article-content
               order: 2
               clip-path polygon(100% 50%,calc(100% - 80px) 100%,0 100%,0 0,calc(100% - 80px) 0)
               .article-content-text
                 margin 20px 80px 20px 40px
             .recent-post-arrow
               order: 1
               left 72px
               top calc(50% - 10px)
               clip-path polygon(0 0, 8px 10px, 0 20px)
             &:hover
               .recent-post-arrow
                 left 32px
   // åŒæ å¸ƒå±€å¡ç‰‡è‡ªé€‚åº”é€‚é…
   @media screen and (min-width:572px) and (max-width:1068px)
     .recent-posts
       padding 0 15px 0 15px
       display flex
       flex-direction row
       flex-wrap wrap
       .recent-post-item
         border-radius 15px
         overflow hidden
         width 47%
         margin 0px 3% 20px 0px
       nav#pagination
         width: 100%
   // æ‰‹æœºç«¯å•æ å¸ƒå±€è‡ªé€‚åº”é€‚é…
   @media screen and (max-width:572px)
     .recent-posts
       padding 0 15px 0 15px
       .recent-post-item
         border-radius 15px
         overflow hidden
           
   // æ‰‹æœºç«¯åŠåŒæ å¡ç‰‡æ ·å¼
   @media screen and (max-width:1068px)
     .recent-posts
       .recent-post-item
         .recent-post-content
           flex-direction column
           flex-wrap nowrap
           align-items center
           max-height 350px
           height: auto 
           width 100%
           .recent-post-cover
             width 100%
             height 200px
             clip-path polygon(0 130px,0 0,100% 0,100% 130px,50% 100%)
             img
               height 200px
               width 100%
               object-fit cover
           .recent-post-info
             height 150px
             width 100%
             padding 0px 25px 5px 25px
             .article-title
               margin: 0px 40px
               font-size 18px
               .article-title-link
                 -webkit-line-clamp: 2;
             .recent-post-meta
               margin: 0px 20px
               .article-meta-wrap
                 font-size 12px
                 -webkit-line-clamp: 3;
           .article-content
             position absolute
             height 200px
             width 100%
             background rgba(25,25,25,0.5)
             clip-path polygon(0 130px,0 0,100% 0,100% 130px,50% 100%)
             .article-content-text
               -webkit-line-clamp 3
               font-size 16px
               margin 0px 25px 30px 25px
           .recent-post-arrow
             display block
             background var(--article-content-bgcolor)
             position absolute
             height 10px
             width 20px
             clip-path polygon(0 0,100% 0,50% 100%)
             top 20px
   ```

   <!-- endtab -->

   <!-- tab multicard -->

   ```stylus
   :root
     --theme-color:rgb(57, 197, 187)
     --text-bg-hover:rgba(57, 197, 187, 0.7)
     
   .recent-posts
     padding 0 5px 0 5px
     height fit-content
     .recent-post-item
       margin-bottom 15px
       overflow hidden
       border-radius 15px
       .recent-post-content
         display flex
         position relative
         &:hover
           .recent-post-cover
             img
               transition: all .6s ease-in-out
               scale: 1.08
           .article-content
             .article-content-text
               transition: all .6s ease-in-out
               scale: 1.08
         .recent-post-cover
           display flex
           background transparent
         .recent-post-info
           display flex
           background transparent
           flex-direction column
           justify-content center
           align-items center
           .article-title
             height 50%
             display: flex
             text-align: center
             align-items: center
             justify-content: flex-end
             flex-direction: column
             .article-title-link
               color: var(--text-highlight-color)
               transition: all .2s ease-in-out
               display: -webkit-box;
               -webkit-box-orient: vertical;
               overflow: hidden;
               &:hover
                 color: var(--theme-color)
           .recent-post-meta
             height 50%
             display: flex
             text-align: center
             align-items: center
             justify-content: flex-start
             flex-direction: column
             .article-meta-wrap
               color #969797
               display: -webkit-box;
               -webkit-box-orient: vertical;
               overflow: hidden;
               a
                 color: var(--text-highlight-color)
                 transition: all .2s ease-in-out
                 color #969797
                 &:hover
                   color: var(--theme-color)
         .article-content
           display flex
           text-align: center
           flex-direction row
           align-items center
           justify-content center
           .article-content-text
             display -webkit-box
             -webkit-box-orient vertical
             text-overflow: ellipsis
             overflow hidden
             color #fff
             text-shadow 1px 2px 3px #000
             // transition transform 0.6s;
             // &:hover
             //  transform: scale(1.1);
       &.ads-wrap
         display: block !important
         height: auto !important
     nav#pagination
       width: 100%
   // å¡ç‰‡å•å…ƒå¸ƒå±€æ ·å¼
   .recent-posts
     padding 0 5px 0 5px
     display flex
     flex-direction row
     flex-wrap wrap
     .recent-post-item
       border-radius 15px
       overflow hidden
       .recent-post-content
         flex-direction column
         flex-wrap nowrap
         align-items center
         max-height 350px
         height: auto
         width 100%
         .recent-post-cover
           width 100%
           height 200px
           clip-path polygon(0 130px,0 0,100% 0,100% 130px,50% 100%)
           img
             height 200px
             width 100%
             object-fit cover
         .recent-post-info
           height 145px
           width 100%
           padding 0px 25px 5px 25px
           .article-title
             margin: 0px 40px
             font-size 19px
             .article-title-link
               -webkit-line-clamp: 2;
           .recent-post-meta
             margin: 0px 20px
             .article-meta-wrap
               font-size 13px
               -webkit-line-clamp: 3;
         .article-content
           position absolute
           height 200px
           width 100%
           background rgba(25,25,25,0.4)
           clip-path polygon(0 130px,0 0,100% 0,100% 130px,50% 100%)
           .article-content-text
             -webkit-line-clamp 3
             font-size 16px
             margin 0px 25px 30px 25px
             &::before
               content "ã€Œ"
               font-size 20px
             &::after
               content "ã€"
               font-size 20px
         .recent-post-arrow
           display block
           background var(--text-bg-hover)
           position absolute
           height 10px
           width 20px
           clip-path polygon(0 0,100% 0,50% 100%)
   // ä¸‰æ å¸ƒå±€æ»‘åŠ¨å¡ç‰‡æ ·å¼
   @media screen and (min-width:1069px)
     .recent-posts
       .recent-post-item
         width 32.3%
         margin 0px 1% 20px 0px
         .recent-post-content
           .recent-post-info
             .article-title
               margin: 0px 5px
               .article-title-link
                 -webkit-line-clamp: 1;
             .recent-post-meta
               margin: 0px 5px
               .article-meta-wrap
                 -webkit-line-clamp: 2;
   // åŒæ å¸ƒå±€å¡ç‰‡è‡ªé€‚åº”é€‚é…
   @media screen and (min-width:572px) and (max-width:1068px)
     .recent-posts
       .recent-post-item
         width 47%
         margin 0px 3% 20px 0px
   // å•æ å¸ƒå±€å¡ç‰‡è‡ªé€‚åº”é€‚é…
   @media screen and (max-width:572px)
     .recent-posts
       .recent-post-item
         width 100%
   ```

   <!-- endtab -->

   {% endtabs %}

3. ä¿®æ”¹`[BlogRoot]\themes\butterfly\source\css\_page\homepage.styl`,å°†æ•´æ–‡ä»¶å†…å®¹æ›¿æ¢ä¸ºä»¥ä¸‹ä»£ç ï¼š

   ```stylus
   if hexo-config('index_card_style') == 'slidecard'
     @import './_index_card_style/slidecard'
   else if hexo-config('index_card_style') == 'multicard'
     @import './_index_card_style/multicard'
   ```

4. ç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶`[BlogRoot]\_config.butterfly.yml`é‡Œæ–°å¢é…ç½®é¡¹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡é…ç½®é¡¹è‡ªç”±åˆ‡æ¢ä½¿ç”¨å“ªæ¬¾äº†ï¼š

   ```YML
   # ä¸»é¡µå¡ç‰‡æ ·å¼
   # Docs: https://akilar.top/posts/d6b69c49/
   index_card_style: multicard # slidecard | multicard
   ```

5. è€ƒè™‘åˆ°ä¸ç®¡æ˜¯æ ·å¼ä¸€è¿˜æ˜¯æ ·å¼äºŒéƒ½å­˜åœ¨ä¸€ä¸ªå¸ƒå±€çªå˜çš„æƒ…å†µã€‚ä¸ºäº†ä¸è‡³äºè®©é¦–é¡µçš„æ–‡ç« å‡ºç°ç©ºç¼ºï¼Œå»ºè®®å°†é¦–é¡µç”Ÿæˆçš„æ–‡ç« æ•°é‡æ§åˆ¶ä¸º1,2,3çš„å…¬å€æ•°ã€‚ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶`[BlogRoot]\_config.yml`ã€‚æ‰¾åˆ°ä»¥ä¸‹é…ç½®é¡¹è¿›è¡Œè°ƒæ•´ï¼Œæ³¨æ„è¿™æ˜¯ç«™ç‚¹é…ç½®æ–‡ä»¶æœ¬å°±æœ‰çš„é…ç½®é¡¹ï¼Œä¸æ˜¯æ–°å¢é…ç½®é¡¹ã€‚å»ºè®®æ˜¯è°ƒæ•´ä¸º12ç¯‡ã€‚å¦‚æœä½ çš„ä¾§è¾¹æ é­”æ”¹å†…å®¹ç‰¹åˆ«å¤šï¼Œé‚£ä¹ˆå»ºè®®æ”¹æˆ18ã€24ã€30ã€‚åŠ¡å¿…ç¡®ä¿æ–‡ç« å¡ç‰‡æ æ¯”ä¾§æ å®Œå…¨å±•å¼€è¦é•¿ï¼Œè¿™æ ·å±•ç¤ºæ•ˆæœæœ€å¥½

   ```YML
   # Home page setting
   # path: Root path for your blogs index page. (default = '')
   # per_page: Posts displayed per page. (0 = disable pagination)
   # order_by: Posts order. (Order by date descending by default)
   index_generator:
     path: ''
     per_page: 12
     order_by: -date
   ```

6. æœ¬æ•™ç¨‹è®¨è®ºçš„å¡ç‰‡éƒ½æ˜¯è€ƒè™‘æœ‰å°é¢å’Œæœ‰æè¿°çš„ã€‚æ‰€ä»¥éœ€è¦ä¿è¯ä½ å·²ç»å¼€å¯äº†ç›¸åº”çš„é…ç½®ï¼ŒæŸ¥çœ‹ä¸»é¢˜é…ç½®æ–‡ä»¶`[BlogRoot]\_config.butterfly.yml`,æ‰¾åˆ°é…ç½®é¡¹å¼€å¯æè¿°æ ï¼Œå»ºè®®é€‰æ‹©2æ¨¡å¼

   ```YML
   # Display the article introduction on homepage
   # 1: description
   # 2: both (if the description exists, it will show description, or show the auto_excerpt)
   # 3: auto_excerpt (default)
   # false: do not show the article introduction
   index_post_content:
     method: 2
     length: 500 # if you set method to 2 or 3, the length need to config
   ```

7. åœ¨ `_config.butterfly.yml`ä¸­å¼€å¯é¦–é¡µæ–‡ç« ä¿¡æ¯

   ```yml
   post_meta:
     page: # Home Page
       date_type: both # created or updated or both ä¸»é æ–‡ç« æ—¥æœŸæ˜¯å‰µå»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½é¡¯ç¤º
       date_format: date # date/relative é¡¯ç¤ºæ—¥æœŸé‚„æ˜¯ç›¸å°æ—¥æœŸ
       categories: true # true or false ä¸»é æ˜¯å¦é¡¯ç¤ºåˆ†é¡
       tags: true # true or false ä¸»é æ˜¯å¦é¡¯ç¤ºæ¨™ç±¤
       label: true # true or false é¡¯ç¤ºæè¿°æ€§æ–‡å­—
     post:
       date_type: both # created or updated or both æ–‡ç« é æ—¥æœŸæ˜¯å‰µå»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½é¡¯ç¤º
       date_format: date # date/relative é¡¯ç¤ºæ—¥æœŸé‚„æ˜¯ç›¸å°æ—¥æœŸ
       categories: true # true or false æ–‡ç« é æ˜¯å¦é¡¯ç¤ºåˆ†é¡
       tags: true # true or false æ–‡ç« é æ˜¯å¦é¡¯ç¤ºæ¨™ç±¤
       label: true # true or false é¡¯ç¤ºæè¿°æ€§æ–‡å­—
   ```


{% endfolding %}





# Socialå¡ç‰‡å½©è‰²å›¾æ ‡å¼•å…¥ï¼ˆåº—é•¿ï¼‰

{% folding cyan,ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ %}

{% hideBlock é¢„è§ˆæ•ˆæœ %}

![image-20240306155402194](https://img-blog.csdnimg.cn/img_convert/6b023ff2c02c75d012db14a336354568.png)

{% endhideBlock %}

{% note warning flat %}

è¿™é‡Œéœ€è¦å‰ç½®ï¼šé˜¿é‡Œçš„ iconfont å¼•å…¥

{% endnote %}

1. é‡å†™`[BlogRoot]\themes\butterfly\layout\includes\header\social.pug`,æ›¿æ¢ä¸ºä»¥ä¸‹ä»£ç ï¼š

   ```stylus
   each value, title in theme.social
     a.social-icon.faa-parent.animated-hover(href=url_for(trim(value.split('||')[0])) target="_blank" title=title === undefined ? '' : trim(title))
       if value.split('||')[1]
         - var icon_value = trim(value.split('||')[1])
         - var anima_value = value.split('||')[2] ? trim(value.split('||')[2]) : 'faa-tada'
         if icon_value.substring(0,2)=="fa"      
           i.fa-fw(class=icon_value + ' ' + anima_value)
         else if icon_value.substring(0,4)=="icon"          
           svg.icon(aria-hidden="true" class=anima_value)
             use(xlink:href=`#`+ icon_value)
   ```

2. ä»¥ä¸‹ä¸ºå¯¹åº”çš„`social`é…ç½®é¡¹ã€‚å†™æ³•æ²¿ç”¨`menu_item`çš„å†™æ³•ç¤ºä¾‹ï¼Œä¿®æ”¹`[BlogRoot]\_config.butterfly.yml`çš„`social`é…ç½®é¡¹ï¼Œå…·ä½“çš„é“¾æ¥æ”¹ä¸ºè‡ªå·±çš„ã€‚

   ```yml
   # Social Settings (ç¤¾äº¤åœ–æ¨™è¨­ç½®)
   # formal:
   #   icon: link || the description || color
   social:
     icon-github: https://github.com/redbeancc || icon-github || faa-tada
     icon-youjian: mailto:2074077441@qq.com || icon-youjian || faa-tada
   ```

3. è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„åŠ¨æ€å›¾æ ‡æ˜¯`svg.icon`çš„æ ‡ç­¾ï¼Œå› æ­¤ä¸Šé¢è°ƒèŠ‚`.iconfont`çš„csså¹¶ä¸ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è‡ªå®šä¹‰æ ·å¼æ–‡ä»¶`custom.css`é‡ŒåŠ ä¸Šä¸€äº›æ ·å¼æ¥é™åˆ¶å›¾æ ‡çš„å¤§å°å’Œé¢œè‰²ç­‰ï¼Œå…·ä½“å¤§å°è‡ªè¡Œè°ƒèŠ‚ï¼ˆå¦‚æœä¸Šé¢å¼„è¿‡èœå•æ çš„å›¾æ ‡å¤§å°ï¼Œè¿™é‡Œä¹Ÿå°±ä¸éœ€è¦å†é‡å¤å†™äº†ï¼‰ã€‚

   ```CSS
   svg.icon {
     width: 1.28em;
     height: 1.28em;
     vertical-align: -0.15em;
     fill: currentColor;
     overflow: hidden;
   }
   ```

4. è¿›é˜¶æ“ä½œï¼šä¸çŸ¥é“å¤§å®¶å‘ç°æ²¡æœ‰ï¼Œè¿™ä¸ªcsså¯¹èœå•æ çš„å›¾æ ‡å’Œå¯¹ç¤¾äº¤å›¾æ ‡åŒæ—¶ç”Ÿæ•ˆï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬æƒ³è¿™ä¸¤è€…æœ‰ä¸ä¸€æ ·çš„å¤§å°ï¼Œæ€ä¹ˆåŠï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œåªè¦æˆ‘ä»¬ç»™è¿™ä¸¤éƒ¨åˆ†çš„å›¾æ ‡å…ƒç´ è´´ä¸Šä¸åŒçš„â€œæ ‡ç­¾â€å°±å¯ä»¥ï¼Œè¿™ä¸ªæ ‡ç­¾å¯ä»¥æ˜¯`id`ï¼Œä¹Ÿå¯ä»¥æ˜¯`class`ï¼Œä½†æ˜¯ä¼—æ‰€å‘¨çŸ¥htmlä¸­çš„idæ˜¯å”¯ä¸€çš„ï¼Œæˆ‘ä»¬è¿™é‡Œæœ‰å¤šä¸ªå›¾æ ‡ï¼Œå› æ­¤è´´ä¸Šä¸é€šçš„`class`æ¯”è¾ƒåˆé€‚ï¼Œå› æ­¤æˆ‘ä»¬æ”¹é€ ä¸€ä¸‹`[BlogRoot]\themes\butterfly\layout\includes\header\social.pug`è¿™ä¸ªæ–‡ä»¶

   ```DIFF
   each value, title in theme.social
     a.social-icon.faa-parent.animated-hover(href=url_for(trim(value.split('||')[0])) target="_blank" title=title === undefined ? '' : trim(title))
       if value.split('||')[1]
         - var icon_value = trim(value.split('||')[1])
         - var anima_value = value.split('||')[2] ? trim(value.split('||')[2]) : 'faa-tada'
         if icon_value.substring(0,2)=="fa"      
           i.fa-fw(class=icon_value + ' ' + anima_value)
         else if icon_value.substring(0,4)=="icon"          
   -        svg.icon(aria-hidden="true" class=anima_value)
   +        svg.social_icon(aria-hidden="true" class=anima_value)
             use(xlink:href=`#`+ icon_value)
   ```

   ä¸Šé¢çš„æ”¹åŠ¨ä¼šå°†å›¾æ ‡æ¸²æŸ“æˆ`class=social_icon`çš„æ ‡ç­¾ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥åŒºåˆ†èœå•æ è¿˜æ˜¯ç¤¾äº¤çš„å›¾æ ‡çš„ï¼Œå¦‚æœæƒ³è°ƒèŠ‚ç¤¾äº¤å›¾æ ‡çš„å¤§å°å°±ç”¨ä»¥ä¸‹çš„css

   ```CSS
   /* social å›¾æ ‡ */
   svg.social_icon {
       width: 1.20em;
       height: 1.20em;
       vertical-align: -0.15em;
       fill: currentColor;
       overflow: hidden;
   }
   /* social å›¾æ ‡end */
   ```

   ä¸¾ä¸€åä¸‰ï¼Œè¦æƒ³ä¸“é—¨ç”¨cssæ”¹åŠ¨èœå•æ å›¾æ ‡å¤§å°ï¼Œåªéœ€è¦å°†`[BlogRoot]\themes\butterfly\layout\includes\header\menu_item.pug`æ–‡ä»¶ä¸­çš„`svg.icon`æ›¿æ¢æˆ`svg.menu_icon`ï¼Œç„¶åç”¨ä»¥ä¸‹çš„css

   ```CSS
   svg.menu_icon {
     width: 1.28em;
     height: 1.28em;
     vertical-align: -0.15em;
     fill: currentColor;
     overflow: hidden;
   }
   ```

5. é‡å¯é¡¹ç›®å³å¯çœ‹åˆ°æ•ˆæœï¼š

   ```bash
   # git bash
   hexo cl && hexo g && hexo s
   # vscode
   hexo cl; hexo g; hexo s
   ```

{% endfolding %}

# ä¾§è¾¹æ å›¾æ ‡å’Œæ–‡å­—è‡ªå®šä¹‰

{% folding cyan,ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ %}

{% hideBlock é¢„è§ˆæ•ˆæœ %}

![image-20240306161413744](https://img-blog.csdnimg.cn/img_convert/5ca56f53ea846b5b40d29a148a20eb42.png)

{% endhideBlock %}

{% note warning flat%}

è¿™é‡Œçš„å›¾æ ‡ä¹Ÿæ˜¯ç”¨çš„iconfontçš„ï¼Œè¯·å®Œæˆå‰é¢çš„å›¾æ ‡å¼•å…¥æ•™ç¨‹ï¼ç”±äºä¾§è¾¹æ æ¯”è¾ƒå¤šï¼Œè¿™é‡Œå°±æ¼”ç¤ºæ”¹ç½‘ç«™ä¿¡æ¯ï¼Œå‰©ä¸‹çš„ä¾§è¾¹æ æ”¹æ³•å‡ ä¹ä¸€æ ·çš„ï¼ï¼ˆè®°ä½è¦å¼•å…¥äº†è‡ªå·±çš„å›¾æ ‡å†æ¥çœ‹è¿™ä¸ªæ•™ç¨‹ï¼ï¼ï¼ï¼‰

{% endnote %}



1. è¿›å…¥`[BlogRoot]\themes\butterfly\layout\includes\widget\card_webinfo.pug`ï¼Œè¿›è¡Œä»¥ä¸‹ä¿®æ”¹ï¼Œå› ä¸ºé»˜è®¤çš„å›¾æ ‡æ˜¯`font-awesome`çš„é»‘ç™½å›¾æ ‡ï¼Œå°±æ˜¯`i.fas.fa-chart-line`é‚£ä¸€è¡Œï¼Œåˆ é™¤ï¼Œç„¶åå¼•å…¥æ–°çš„å›¾æ ‡æ ‡ç­¾ï¼Œå…¶ä¸­å›¾æ ‡çš„æ ·å¼ã€åç§°ç­‰å‚è€ƒè‡ªå·±çš„éœ€è¦è¿›è¡Œæ›´æ”¹ï¼Œæ ·å¼ä¸»è¦æ˜¯`width`ã€`height`ã€`position`ã€`top`è¿™å‡ ä¸ªå±æ€§ï¼Œè¿™é‡Œçš„`animated-hover`å’Œ`faa-tada`æ˜¯ç»™å¯¹åº”çš„å…ƒç´ å¥—ä¸Šå¯¹åº”çš„classï¼Œå¦‚æœè£…äº†åŠ¨ç”»ä¾èµ–ï¼Œæ‰«æåˆ°è¿™äº›classçš„å…ƒç´ ä¼šè‡ªåŠ¨æŒ‚è½½åŠ¨ç”»æ ·å¼ï¼Œå¦‚æœä¸æƒ³è¦å¯ä»¥å»é™¤ã€‚

   ```DIFF
   if theme.aside.card_webinfo.enable
     .card-widget.card-webinfo
       .item-headline
   -      i.fas.fa-chart-line
   +      a.faa-parent.animated-hover
   +       svg.faa-tada.icon(style="height:25px;width:25px;fill:currentColor;position:relative;top:5px" aria-hidden="true")
   +        use(xlink:href='#icon-tongji')
         span= _p('aside.card_webinfo.headline')
       .webinfo
         if theme.aside.card_webinfo.post_count
           .webinfo-item
             .item-name= _p('aside.card_webinfo.article_name') + " :"
             .item-count= site.posts.length
         if theme.runtimeshow.enable
           .webinfo-item
             .item-name= _p('aside.card_webinfo.runtime.name') + " :"
             .item-count#runtimeshow(data-publishDate=date_xml(theme.runtimeshow.publish_date))
               i.fa-solid.fa-spinner.fa-spin
         if theme.wordcount.enable && theme.wordcount.total_wordcount
           .webinfo-item
             .item-name=_p('aside.card_webinfo.site_wordcount') + " :"
             .item-count=totalcount(site)
         if theme.busuanzi.site_uv
           .webinfo-item
             .item-name= _p('aside.card_webinfo.site_uv_name') + " :"
             .item-count#busuanzi_value_site_uv
               i.fa-solid.fa-spinner.fa-spin
         if theme.busuanzi.site_pv
           .webinfo-item
             .item-name= _p('aside.card_webinfo.site_pv_name') + " :"
             .item-count#busuanzi_value_site_pv
               i.fa-solid.fa-spinner.fa-spin
         if theme.aside.card_webinfo.last_push_date
           .webinfo-item
             .item-name= _p('aside.card_webinfo.last_push_date.name') + " :"
             .item-count#last-push-date(data-lastPushDate=date_xml(Date.now()))
               i.fa-solid.fa-spinner.fa-spin
   ```

2. æ¥ä¸‹æ¥å°±æ˜¯æ”¹æ–‡äº†ï¼Œæ³¨æ„åˆ°ç¬¬8è¡Œçš„`span= _p('aside.card_webinfo.headline')`ï¼Œè¿™è¡Œä»£ç å°±æ˜¯æ¸²æŸ“å›¾æ ‡åé¢çš„æ–‡å­—ï¼Œæˆ‘ä»¬å…¶å®å¯ä»¥ç›´æ¥æ”¹æˆ`span= _p('å°ç«™èµ„è®¯')`ï¼Œè¿™æ ·å°±å·²ç»æŒ‰ç…§è‡ªå·±çš„æ–‡å­—æ˜¾ç¤ºäº†ï¼Œä½†æ˜¯ä¸ºäº†æ›´å¥½ç»´æŠ¤ï¼Œæˆ‘ä»¬éµå¾ªä¸»é¢˜çš„è®¾è®¡åŸåˆ™ï¼Œæ³¨æ„åˆ°å˜é‡`aside.card_webinfo.headline`ï¼Œè¿™å…¶å®æ˜¯åœ¨å†™å¥½çš„è¯­è¨€åŒ…ä¸­æ‰«æå¯¹åº”çš„å€¼ï¼Œå› ä¸ºä¸åŒçš„è¯­è¨€å¯¹åº”ä¸åŒçš„æ–‡å­—ï¼Œå¦‚æœæˆ‘ä»¬è®¾ç½®äº†è¯­è¨€ä¸º`zh-CN`é‚£ä¹ˆå°±åˆ°`[BlogRoot]\themes\butterfly\languages\zh-CN.yml`è¿›è¡Œä¿®æ”¹ã€‚`yml`æ–‡ä»¶æ˜¯ä»¥ç¼©è¿›åŒºåˆ†å±‚çº§çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å¯»æ‰¾`aside`->`card_webinfo`->`headline`è¿™ä¸€é¡¹ä¿®æ”¹ä¸ºè‡ªå·±å–œæ¬¢çš„å†…å®¹å³å¯

   ```DIFF
   aside:
     articles: æ–‡ç« 
     tags: æ ‡ç­¾
     categories: åˆ†ç±»
     card_announcement: å…¬å‘Šæ 
     card_categories: åˆ†ç±»
     card_tags: æ ‡ç­¾
     card_archives: å½’æ¡£
     card_recent_post: æœ€æ–°æ–‡ç« 
     card_friend_link: é€šè®¯å½•
     card_webinfo:
   -    headline: ç½‘ç«™èµ„è®¯
   +    headline: ç½‘ç«™èµ„è®¯
       article_name: æ–‡ç« æ•°ç›®
       runtime:
         name: å·²è¿è¡Œæ—¶é—´
         unit: å¤©
       last_push_date:
         name: æœ€åæ›´æ–°æ—¶é—´
       site_wordcount: æœ¬ç«™æ€»å­—æ•°
       site_uv_name: æœ¬ç«™è®¿å®¢æ•°
       site_pv_name: æœ¬ç«™æ€»è®¿é—®é‡
     more_button: æŸ¥çœ‹æ›´å¤š
     card_newest_comments:
       headline: æœ€æ–°è¯„è®º
       loading_text: æ­£åœ¨åŠ è½½ä¸­...
       error: æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®
       zero: æ²¡æœ‰è¯„è®º
       image: å›¾ç‰‡
       link: é“¾æ¥
       code: ä»£ç 
     card_toc: ç›®å½•
   ```

3. æœ€åé‡æ–°ç¼–è¯‘è¿è¡Œå³å¯çœ‹è§æ•ˆæœã€‚

   ```BASH
   # git bash
   hexo cl && hexo g && hexo s
   # vscode
   hexo cl; hexo g; hexo s
   ```

{% endfolding %}

# æœ¬ç«™åŒæ¬¾é¡µè„šï¼ˆtzyå¤§ä½¬+å¾®è°ƒï¼‰

{% folding cyan,ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ %}

{% hideBlock é¢„è§ˆæ•ˆæœ %}

![image-20240306213501953](https://img-blog.csdnimg.cn/img_convert/6d0a6fc9f05a4f7dd95e1a2f87a0b088.png)

{% endhideBlock %}



1. å°†`[BlogRoot]/themes/butterfly/layout/includes/footer.pug`æ›¿æ¢æˆå¦‚ä¸‹ä»£ç è¿™å—ä¸œè¥¿åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯ä»¥`#ft`ä¸ºå—çš„DOMï¼Œå…¶ä¸­åˆ†ä¸ºäº†`æ ¼è¨€`ã€`çŒœä½ æƒ³çœ‹`ã€`æ¨èå‹é“¾`ä¸‰éƒ¨åˆ†ï¼Œå‚è€ƒå›¾ä¸­çš„ä½ç½®ç»“åˆè‡ªå·±çš„å–œå¥½è¿›è¡Œä¿®æ”¹å³å¯ï¼Œå›¾åƒã€æ–‡å­—å’Œé“¾æ¥å‡æ›¿æ¢æˆä½ è‡ªå·±çš„ï¼ˆè®°ä½ä¸è¦ç”¨æˆ‘çš„é“¾æ¥ï¼ï¼ï¼ï¼‰ï¼›`if theme.footer.owner.enable`èµ·è¿™ä¸€å—æ˜¯ä¸»é¢˜æŒ‡å®šçš„ä¿¡æ¯ç‰ˆæƒä¿¡æ¯ï¼Œæˆ‘æŠŠä¸»é¢˜é…ç½®é¡¹çš„`copyright`å’Œ`custom_text`è¿™ä¸¤é¡¹ç•™ç©ºäº†ï¼Œå› æ­¤åªä¼šæ˜¾ç¤º`Â©2022 By FomalhautğŸ¥`ï¼›å†ç„¶åå°±æ˜¯`#workboard`è¿™å—ï¼Œè¿™å—çš„ä¿¡æ¯ç”±jsé€»è¾‘å†™å…¥ä¸æ›´æ–°ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼›æœ€åæ˜¯`p#ghbdages`è¿™å—ï¼Œæ˜¯å¾½æ ‡æ˜¾ç¤ºï¼Œå¤§å®¶å¯ä»¥åˆ°[shields.io](https://shields.io/)æŒ‰ç…§è‡ªå·±çš„ä¿¡æ¯ç”Ÿæˆï¼ˆä¸è¦ç”¨æˆ‘çš„ï¼ï¼ï¼ï¼‰:

   ```stylus
   #footer-wrap
     #ft
       .ft-item-1
         .t-top
           .t-t-l
             p.ft-t.t-l-t æ ¼è¨€ğŸ§¬
             .bg-ad
               div
                 | å†çœ‹çœ‹é‚£ä¸ªå…‰ç‚¹ï¼Œå®ƒå°±åœ¨è¿™é‡Œï¼Œè¿™æ˜¯å®¶å›­ï¼Œè¿™æ˜¯æˆ‘ä»¬ â€”â€” ä½ æ‰€çˆ±çš„æ¯ä¸€ä¸ªäººï¼Œä½ è®¤è¯†çš„ä¸€ä¸ªäººï¼Œä½ å¬è¯´è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œæ›¾ç»æœ‰è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œéƒ½åœ¨å®ƒä¸Šé¢åº¦è¿‡ä»–ä»¬çš„ä¸€ç”Ÿâœ¨
               .btn-xz-box
                 a.btn-xz(href='https://stellarium.org/') ç‚¹å‡»å¼€å¯æ˜Ÿè¾°ä¹‹æ—…
           .t-t-r
             p.ft-t.t-l-t çŒœä½ æƒ³çœ‹ğŸ’¡
             ul.ft-links
               li
                 a(href='/posts/eec9786.html') é­”æ”¹æŒ‡å—
                 a(href='/box/nav/') ç½‘å€å¯¼èˆª
               li
                 a(href='/social/link/') æˆ‘çš„æœ‹å‹
                 a(href='/comments/') ç•™ç‚¹ä»€ä¹ˆ
               li
                 a(href='/personal/about/') å…³äºä½œè€…
                 a(href='/archives/') æ–‡ç« å½’æ¡£
               li
                 a(href='/categories/') æ–‡ç« åˆ†ç±»
                 a(href='/tags/') æ–‡ç« æ ‡ç­¾
               li
                 a(href='/box/Gallery/') æˆ‘çš„ç”»å»Š
                 a(href='/personal/bb/') æˆ‘çš„å” å¨
               li
                 a(href='/site/time/') å»ºè®¾è¿›ç¨‹
                 a(href='/site/census/') ç½‘ç«™ç»Ÿè®¡
       .ft-item-2
         p.ft-t æ¨èå‹é“¾âŒ›
         .ft-img-group
           .img-group-item
             a(href='https://www.fomal.cc/' title='FomalhautğŸ¥')
               img(src='https://lskypro.acozycotage.net/LightPicture/2022/12/60e5d4e39da7c077.webp' alt='')
           .img-group-item
             a(href='https://tzy1997.com/' title='å”å¿—è¿œã®åšå®¢')
               img(src='https://lskypro.acozycotage.net/LightPicture/2022/12/4ab83cdce942463b.jpg' alt='')
           .img-group-item
             a(href='https://akilar.top/' title='Akilarã®ç³–æœå±‹')
               img(src='https://lskypro.acozycotage.net/LightPicture/2022/12/6bf1ed05796db59c.jpg' alt='')
           .img-group-item
             a(href='https://butterfly.js.org/' title='Butterfly')
               img(src='https://lskypro.acozycotage.net/LightPicture/2022/12/64cc6a7d508026e1.png' alt='')
           .img-group-item
             a(href='https://anzhiy.cn/' title='å®‰çŸ¥é±¼')
               img(src='https://lskypro.acozycotage.net/LightPicture/2022/12/1b33fef8f5fb7e63.jpg' alt='')
           .img-group-item
             a(href='https://www.acozycotage.net/' title='Acozycotage')
               img(src='https://lskypro.acozycotage.net/LightPicture/2022/12/6a6fe6ebfd19c465.jpg' alt='')
           .img-group-item
             a(href='https://cdn.netdun.net/' title='ç½‘ç›¾æ˜Ÿçƒ')
               img(src='https://lskypro.acozycotage.net/LightPicture/2022/12/70dee3f9d1ca10f3.webp' alt='')
           .img-group-item
             a(href='javascript:void(0)' title='å¹¿å‘Šä½æ‹›ç§Ÿ')
               img(src='https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp' alt='')
   
     if theme.footer.owner.enable
       - var now = new Date()
       - var nowYear = now.getFullYear()
       if theme.footer.owner.since && theme.footer.owner.since != nowYear
         .copyright
           span!= `<b>&copy;${theme.footer.owner.since} - ${nowYear}</b>`
           span!= `<b>&nbsp;&nbsp;By ${config.author}</b>`
       else
          .copyright
            span!= `<b>&copy;${nowYear}</b>`
            span!= `<b>&nbsp;&nbsp;By ${config.author}</b>`
     if theme.footer.copyright
       .framework-info
         span= _p('footer.framework') + ' '
         a(href='https://hexo.io')= 'Hexo'
         span.footer-separator |
         span= _p('footer.theme') + ' '
         a(href='https://github.com/jerryc127/hexo-theme-butterfly')= 'Butterfly'
     if theme.footer.custom_text
       .footer_custom_text!=`${theme.footer.custom_text}`
       
     #workboard
     
     p#ghbdages
       a.github-badge(target='_blank' href="https://hexo.io/" style='margin-inline:5px' title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.3.0")
         img(src="https://sourcebucket.s3.ladydaily.com/badge/Frame-Hexo-blue.svg" alt='')
   
       a.github-badge(target='_blank' href="https://butterfly.js.org/" style='margin-inline:5px' title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1")
         img(src="https://sourcebucket.s3.ladydaily.com/badge/Theme-Butterfly-6513df.svg" alt='')
   
       a.github-badge(target='_blank' href="https://vercel.com/" style='margin-inline:5px' title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œä¸»çº¿è·¯æ‰˜ç®¡äºVercel")
         img(src="https://sourcebucket.s3.ladydaily.com/badge/Hosted-Vercel-brightgreen.svg" alt='')
   
       a.github-badge(target='_blank' href="https://user.51.la/" style='margin-inline:5px' title="æœ¬ç«™æ•°æ®åˆ†æå¾—ç›Šäº51laæŠ€æœ¯æ”¯æŒ")
         img(src="https://sourcebucket.s3.ladydaily.com/badge/Analytics-51la-3db1eb.svg" alt='')
   
       a.github-badge(target='_blank' href="https://icp.gov.moe/?keyword=20226665" style='margin-inline:5px' title="æœ¬ç«™å·²åŠ å…¥èŒICPè±ªåå¥—é¤ï¼ŒèŒICPå¤‡20226665å·")
         img(src="https://sourcebucket.s3.ladydaily.com/badge/èŒICPå¤‡-20226665-fe1384.svg" alt='')
   
       a.github-badge(target='_blank' href="https://bitiful.dogecast.com/buckets" style='margin-inline:5px' title="æœ¬ç½‘ç«™ç»Service Workeråˆ†æµè‡³ç¼¤çº·äº‘å¯¹è±¡å­˜å‚¨")
         img(src=" https://sourcebucket.s3.ladydaily.com/badge/Bucket-ç¼¤çº·äº‘-9c62da.svg" alt='')
   
       a.github-badge(target='_blank' href="https://www.netdun.net/" style='margin-inline:5px' title="æœ¬ç«™ä½¿ç”¨ç½‘ç›¾æ˜Ÿçƒæä¾›CDNåŠ é€Ÿä¸é˜²æŠ¤")
         img(src="https://sourcebucket.s3.ladydaily.com/badge/CDN-ç½‘ç›¾æ˜Ÿçƒ-fff2cc.svg" alt='')
   
       a.github-badge(target='_blank' href="https://github.com/" style='margin-inline:5px' title="æœ¬ç½‘ç«™æºç ç”±Githubæä¾›å­˜å‚¨ä»“åº“")
         img(src=" https://sourcebucket.s3.ladydaily.com/badge/Source-Github-d021d6.svg" alt='')
   ```

2. å°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°è‡ªå®šä¹‰çš„`custom.css`ä¸­ï¼Œå…¶ä¸­é¢œè‰²ã€åœ†è§’ç­‰å¯ä»¥æ ¹æ®ä½ è‡ªå·±çš„å–œå¥½è¿›è¡Œä¿®æ”¹:

   ```CSS
   /*----------------------------- é¡µè„šæ ·å¼ -----------------------------------*/
   /* tzyé¡µè„šæ ·å¼ */
   #ft {
     max-width: 1200px;
     margin: 0 auto 12px;
     display: flex;
     color: rgb(255 255 255 / 80%) !important;
     text-align: left;
     flex-wrap: wrap;
   }
   
   .ft-item-1,
   .ft-item-2 {
     display: flex;
     height: 100%;
     padding: 2px 14px;
   }
   
   .ft-item-1 {
     flex-direction: column;
     flex: 2;
   }
   
   .ft-item-2 {
     flex: 1;
     flex-direction: column;
   }
   
   .t-top {
     display: flex;
   }
   
   .t-top .t-t-l {
     display: flex;
     flex-direction: column;
     flex: 1.4;
     margin-right: 10px;
   }
   
   .t-top .t-t-l .bg-ad {
     width: 85%;
     border-radius: 10px;
     padding: 0 10px;
   }
   
   .btn-xz-box {
     margin-top: 10px;
   }
   
   /* æŒ‰é’®èƒŒæ™¯é¢œè‰²ç­‰ */
   .btn-xz {
     display: block;
     background-color: var(--btn-bg);
     color: var(--btn-color);
     text-align: center;
     line-height: 2.4;
     margin: 8px 0;
   }
   
   .btn-xz:hover {
     text-decoration: none !important;
   }
   /* æŒ‰é’®æ‚¬æµ®é¢œè‰² */
   .btn-xz-box:hover .btn-xz {
     background-color: var(--text-bg-hover);
   }
   
   .t-top .t-t-r {
     display: flex;
     flex-direction: column;
     flex: 1;
   }
   
   .ft-links {
     padding: 0 14px;
     list-style: none;
     margin-top: 0 !important;
   }
   
   .ft-links li a {
     display: inline-block !important;
     width: 50%;
   }
   /* é“¾æ¥æ‚¬æµ®é¢œè‰² */
   .ft-links li a:hover {
     text-decoration: none !important;
     color: var(--theme-color) !important;
   }
   
   .ft-item-2 .ft-img-group {
     width: 100%;
   }
   
   .ft-t {
     font-size: 1.1rem;
     margin-bottom: 20px;
     line-height: 1;
     font-weight: 600;
   }
   
   .t-l-t {
     padding-left: 14px;
   }
   
   .ft-item-2 .ft-img-group .img-group-item {
     display: inline-block;
     width: 18.4%;
     margin-right: 14px;
     margin-bottom: 6px;
   }
   
   .ft-item-2 .ft-img-group .img-group-item a {
     display: inline-block;
     width: 100%;
     height: 100%;
   }
   
   .ft-item-2 .ft-img-group .img-group-item a img {
     width: 100%;
     max-height: 80px;
     border-radius: 10px;
   }
   /* å¤´åƒæ‚¬æµ®é¢œè‰²æ¡† */
   .ft-item-2 .ft-img-group .img-group-item a img:hover {
     border: 2px solid var(--theme-color);
   }
   
   @media screen and (max-width: 768px) {
     .ft-item-1 {
       flex-basis: 100% !important;
     }
   
     .ft-item-2 {
       flex-basis: 100% !important;
     }
   
     .t-top .t-t-l .bg-ad {
       width: 100%;
     }
   }
   
   @media screen and (max-width: 576px) {
     .t-top {
       flex-wrap: wrap;
     }
   
     .t-top .t-t-l {
       flex-basis: 100% !important;
     }
   
     .t-top .t-t-r {
       margin-top: 16px;
       flex-basis: 100% !important;
     }
   }
   #footer-wrap a {
     border-radius: 30px;
   }
   #footer-wrap {
     padding: 20px 20px;
   }
   
   /* é¡µè„šå¿ƒè·³åŠ¨ç”» */
   #heartbeat {
     color: red;
     animation: iconAnimate 1s ease-in-out infinite;
   }
   @-moz-keyframes iconAnimate {
     0%,
     100% {
       transform: scale(1);
     }
     10%,
     30% {
       transform: scale(0.9);
     }
     20%,
     40%,
     60%,
     80% {
       transform: scale(1.1);
     }
     50%,
     70% {
       transform: scale(1.1);
     }
   }
   @-webkit-keyframes iconAnimate {
     0%,
     100% {
       transform: scale(1);
     }
     10%,
     30% {
       transform: scale(0.9);
     }
     20%,
     40%,
     60%,
     80% {
       transform: scale(1.1);
     }
     50%,
     70% {
       transform: scale(1.1);
     }
   }
   @-o-keyframes iconAnimate {
     0%,
     100% {
       transform: scale(1);
     }
     10%,
     30% {
       transform: scale(0.9);
     }
     20%,
     40%,
     60%,
     80% {
       transform: scale(1.1);
     }
     50%,
     70% {
       transform: scale(1.1);
     }
   }
   @keyframes iconAnimate {
     0%,
     100% {
       transform: scale(1);
     }
     10%,
     30% {
       transform: scale(0.9);
     }
     20%,
     40%,
     60%,
     80% {
       transform: scale(1.1);
     }
     50%,
     70% {
       transform: scale(1.1);
     }
   }
   /*----------------------------- end -----------------------------------*/
   ```

3. ç„¶åè®¡æ—¶å™¨è¿˜è¦å¾€`#footer-wrap`è¿™å—å…ƒç´ ä¸Šé¢å†™å…¥ç½‘ç«™è¿è¡Œæ—¶é—´ç­‰ä¿¡æ¯ï¼Œæ–°å»ºæ–‡ä»¶`[BlogRoot]\source\js\runtime.js`ï¼Œå†™å…¥å¦‚ä¸‹ä»£ç ã€‚è¿™é‡Œè¦ä¿®æ”¹çš„å‡ å—ä¸œè¥¿æ˜¯ï¼š`ç½‘ç«™è¯ç”Ÿæ—¶é—´`ã€`currentTimeHtml`è¿™å—ä¸œè¥¿ï¼›å…¶ä¸­`currentTimeHtml`åˆ†ä¸ºäº†ä¸¤ç§æ¨¡å¼ï¼Œå¯¹åº”ä¸¤ä¸ªä¸åŒçš„å›¾æ ‡ï¼Œè‡ªè¡Œç ”ç©¶ä¸€ä¸‹å°±æ‡‚ï¼

   ```JS
   var now = new Date();
   function createtime() {
     // å½“å‰æ—¶é—´
     now.setTime(now.getTime() + 1000);
     var start = new Date("08/01/2022 00:00:00"); // æ—…è¡Œè€…1å·å¼€å§‹è®¡ç®—çš„æ—¶é—´
     var dis = Math.trunc(23400000000 + ((now - start) / 1000) * 17); // è·ç¦»=ç§’æ•°*é€Ÿåº¦ è®°ä½è½¬æ¢æ¯«ç§’
     var unit = (dis / 149600000).toFixed(6);  // å¤©æ–‡å•ä½
     var grt = new Date("02/21/2024 00:00:00");	// ç½‘ç«™è¯ç”Ÿæ—¶é—´
     var days = (now - grt) / 1e3 / 60 / 60 / 24,
       dnum = Math.floor(days),
       hours = (now - grt) / 1e3 / 60 / 60 - 24 * dnum,
       hnum = Math.floor(hours);
     1 == String(hnum).length && (hnum = "0" + hnum);
     var minutes = (now - grt) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
       mnum = Math.floor(minutes);
     1 == String(mnum).length && (mnum = "0" + mnum);
     var seconds = (now - grt) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
       snum = Math.round(seconds);
     1 == String(snum).length && (snum = "0" + snum);
     let currentTimeHtml = "";
     (currentTimeHtml =
       hnum < 18 && hnum >= 9
       ? `<img class='boardsign' src='https://img.shields.io/badge/-è¥ä¸šä¸­-6adea8?style=social&logo=cakephp' title='ä»€ä¹ˆæ—¶å€™èƒ½å¤Ÿå®ç°è´¢å¯Œè‡ªç”±å‘€~'><br> <div style="font-size:13px;font-weight:bold">æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤© ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ <i id="heartbeat" class='fas fa-heartbeat'></i> <br> æ—…è¡Œè€… 1 å·å½“å‰è·ç¦»åœ°çƒ ${dis} åƒç±³ï¼Œçº¦ä¸º ${unit} ä¸ªå¤©æ–‡å•ä½ ğŸš€</div>`
       : `<img class='boardsign' src='https://img.shields.io/badge/-æ‰“çƒŠäº†-6adea8?style=social&logo=coffeescript' title='ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒåœ°ç©è€~'><br> <div style="font-size:13px;font-weight:bold">æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤© ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ <i id="heartbeat" class='fas fa-heartbeat'></i> <br> æ—…è¡Œè€… 1 å·å½“å‰è·ç¦»åœ°çƒ ${dis} åƒç±³ï¼Œçº¦ä¸º ${unit} ä¸ªå¤©æ–‡å•ä½ ğŸš€</div>`),
       document.getElementById("workboard") &&
       (document.getElementById("workboard").innerHTML = currentTimeHtml);
   }
   // è®¾ç½®é‡å¤æ‰§è¡Œå‡½æ•°ï¼Œå‘¨æœŸ1000ms
   setInterval(() => {
     createtime();
   }, 1000);
   ```

4. åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶`_config.butterfly.yml`å¼•å…¥è¯¥`runtime.js`æ–‡ä»¶ï¼š

   ```DIFF
   inject:
     bottom: 
   +    - <script defer src="/js/runtime.js"></script> # é¡µè„šè®¡æ—¶å™¨
   ```

5. åˆ°è¿™é‡Œä½ å·²ç»æˆåŠŸäº† 99.99%ï¼Œæœ€åé‡æ–°ç¼–è¯‘è¿è¡Œå³å¯çœ‹è§æ•ˆæœ

   ```BASH
   # git bash
   hexo cl && hexo g && hexo s
   # vscode
   hexo cl; hexo g; hexo s
   ```

{% endfolding %}



# æ¬¢è¿ä¿¡æ¯æ˜¾ç¤ºåœ°ç†ä½ç½®

{% folding cyan,ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ %}

{% hideBlock é¢„è§ˆæ•ˆæœ %}

![image-20240307145548335](https://img-blog.csdnimg.cn/img_convert/c0c4e9bb6922f42ece45bed42cf85370.png)

{% endhideBlock %}



è¯¦è§ï¼š[ç»™åšå®¢æ·»åŠ è…¾è®¯åœ°å›¾å®šä½å¹¶åˆ¶ä½œä¸ªæ€§æ¬¢è¿](https://ichika.cc/Article/beautiful_IPLocation/)

1. è·å–`API Key`ï¼šè¿›å…¥[è…¾è®¯ä½ç½®æœåŠ¡](https://lbs.qq.com/dev/console/application/mine)åº”ç”¨ç®¡ç†ç•Œé¢ï¼Œç‚¹å‡»åˆ›å»ºåº”ç”¨ï¼Œåº”ç”¨åç§°å’Œç±»å‹éšä¾¿å¡«ã€‚åœ¨æ–°åˆ›å»ºçš„åº”ç”¨ä¸­ç‚¹å‡»æ·»åŠ `key`ï¼Œäº§å“é€‰æ‹©`WebServiceAPI`ï¼ŒåŸŸåç™½åå•å¡«è‡ªå·±çš„åŸŸåæˆ–ä¸å¡«ã€‚æŠŠå¾—åˆ°çš„keyè®°ä¸‹ã€‚å¦‚æœå¼€å¯ç™½åå•è®°å¾—æŠŠlocalhostä¹ŸåŠ ä¸Š

   ![img](https://img-blog.csdnimg.cn/img_convert/b7278f074e2ef0bf24db032abceca602.webp?x-oss-process=image/format,png)

2. æ–°å»º`[BlogRoot]\source\js\txmap.js`ï¼Œå¹¶å†™å…¥å¦‚ä¸‹ä»£ç ï¼Œè®°ä½æ›¿æ¢keyçš„å†…å®¹ï¼š

   ```JS
   //getè¯·æ±‚
   $.ajax({
       type: 'get',
       url: 'https://apis.map.qq.com/ws/location/v1/ip',
       data: {
           key: 'ä½ çš„key',
           output: 'jsonp',
       },
       dataType: 'jsonp',
       success: function (res) {
           ipLoacation = res;
       }
   })
   function getDistance(e1, n1, e2, n2) {
       const R = 6371
       const { sin, cos, asin, PI, hypot } = Math
       let getPoint = (e, n) => {
           e *= PI / 180
           n *= PI / 180
           return { x: cos(n) * cos(e), y: cos(n) * sin(e), z: sin(n) }
       }
   
       let a = getPoint(e1, n1)
       let b = getPoint(e2, n2)
       let c = hypot(a.x - b.x, a.y - b.y, a.z - b.z)
       let r = asin(c / 2) * 2 * R
       return Math.round(r);
   }
   
   function showWelcome() {
   
       let dist = getDistance(113.34499552, 23.15537143, ipLoacation.result.location.lng, ipLoacation.result.location.lat); //è¿™é‡Œæ¢æˆè‡ªå·±çš„ç»çº¬åº¦
       let pos = ipLoacation.result.ad_info.nation;
       let ip;
       let posdesc;
       //æ ¹æ®å›½å®¶ã€çœä»½ã€åŸå¸‚ä¿¡æ¯è‡ªå®šä¹‰æ¬¢è¿è¯­
       switch (ipLoacation.result.ad_info.nation) {
           case "æ—¥æœ¬":
               posdesc = "ã‚ˆã‚ã—ãï¼Œä¸€èµ·å»çœ‹æ¨±èŠ±å—";
               break;
           case "ç¾å›½":
               posdesc = "Let us live in peace!";
               break;
           case "è‹±å›½":
               posdesc = "æƒ³åŒä½ ä¸€èµ·å¤œä¹˜ä¼¦æ•¦çœ¼";
               break;
           case "ä¿„ç½—æ–¯":
               posdesc = "å¹²äº†è¿™ç“¶ä¼ç‰¹åŠ ï¼";
               break;
           case "æ³•å›½":
               posdesc = "C'est La Vie";
               break;
           case "å¾·å›½":
               posdesc = "Die Zeit verging im Fluge.";
               break;
           case "æ¾³å¤§åˆ©äºš":
               posdesc = "ä¸€èµ·å»å¤§å ¡ç¤å§ï¼";
               break;
           case "åŠ æ‹¿å¤§":
               posdesc = "æ‹¾èµ·ä¸€ç‰‡æ«å¶èµ äºˆä½ ";
               break;
           case "ä¸­å›½":
               pos = ipLoacation.result.ad_info.province + " " + ipLoacation.result.ad_info.city + " " + ipLoacation.result.ad_info.district;
               ip = ipLoacation.result.ip;
               switch (ipLoacation.result.ad_info.province) {
                   case "åŒ—äº¬å¸‚":
                       posdesc = "åŒ—â€”â€”äº¬â€”â€”æ¬¢è¿ä½ ~~~";
                       break;
                   case "å¤©æ´¥å¸‚":
                       posdesc = "è®²æ®µç›¸å£°å§ã€‚";
                       break;
                   case "æ²³åŒ—çœ":
                       posdesc = "å±±åŠ¿å·å·æˆå£å’ï¼Œå¤©ä¸‹é›„å…³ã€‚é“é©¬é‡‘æˆˆç”±æ­¤å‘ï¼Œæ— é™æ±Ÿå±±ã€‚";
                       break;
                   case "å±±è¥¿çœ":
                       posdesc = "å±•å¼€åå…·é•¿ä¸‰å°ºï¼Œå·²å å±±æ²³äº”ç™¾ä½™ã€‚";
                       break;
                   case "å†…è’™å¤è‡ªæ²»åŒº":
                       posdesc = "å¤©è‹è‹ï¼Œé‡èŒ«èŒ«ï¼Œé£å¹è‰ä½è§ç‰›ç¾Šã€‚";
                       break;
                   case "è¾½å®çœ":
                       posdesc = "æˆ‘æƒ³åƒçƒ¤é¸¡æ¶ï¼";
                       break;
                   case "å‰æ—çœ":
                       posdesc = "çŠ¶å…ƒé˜å°±æ˜¯ä¸œåŒ—çƒ§çƒ¤ä¹‹ç‹ã€‚";
                       break;
                   case "é»‘é¾™æ±Ÿçœ":
                       posdesc = "å¾ˆå–œæ¬¢å“ˆå°”æ»¨å¤§å‰§é™¢ã€‚";
                       break;
                   case "ä¸Šæµ·å¸‚":
                       posdesc = "ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸­å›½åªæœ‰ä¸¤ä¸ªåŸå¸‚ã€‚";
                       break;
                   case "æ±Ÿè‹çœ":
                       switch (ipLoacation.result.ad_info.city) {
                           case "å—äº¬å¸‚":
                               posdesc = "è¿™æ˜¯æˆ‘æŒºæƒ³å»çš„åŸå¸‚å•¦ã€‚";
                               break;
                           case "è‹å·å¸‚":
                               posdesc = "ä¸Šæœ‰å¤©å ‚ï¼Œä¸‹æœ‰è‹æ­ã€‚";
                               break;
                           default:
                               posdesc = "æ•£è£…æ˜¯å¿…é¡»è¦æ•£è£…çš„ã€‚";
                               break;
                       }
                       break;
                   case "æµ™æ±Ÿçœ":
                       posdesc = "ä¸œé£æ¸ç»¿è¥¿æ¹–æŸ³ï¼Œé›å·²è¿˜äººæœªå—å½’ã€‚";
                       break;
                   case "æ²³å—çœ":
                       switch (ipLoacation.result.ad_info.city) {
                           case "éƒ‘å·å¸‚":
                               posdesc = "è±«å·ä¹‹åŸŸï¼Œå¤©åœ°ä¹‹ä¸­ã€‚";
                               break;
                           case "å—é˜³å¸‚":
                               posdesc = "è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³ã€‚æ­¤å—é˜³éå½¼å—é˜³ï¼";
                               break;
                           case "é©»é©¬åº—å¸‚":
                               posdesc = "å³°å³°æœ‰å¥‡çŸ³ï¼ŒçŸ³çŸ³æŒŸä»™æ°”ã€‚åµ–å²ˆå±±çš„èŠ±å¾ˆç¾å“¦ï¼";
                               break;
                           case "å¼€å°å¸‚":
                               posdesc = "åˆšæ­£ä¸é˜¿åŒ…é’å¤©ã€‚";
                               break;
                           case "æ´›é˜³å¸‚":
                               posdesc = "æ´›é˜³ç‰¡ä¸¹ç”²å¤©ä¸‹ã€‚";
                               break;
                           default:
                               posdesc = "å¯å¦å¸¦æˆ‘å“å°æ²³å—çƒ©é¢å•¦ï¼Ÿ";
                               break;
                       }
                       break;
                   case "å®‰å¾½çœ":
                       posdesc = "èšŒåŸ ä½äº†ï¼ŒèŠœæ¹–èµ·é£ã€‚";
                       break;
                   case "ç¦å»ºçœ":
                       posdesc = "äº•é‚‘ç™½äº‘é—´ï¼Œå²©åŸè¿œå¸¦å±±ã€‚";
                       break;
                   case "æ±Ÿè¥¿çœ":
                       posdesc = "è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²ã€‚";
                       break;
                   case "å±±ä¸œçœ":
                       posdesc = "é¥æœ›é½å·ä¹ç‚¹çƒŸï¼Œä¸€æ³“æµ·æ°´æ¯ä¸­æ³»ã€‚";
                       break;
                   case "æ¹–åŒ—çœ":
                       posdesc = "æ¥ç¢—çƒ­å¹²é¢ï¼";
                       break;
                   case "æ¹–å—çœ":
                       posdesc = "74751ï¼Œé•¿æ²™æ–¯å¡”å…‹ã€‚";
                       break;
                   case "å¹¿ä¸œçœ":
                       posdesc = "è€æ¿æ¥ä¸¤æ–¤ç¦å»ºäººã€‚";
                       break;
                   case "å¹¿è¥¿å£®æ—è‡ªæ²»åŒº":
                       posdesc = "æ¡‚æ—å±±æ°´ç”²å¤©ä¸‹ã€‚";
                       break;
                   case "æµ·å—çœ":
                       posdesc = "æœè§‚æ—¥å‡ºé€ç™½æµªï¼Œå¤•çœ‹äº‘èµ·æ”¶éœå…‰ã€‚";
                       break;
                   case "å››å·çœ":
                       posdesc = "åº·åº·å·å¦¹å­ã€‚";
                       break;
                   case "è´µå·çœ":
                       posdesc = "èŒ…å°ï¼Œå­¦ç”Ÿï¼Œå†å¡200ã€‚";
                       break;
                   case "äº‘å—çœ":
                       posdesc = "ç‰é¾™é£èˆäº‘ç¼ ç»•ï¼Œä¸‡ä»å†°å·ç›´è€¸å¤©ã€‚";
                       break;
                   case "è¥¿è—è‡ªæ²»åŒº":
                       posdesc = "èººåœ¨èŒ«èŒ«è‰åŸä¸Šï¼Œä»°æœ›è“å¤©ã€‚";
                       break;
                   case "é™•è¥¿çœ":
                       posdesc = "æ¥ä»½è‡Šå­é¢åŠ é¦ã€‚";
                       break;
                   case "ç”˜è‚ƒçœ":
                       posdesc = "ç¾Œç¬›ä½•é¡»æ€¨æ¨æŸ³ï¼Œæ˜¥é£ä¸åº¦ç‰é—¨å…³ã€‚";
                       break;
                   case "é’æµ·çœ":
                       posdesc = "ç‰›è‚‰å¹²å’Œè€é…¸å¥¶éƒ½å¥½å¥½åƒã€‚";
                       break;
                   case "å®å¤å›æ—è‡ªæ²»åŒº":
                       posdesc = "å¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ†ã€‚";
                       break;
                   case "æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº":
                       posdesc = "é©¼é“ƒå¤é“ä¸ç»¸è·¯ï¼Œèƒ¡é©¬çŠ¹é—»å”æ±‰é£ã€‚";
                       break;
                   case "å°æ¹¾çœ":
                       posdesc = "æˆ‘åœ¨è¿™å¤´ï¼Œå¤§é™†åœ¨é‚£å¤´ã€‚";
                       break;
                   case "é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº":
                       posdesc = "æ°¸å®šè´¼æœ‰æ®‹ç•™åœ°é¬¼åšï¼Œè¿å‡»å…‰éå²ç‰ã€‚";
                       break;
                   case "æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº":
                       posdesc = "æ€§æ„Ÿè·å®˜ï¼Œåœ¨çº¿å‘ç‰Œã€‚";
                       break;
                   default:
                       posdesc = "å¸¦æˆ‘å»ä½ çš„åŸå¸‚é€›é€›å§ï¼";
                       break;
               }
               break;
           default:
               posdesc = "å¸¦æˆ‘å»ä½ çš„å›½å®¶é€›é€›å§ã€‚";
               break;
       }
   
       //æ ¹æ®æœ¬åœ°æ—¶é—´åˆ‡æ¢æ¬¢è¿è¯­
       let timeChange;
       let date = new Date();
       if (date.getHours() >= 5 && date.getHours() < 11) timeChange = "<span>ä¸Šåˆå¥½</span>ï¼Œä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨ï¼";
       else if (date.getHours() >= 11 && date.getHours() < 13) timeChange = "<span>ä¸­åˆå¥½</span>ï¼Œè¯¥æ‘¸é±¼åƒåˆé¥­äº†ã€‚";
       else if (date.getHours() >= 13 && date.getHours() < 15) timeChange = "<span>ä¸‹åˆå¥½</span>ï¼Œæ‡’æ‡’åœ°ç¡ä¸ªåˆè§‰å§ï¼";
       else if (date.getHours() >= 15 && date.getHours() < 16) timeChange = "<span>ä¸‰ç‚¹å‡ å•¦</span>ï¼Œä¸€èµ·é¥®èŒ¶å‘€ï¼";
       else if (date.getHours() >= 16 && date.getHours() < 19) timeChange = "<span>å¤•é˜³æ— é™å¥½ï¼</span>";
       else if (date.getHours() >= 19 && date.getHours() < 24) timeChange = "<span>æ™šä¸Šå¥½</span>ï¼Œå¤œç”Ÿæ´»å—¨èµ·æ¥ï¼";
       else timeChange = "å¤œæ·±äº†ï¼Œæ—©ç‚¹ä¼‘æ¯ï¼Œå°‘ç†¬å¤œã€‚";
   
       try {
           //è‡ªå®šä¹‰æ–‡æœ¬å’Œéœ€è¦æ”¾çš„ä½ç½®
           document.getElementById("welcome-info").innerHTML =
               `<b><center>ğŸ‰ æ¬¢è¿ä¿¡æ¯ ğŸ‰</center>&emsp;&emsp;æ¬¢è¿æ¥è‡ª <span style="color:var(--theme-color)">${pos}</span> çš„å°ä¼™ä¼´ï¼Œ${timeChange}æ‚¨ç°åœ¨è·ç¦»ç«™é•¿çº¦ <span style="color:var(--theme-color)">${dist}</span> å…¬é‡Œï¼Œå½“å‰çš„IPåœ°å€ä¸ºï¼š <span style="color:var(--theme-color)">${ip}</span>ï¼Œ ${posdesc}</b>`;
       } catch (err) {
           // console.log("Pjaxæ— æ³•è·å–#welcome-infoå…ƒç´ ğŸ™„ğŸ™„ğŸ™„")
       }
   }
   window.onload = showWelcome;
   // å¦‚æœä½¿ç”¨äº†pjaxåœ¨åŠ ä¸Šä¸‹é¢è¿™è¡Œä»£ç 
   document.addEventListener('pjax:complete', showWelcome);
   ```

3. åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶`[BlogRoot]\_config.butterfly.yml`ä¸­å¼•å…¥jQueryä¾èµ–å’Œåˆšåˆšçš„jsæ–‡ä»¶ï¼š

   ```DIFF
   inject: 
     bottom: 
   +    - <script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script> # jQuery
   +    - <script async data-pjax src="/js/txmap.js"></script> # è…¾è®¯ä½ç½®API
   ```

4. åœ¨éœ€è¦å±•ç¤ºæ–‡æœ¬çš„å®¹å™¨ä¸Šæ·»åŠ ç›¸åº”idï¼ˆwelcome-infoï¼‰å°±å¯ä»¥äº†ï¼Œä¾‹å¦‚æˆ‘æƒ³æ·»åŠ åœ¨ç½‘ç«™å…¬å‘Šæ ä¿¡æ¯çš„ä¸‹æ–¹ï¼Œäºæ˜¯å°±åœ¨`[BlogRoot]\themes\butterfly\layout\includes\widget\card_announcement.pug`çš„æœ€åä¸€è¡ŒåŠ ä¸Šè¿™ä¸ªï¼Œç¼©è¿›ä¸ä¸Šä¸€è¡Œç›¸åŒå³å¯

   ```DIFF
       .announcement_content!= theme.aside.card_announcement.content
       //- æ·»åŠ æ¬¢è¿è®¿å®¢çš„ä¿¡æ¯
   +    #welcome-info
   ```

5. åœ¨`custom.css`è‡ªå®šä¹‰æ ·å¼é‡Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œå¯ä»¥æ ¹æ®ä½ è‡ªå·±çš„å–œå¥½å»æ”¹

   ```CSS
   /* æ¬¢è¿ä¿¡æ¯ */
   #welcome-info {
     background: linear-gradient(45deg, #b9f4f3, #e3fbf9);
     border-radius: 18px;
     padding: 8px;
   }
   [data-theme="dark"] #welcome-info {
     background: #212121;
   }
   ```

6. hexoä¸‰è¿å³å¯çœ‹åˆ°æ•ˆæœ

   ```BASH
   # git bash
   hexo cl && hexo g && hexo s
   # vscode
   hexo cl; hexo g; hexo s
   ```

{% endfolding %}



# å¬è¯çš„é¼ æ ‡é­”æ”¹

{% folding cyan,ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ %}

1. æ–°å»ºæ–‡ä»¶`[BlogRoot]\source\js\cursor.js`ï¼Œåœ¨é‡Œé¢å†™ä¸Šå¦‚ä¸‹ä»£ç ï¼š

   ```JS
   /* å¬è¯é¼ æ ‡ start */
   var CURSOR;
   
   Math.lerp = (a, b, n) => (1 - n) * a + n * b;
   
   const getStyle2 = (el, attr) => {
     try {
       return window.getComputedStyle
         ? window.getComputedStyle(el)[attr]
         : el.currentStyle[attr];
     } catch (e) { }
     return "";
   };
   
   // ä¸ºäº†å±è”½å¼‚æ­¥åŠ è½½å¯¼è‡´æ— æ³•è¯»å–é¢œè‰²å€¼ï¼Œè¿™é‡Œç»Ÿä¸€ç”¨å“ˆå¸Œè¡¨é¢„å¤„ç†
   const map = new Map();
   map.set('red', "rgb(241, 71, 71)");
   map.set('orange', "rgb(241, 162, 71)");
   map.set('yellow', "rgb(241, 238, 71)")
   map.set('purple', "rgb(179, 71, 241)");
   map.set('blue', "rgb(102, 204, 255)");
   map.set('gray', "rgb(226, 226, 226)");
   map.set('green', "rgb(57, 197, 187)");
   map.set('whitegray', "rgb(241, 241, 241)");
   map.set('pink', "rgb(237, 112, 155)");
   map.set('black', "rgb(0, 0, 0)");
   map.set('darkblue', "rgb(97, 100, 159)");
   map.set('heoblue', "rgb(66, 90, 239)");
   
   class Cursor {
     constructor() {
       this.pos = { curr: null, prev: null };
       this.pt = [];
       this.create();
       this.init();
       this.render();
     }
   
     move(left, top) {
       this.cursor.style["left"] = `${left}px`;
       this.cursor.style["top"] = `${top}px`;
     }
   
     create() {
       if (!this.cursor) {
         this.cursor = document.createElement("div");
         this.cursor.id = "cursor";
         this.cursor.classList.add("hidden");
         document.body.append(this.cursor);
       }
       var el = document.getElementsByTagName('*');
       for (let i = 0; i < el.length; i++)
         if (getStyle2(el[i], "cursor") == "pointer")
           this.pt.push(el[i].outerHTML);
       var colorVal = map.get('green');
       document.body.appendChild((this.scr = document.createElement("style")));
       this.scr.innerHTML = `* {cursor: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8' width='8px' height='8px'><circle cx='4' cy='4' r='4' opacity='1.0' fill='` + colorVal + `'/></svg>") 4 4, auto}`;
     }
   
     refresh() {
       this.scr.remove();
       this.cursor.classList.remove("hover");
       this.cursor.classList.remove("active");
       this.pos = { curr: null, prev: null };
       this.pt = [];
   
       this.create();
       this.init();
       this.render();
     }
   
     init() {
       document.onmouseover = e => this.pt.includes(e.target.outerHTML) && this.cursor.classList.add("hover");
       document.onmouseout = e => this.pt.includes(e.target.outerHTML) && this.cursor.classList.remove("hover");
       document.onmousemove = e => { (this.pos.curr == null) && this.move(e.clientX - 8, e.clientY - 8); this.pos.curr = { x: e.clientX - 8, y: e.clientY - 8 }; this.cursor.classList.remove("hidden"); };
       document.onmouseenter = e => this.cursor.classList.remove("hidden");
       document.onmouseleave = e => this.cursor.classList.add("hidden");
       document.onmousedown = e => this.cursor.classList.add("active");
       document.onmouseup = e => this.cursor.classList.remove("active");
     }
   
     render() {
       if (this.pos.prev) {
         // è·Ÿè¸ªé€Ÿåº¦è°ƒèŠ‚
         this.pos.prev.x = Math.lerp(this.pos.prev.x, this.pos.curr.x, 0.15);
         this.pos.prev.y = Math.lerp(this.pos.prev.y, this.pos.curr.y, 0.15);
         this.move(this.pos.prev.x, this.pos.prev.y);
       } else {
         this.pos.prev = this.pos.curr;
       }
       requestAnimationFrame(() => this.render());
     }
   }
   
   (() => {
     CURSOR = new Cursor();
     // éœ€è¦é‡æ–°è·å–åˆ—è¡¨æ—¶ï¼Œä½¿ç”¨ CURSOR.refresh()
   })();
   
   /* å¬è¯é¼ æ ‡ end */
   ```

   å…¶ä¸­æ¯”è¾ƒé‡è¦çš„å‚æ•°å°±æ˜¯é¼ æ ‡çš„å°ºå¯¸å’Œé¢œè‰²ï¼Œå·²ç»åœ¨ä¸Šå›¾ä¸­æ ‡å‡ºï¼Œç›®å‰å‘ç°é¢œè‰²åªæ”¯æŒRGBå†™æ³•å’Œå›ºæœ‰åç§°å†™æ³•ï¼ˆä¾‹å¦‚redè¿™ç§ï¼‰ï¼Œå…¶ä»–å‚æ•°ä¹Ÿå¯ä»¥è‡ªè¡Œæ‘¸ç´¢ï¼š

   ```css
   * {cursor: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8' width='8px' height='8px'><circle cx='4' cy='4' r='4' opacity='1.0' fill='` + colorVal + `'/></svg>") 4 4, auto}
   ```

2. åœ¨`[BlogRoot]\source\css\custom.css`æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š

   ```CSS
   /* é¼ æ ‡æ ·å¼ */
   #cursor {
     position: fixed;
     width: 16px;
     height: 16px;
     /* è¿™é‡Œæ”¹å˜è·Ÿéšçš„åº•è‰² */
     background: var(--theme-color);
     border-radius: 8px;
     opacity: 0.25;
     z-index: 10086;
     pointer-events: none;
     transition: 0.2s ease-in-out;
     transition-property: background, opacity, transform;
   }
   
   #cursor.hidden {
     opacity: 0;
   }
   
   #cursor.hover {
     opacity: 0.1;
     transform: scale(2.5);
     -webkit-transform: scale(2.5);
     -moz-transform: scale(2.5);
     -ms-transform: scale(2.5);
     -o-transform: scale(2.5);
   }
   
   #cursor.active {
     opacity: 0.5;
     transform: scale(0.5);
     -webkit-transform: scale(0.5);
     -moz-transform: scale(0.5);
     -ms-transform: scale(0.5);
     -o-transform: scale(0.5);
   }
   ```

   è¿™é‡Œæ¯”è¾ƒé‡è¦çš„å‚æ•°å°±æ˜¯é¼ æ ‡è·Ÿéšçš„åœ†å½¢é¢œè‰²ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½è¿›è¡Œæ›´æ”¹ï¼š

   ```CSS
   #cursor {
     /* è¿™é‡Œæ”¹å˜è·Ÿéšçš„åº•è‰² */
     background: rgb(57, 197, 187);
   }
   ```

3. åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶`_config.butterfly.yml`æ–‡ä»¶çš„`inject`é…ç½®é¡¹å¼•å…¥åˆšåˆšåˆ›å»ºçš„`css`æ–‡ä»¶å’Œ`js`æ–‡ä»¶ï¼š

   ```DIFF
   inject: 
     head: 
   +    - <link rel="stylesheet" href="/css/custom.css">
     bottom:
   +    - <script defer src="/js/cursor.js"></script>
   ```

4. é‡å¯é¡¹ç›®å³å¯çœ‹è§æ•ˆæœï¼š

   ```BASH
   # git bash
   hexo cl && hexo g && hexo s
   # vscode
   hexo cl; hexo g; hexo s
   ```

{% endfolding %}



# é¡¶éƒ¨æ¸å˜åŠ è½½æ¡

{% folding cyan,ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ %}

{% hideBlock é¢„è§ˆæ•ˆæœ %}

![image-20240307163518769](https://img-blog.csdnimg.cn/img_convert/f53bcedd9c72b77d2fad6f22b5c16166.png)

{% endhideBlock %}

è¯¦è§ï¼š[ç»™ButterflyåŠ ä¸Šé¡¶éƒ¨åŠ è½½æ¡](https://www.chuckle.top/article/13d6481a.html)

1. æ–°å»º`[BlogRoot]\source\css\progress_bar.css`æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼ˆæˆ–è€…ä½ åœ¨`[BlogRoot]\source\css\custom.css`ç›´æ¥åŠ ä¹Ÿè¡Œï¼Œæœ€ååœ¨é…ç½®æ–‡ä»¶è®°å¾—å¼•å…¥å³å¯ï¼‰

   ```CSS
   /* é¡¶éƒ¨èƒ¶å›ŠåŠ è½½æ¡ */
   .pace {
     -webkit-pointer-events: none;
     pointer-events: none;
     -webkit-user-select: none;
     -moz-user-select: none;
     user-select: none;
     z-index: 2000;
     position: fixed;
     margin: auto;
     top: 10px;
     left: 0;
     right: 0;
     height: 8px;
     border-radius: 8px;
     width: 5rem;
     background: #eaecf2;
     border: 1px #e3e8f7;
     overflow: hidden;
   }
   
   .pace-inactive .pace-progress {
     opacity: 0;
     transition: 0.3s ease-in;
   }
   
   .pace .pace-progress {
     -webkit-box-sizing: border-box;
     -moz-box-sizing: border-box;
     -ms-box-sizing: border-box;
     -o-box-sizing: border-box;
     box-sizing: border-box;
     -webkit-transform: translate3d(0, 0, 0);
     -moz-transform: translate3d(0, 0, 0);
     -ms-transform: translate3d(0, 0, 0);
     -o-transform: translate3d(0, 0, 0);
     transform: translate3d(0, 0, 0);
     max-width: 200px;
     position: absolute;
     z-index: 2000;
     display: block;
     top: 0;
     right: 100%;
     height: 100%;
     width: 100%;
     background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
     animation: gradient 1.5s ease infinite;
     background-size: 200%;
   }
   
   .pace.pace-inactive {
     opacity: 0;
     transition: 0.3s;
     top: -8px;
   }
   @keyframes gradient {
     0% {
       background-position: 0% 50%;
     }
     50% {
       background-position: 100% 50%;
     }
     100% {
       background-position: 0% 50%;
     }
   }
   /* é¡¶éƒ¨èƒ¶å›ŠåŠ è½½æ¡end */
   ```

2. åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶`_config.butterfly.yml`çš„`inject`é…ç½®é¡¹åŠ å…¥åˆšåˆšçš„cssæ ·å¼å’Œå¿…é¡»çš„jsä¾èµ–ï¼š

   ```YML
   inject:
     head:
       - xxx
       - <link rel="stylesheet" href="/css/progress_bar.css" media="defer" onload="this.media='all'"> 
     bottom: 
     	- xxx
       - <script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script>
   ```

{% endfolding %}



# æ–‡ç« ç»Ÿè®¡å¼•å…¥ echarts

{% folding cyan,ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ %}

{% hideBlock æ–‡ç« ç»Ÿè®¡é¡µé¢„è§ˆæ•ˆæœ %}

![image-20240307222148664](https://img-blog.csdnimg.cn/img_convert/79d58efeacc8c4201da1c070dbbf46e4.png)

{% endhideBlock %}

{% hideBlock æ—¶é—´è½´é¡µé¢„è§ˆæ•ˆæœ %}

![image-20240307222213005](https://img-blog.csdnimg.cn/img_convert/7971e8b36d73461bd59fe1450d53fecb.png)

{% endhideBlock %}

{% hideBlock åˆ†ç±»é¡µé¢„è§ˆæ•ˆæœ %}

![image-20240307222230965](https://img-blog.csdnimg.cn/img_convert/b5eea3d2127b4b7c8b65014baf1c0ae7.png)

{% endhideBlock %}

{% hideBlock æ ‡ç­¾é¡µé¢é¢„è§ˆæ•ˆæœ %}

![image-20240307222254348](https://img-blog.csdnimg.cn/img_convert/6ea34a0d0070089e724de1fb438977e0.png)

{% endhideBlock %}

è¯¦æƒ…è¯·è§ï¼š[Hexo åšå®¢æ–‡ç« ç»Ÿè®¡å›¾](https://blog.eurkon.com/post/1213ef82.html)

1. åœ¨å‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤

   ```shell
   hexo new page charts
   ```

2. å¼•å…¥ echarts.js

   {% note warning flat %}

   1. echarts.js å¿…é¡»åœ¨æ¸²æŸ“ echarts å®ä¾‹çš„ JavaScript å‰å¼•å…¥ã€‚
   2. éœ€è¦åœ¨ç»Ÿè®¡å›¾çš„å‰å¼•å…¥ `echarts.js` æ–‡ä»¶ï¼Œæœ€å¥½æ˜¯åœ¨é¡µé¢çš„å¤´éƒ¨å¼•å…¥ã€‚

   {% endnote %}

   ä»¥ butterfly ä¸»é¢˜ä¸ºä¾‹ï¼Œå¯ä»¥åœ¨ `[Blogroot]\_config.butterfly.yml` çš„ `inject` é…ç½®é¡¹ä¸­å¼•å…¥ `echart.js` æ–‡ä»¶ã€‚

   ```yml
   inject:
     head:
       - <script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script> # å¼•å…¥ echarts
   ```

3. æ–‡ç« ç»Ÿè®¡ä»£ç 

   {% note warning flat %}

   è‹¥å‡ºç°æ§åˆ¶å°æŠ¥é”™ `Cannot find module 'cheerio'`ã€‚

   è§£å†³æ–¹æ¡ˆï¼š

   â€‹	å®‰è£… `cheerio`ï¼Œæ§åˆ¶å°æ‰§è¡Œ `npm i cheerio --save`ã€‚

   {% endnote %}

   ä»¥ butterfly ä¸»é¢˜ä¸ºä¾‹ï¼Œå¯ä»¥åœ¨ `[Blogroot]\themes\butterfly\scripts\helpers\` ç›®å½•ä¸‹æ–°å»º `charts.js` æ–‡ä»¶ï¼Œç„¶åæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

   ```js
   const cheerio = require('cheerio')
   const moment = require('moment')
   
   hexo.extend.filter.register('after_render:html', function (locals) {
     const $ = cheerio.load(locals)
     const post = $('#posts-chart')
     const tag = $('#tags-chart')
     const category = $('#categories-chart')
     const htmlEncode = false
   
     if (post.length > 0 || tag.length > 0 || category.length > 0) {
       if (post.length > 0 && $('#postsChart').length === 0) {
         if (post.attr('data-encode') === 'true') htmlEncode = true
         post.after(postsChart(post.attr('data-start')))
       }
       if (tag.length > 0 && $('#tagsChart').length === 0) {
         if (tag.attr('data-encode') === 'true') htmlEncode = true
         tag.after(tagsChart(tag.attr('data-length')))
       }
       if (category.length > 0 && $('#categoriesChart').length === 0) {
         if (category.attr('data-encode') === 'true') htmlEncode = true
         category.after(categoriesChart(category.attr('data-parent')))
       }
   
       if (htmlEncode) {
         return $.root().html().replace(/&amp;#/g, '&#')
       } else {
         return $.root().html()
       }
     } else {
       return locals
     }
   }, 15)
   
   function postsChart (startMonth) {
     const startDate = moment(startMonth || '2020-01')
     const endDate = moment()
   
     const monthMap = new Map()
     const dayTime = 3600 * 24 * 1000
     for (let time = startDate; time <= endDate; time += dayTime) {
       const month = moment(time).format('YYYY-MM')
       if (!monthMap.has(month)) {
         monthMap.set(month, 0)
       }
     }
     hexo.locals.get('posts').forEach(function (post) {
       const month = post.date.format('YYYY-MM')
       if (monthMap.has(month)) {
         monthMap.set(month, monthMap.get(month) + 1)
       }
     })
     const monthArr = JSON.stringify([...monthMap.keys()])
     const monthValueArr = JSON.stringify([...monthMap.values()])
   
     return `
     <script id="postsChart">
       var color = document.documentElement.getAttribute('data-theme') === 'light' ? '#4c4948' : 'rgba(255,255,255,0.7)'
       var postsChart = echarts.init(document.getElementById('posts-chart'), 'light');
       var postsOption = {
         title: {
           text: 'æ–‡ç« å‘å¸ƒç»Ÿè®¡å›¾',
           x: 'center',
           textStyle: {
             color: color
           }
         },
         tooltip: {
           trigger: 'axis'
         },
         xAxis: {
           name: 'æ—¥æœŸ',
           type: 'category',
           boundaryGap: false,
           nameTextStyle: {
             color: color
           },
           axisTick: {
             show: false
           },
           axisLabel: {
             show: true,
             color: color
           },
           axisLine: {
             show: true,
             lineStyle: {
               color: color
             }
           },
           data: ${monthArr}
         },
         yAxis: {
           name: 'æ–‡ç« ç¯‡æ•°',
           type: 'value',
           nameTextStyle: {
             color: color
           },
           splitLine: {
             show: false
           },
           axisTick: {
             show: false
           },
           axisLabel: {
             show: true,
             color: color
           },
           axisLine: {
             show: true,
             lineStyle: {
               color: color
             }
           }
         },
         series: [{
           name: 'æ–‡ç« ç¯‡æ•°',
           type: 'line',
           smooth: true,
           lineStyle: {
               width: 0
           },
           showSymbol: false,
           itemStyle: {
             opacity: 1,
             color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
               offset: 0,
               color: 'rgba(128, 255, 165)'
             },
             {
               offset: 1,
               color: 'rgba(1, 191, 236)'
             }])
           },
           areaStyle: {
             opacity: 1,
             color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
               offset: 0,
               color: 'rgba(128, 255, 165)'
             }, {
               offset: 1,
               color: 'rgba(1, 191, 236)'
             }])
           },
           data: ${monthValueArr},
           markLine: {
             data: [{
               name: 'å¹³å‡å€¼',
               type: 'average',
               label: {
                 color: color
               }
             }]
           }
         }]
       };
       postsChart.setOption(postsOption);
       window.addEventListener('resize', () => { 
         postsChart.resize();
       });
       postsChart.on('click', 'series', (event) => {
         if (event.componentType === 'series') window.location.href = '/archives/' + event.name.replace('-', '/');
       });
     </script>`
   }
   
   function tagsChart (len) {
     const tagArr = []
     hexo.locals.get('tags').map(function (tag) {
       tagArr.push({ name: tag.name, value: tag.length, path: tag.path })
     })
     tagArr.sort((a, b) => { return b.value - a.value })
   
     const dataLength = Math.min(tagArr.length, len) || tagArr.length
     const tagNameArr = []
     for (let i = 0; i < dataLength; i++) {
       tagNameArr.push(tagArr[i].name)
     }
     const tagNameArrJson = JSON.stringify(tagNameArr)
     const tagArrJson = JSON.stringify(tagArr)
   
     return `
     <script id="tagsChart">
       var color = document.documentElement.getAttribute('data-theme') === 'light' ? '#4c4948' : 'rgba(255,255,255,0.7)'
       var tagsChart = echarts.init(document.getElementById('tags-chart'), 'light');
       var tagsOption = {
         title: {
           text: 'Top ${dataLength} æ ‡ç­¾ç»Ÿè®¡å›¾',
           x: 'center',
           textStyle: {
             color: color
           }
         },
         tooltip: {},
         xAxis: {
           name: 'æ ‡ç­¾',
           type: 'category',
           nameTextStyle: {
             color: color
           },
           axisTick: {
             show: false
           },
           axisLabel: {
             show: true,
             color: color,
             interval: 0
           },
           axisLine: {
             show: true,
             lineStyle: {
               color: color
             }
           },
           data: ${tagNameArrJson}
         },
         yAxis: {
           name: 'æ–‡ç« ç¯‡æ•°',
           type: 'value',
           splitLine: {
             show: false
           },
           nameTextStyle: {
             color: color
           },
           axisTick: {
             show: false
           },
           axisLabel: {
             show: true,
             color: color
           },
           axisLine: {
             show: true,
             lineStyle: {
               color: color
             }
           }
         },
         series: [{
           name: 'æ–‡ç« ç¯‡æ•°',
           type: 'bar',
           data: ${tagArrJson},
           itemStyle: {
             borderRadius: [5, 5, 0, 0],
             color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
               offset: 0,
               color: 'rgba(128, 255, 165)'
             },
             {
               offset: 1,
               color: 'rgba(1, 191, 236)'
             }])
           },
           emphasis: {
             itemStyle: {
               color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                 offset: 0,
                 color: 'rgba(128, 255, 195)'
               },
               {
                 offset: 1,
                 color: 'rgba(1, 211, 255)'
               }])
             }
           },
           markLine: {
             data: [{
               name: 'å¹³å‡å€¼',
               type: 'average',
               label: {
                 color: color
               }
             }]
           }
         }]
       };
       tagsChart.setOption(tagsOption);
       window.addEventListener('resize', () => { 
         tagsChart.resize();
       });
       tagsChart.on('click', 'series', (event) => {
         if(event.data.path) window.location.href = '/' + event.data.path;
       });
     </script>`
   }
   
   function categoriesChart (dataParent) {
     const categoryArr = []
     let categoryParentFlag = false
     hexo.locals.get('categories').map(function (category) {
       if (category.parent) categoryParentFlag = true
       categoryArr.push({
         name: category.name,
         value: category.length,
         path: category.path,
         id: category._id,
         parentId: category.parent || '0'
       })
     })
     categoryParentFlag = categoryParentFlag && dataParent === 'true'
     categoryArr.sort((a, b) => { return b.value - a.value })
     function translateListToTree (data, parent) {
       let tree = []
       let temp
       data.forEach((item, index) => {
         if (data[index].parentId == parent) {
           let obj = data[index];
           temp = translateListToTree(data, data[index].id);
           if (temp.length > 0) {
             obj.children = temp
           }
           if (tree.indexOf())
             tree.push(obj)
         }
       })
       return tree
     }
     const categoryNameJson = JSON.stringify(categoryArr.map(function (category) { return category.name }))
     const categoryArrJson = JSON.stringify(categoryArr)
     const categoryArrParentJson = JSON.stringify(translateListToTree(categoryArr, '0'))
   
     return `
     <script id="categoriesChart">
       var color = document.documentElement.getAttribute('data-theme') === 'light' ? '#4c4948' : 'rgba(255,255,255,0.7)'
       var categoriesChart = echarts.init(document.getElementById('categories-chart'), 'light');
       var categoryParentFlag = ${categoryParentFlag}
       var categoriesOption = {
         title: {
           text: 'æ–‡ç« åˆ†ç±»ç»Ÿè®¡å›¾',
           x: 'center',
           textStyle: {
             color: color
           }
         },
         legend: {
           top: 'bottom',
           data: ${categoryNameJson},
           textStyle: {
             color: color
           }
         },
         tooltip: {
           trigger: 'item'
         },
         series: []
       };
       categoriesOption.series.push(
         categoryParentFlag ? 
         {
           nodeClick :false,
           name: 'æ–‡ç« ç¯‡æ•°',
           type: 'sunburst',
           radius: ['15%', '90%'],
           center: ['50%', '55%'],
           sort: 'desc',
           data: ${categoryArrParentJson},
           itemStyle: {
             borderColor: '#fff',
             borderWidth: 2,
             emphasis: {
               focus: 'ancestor',
               shadowBlur: 10,
               shadowOffsetX: 0,
               shadowColor: 'rgba(255, 255, 255, 0.5)'
             }
           }
         }
         :
         {
           name: 'æ–‡ç« ç¯‡æ•°',
           type: 'pie',
           radius: [30, 80],
           roseType: 'area',
           label: {
             color: color,
             formatter: '{b} : {c} ({d}%)'
           },
           data: ${categoryArrJson},
           itemStyle: {
             emphasis: {
               shadowBlur: 10,
               shadowOffsetX: 0,
               shadowColor: 'rgba(255, 255, 255, 0.5)'
             }
           }
         }
       )
       categoriesChart.setOption(categoriesOption);
       window.addEventListener('resize', () => { 
         categoriesChart.resize();
       });
       categoriesChart.on('click', 'series', (event) => {
         if(event.data.path) window.location.href = '/' + event.data.path;
       });
     </script>`
   }
   ```

   æ›´å¤šç»Ÿè®¡å›¾çš„è‡ªå®šä¹‰å±æ€§å¯ä»¥æŸ¥çœ‹ [ECharts é…ç½®é¡¹æ–‡æ¡£](https://echarts.apache.org/zh/option.html)ï¼Œæ ¹æ®è‡ªè¡Œå–œå¥½å¯¹ ECharts ç»Ÿè®¡å›¾è¿›è¡Œä¿®æ”¹ã€‚

4. ä½¿ç”¨ç»Ÿè®¡å›¾

   åœ¨ä¸Šæ–‡æ–°å»ºçš„ `[Blogroot]\source\charts\index.md` æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

   ```html
   <!-- æ–‡ç« å‘å¸ƒæ—¶é—´ç»Ÿè®¡å›¾ -->
   <div id="posts-chart" data-start="2021-01" style="border-radius: 8px; height: 300px; padding: 10px;"></div>
   <!-- æ–‡ç« æ ‡ç­¾ç»Ÿè®¡å›¾ -->
   <div id="tags-chart" data-length="10" style="border-radius: 8px; height: 300px; padding: 10px;"></div>
   <!-- æ–‡ç« åˆ†ç±»ç»Ÿè®¡å›¾ -->
   <div id="categories-chart" data-parent="false" style="border-radius: 8px; height: 300px; padding: 10px;"></div>
   ```

   å½“ç„¶ä¹Ÿå¯ä»¥åœ¨å…¶ä»–é¡µé¢å¼•å…¥æ–‡ç« ç»Ÿè®¡å›¾ï¼Œå¦‚æœå‡ºç°å›¾è¡¨æ˜¾ç¤ºä¸å…¨çš„ç°è±¡å¯ä»¥ä¿®æ”¹ `div` çš„ `height` å±æ€§ã€‚ã€‚

   - `posts-chart` çš„ `data-start="2021-01"` å±æ€§è¡¨ç¤ºæ–‡ç« å‘å¸ƒæ—¶é—´ç»Ÿè®¡å›¾ä»…æ˜¾ç¤º `2021-01` åŠä»¥åçš„æ–‡ç« æ•°æ®ã€‚
   - `tags-chart` çš„ `data-length="10"` å±æ€§è¡¨ç¤ºä»…æ˜¾ç¤ºæ’åå‰ `10` çš„æ ‡ç­¾ã€‚
   - `categories-chart` çš„ `data-parent="true"` å±æ€§è¡¨ç¤º `æœ‰å­åˆ†ç±»` æ—¶ä»¥æ—­æ—¥å›¾æ˜¾ç¤ºåˆ†ç±»ï¼Œå…¶ä»– `æ— å­åˆ†ç±»` æˆ– `è®¾ç½®ä¸ºfalse` æˆ– `ä¸è®¾ç½®è¯¥å±æ€§` æˆ– `è®¾ç½®ä¸ºå…¶ä»–étrueå±æ€§` æƒ…å†µéƒ½ä»¥é¥¼çŠ¶å›¾æ˜¾ç¤ºåˆ†ç±»ã€‚

   **å…·ä½“æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š**

   ![å¤šå±‚åˆ†ç±»æ—­æ—¥å›¾](https://img-blog.csdnimg.cn/img_convert/b06e46a34182ed05f851b10fe364da65.png)![åˆ†ç±»é¥¼çŠ¶å›¾](https://img-blog.csdnimg.cn/img_convert/ae8ddbce46e14f54ab9fd1afb3afde00.png)

5. åœ¨æ—¶é—´è½´é¡µé¢ä½¿ç”¨ç»Ÿè®¡å›¾

   `[Blogroot]\themes\butterfly\layout\archive.pug`

   ```diff
     #archive
   +    <div id="posts-chart" data-start="2021-01" style="height: 300px; padding: 10px;"></div>
       .article-sort-title= `${_p('page.articles')} - ${getArchiveLength()}`
   ```

   æˆ–è€…å†™æˆ pug æ–‡ä»¶è¯­æ³• `#posts-chart(data-start="2021-01" style="height: 300px; padding: 10px;")`ã€‚

6. åœ¨åˆ†ç±»é¡µé¢ä½¿ç”¨ç»Ÿè®¡å›¾

   æ€»åˆ†ç±»é¡µ `/categories`ï¼Œåœ¨ `[Blogroot]\themes\butterfly\layout\includes\page\categories.pug` æ·»åŠ ï¼š

   ```diff
     .category-lists!= list_categories()
   + <div id="categories-chart" data-parent="false" style="height: 300px; padding: 10px;"></div>
   ```

   å„åˆ†ç±»é¡µ `/categories/[åˆ†ç±»]`ï¼Œåœ¨ `[Blogroot]\themes\butterfly\layout\category.pug` æ·»åŠ ï¼š

   ```DIFF
   extends includes/layout.pug
   
   block content
     if theme.category_ui == 'index'
       include ./includes/mixins/post-ui.pug
       #recent-posts.recent-posts.category_ui
         +postUI
         include includes/pagination.pug
     else
       include ./includes/mixins/article-sort.pug
       #category
   +     #categories-chart(data-parent="false" style="height: 300px; padding: 10px;")
   ```

   æˆ–è€…å†™æˆ pug æ–‡ä»¶è¯­æ³• `#categories-chart(data-parent="false" style="height: 300px; padding: 10px;")`ã€‚

7. åœ¨æ ‡ç­¾é¡µä½¿ç”¨ç»Ÿè®¡å›¾

   æ€»æ ‡ç­¾é¡µ `/tags`ï¼Œåœ¨ `[Blogroot]\themes\butterfly\layout\includes\page\tags.pug` æ·»åŠ ï¼š

   ```diff
     .tag-cloud-list.is-center
       !=cloudTags({source: site.tags, orderby: page.orderby || 'random', order: page.order || 1, minfontsize: 1.2, maxfontsize: 2.1, limit: 0, unit: 'em'})
   + <div id="tags-chart" data-length="10" style="height: 300px; padding: 10px;"></div>
   ```

   å„æ ‡ç­¾é¡µ `/tags/[æ ‡ç­¾]`ï¼Œåœ¨ `[Blogroot]\themes\butterfly\layout\tag.pug` æ·»åŠ ï¼š

   ```DIFF
   extends includes/layout.pug
   
   block content
     if theme.tag_ui == 'index'
       include ./includes/mixins/post-ui.pug
       #recent-posts.recent-posts
         +postUI
         include includes/pagination.pug
     else
       include ./includes/mixins/article-sort.pug
       #tag
   +     <div id="tags-chart" data-length="10" style="height: 300px; padding: 10px;"></div>
   ```

   æˆ–è€…å†™æˆ pug æ–‡ä»¶è¯­æ³• `#tags-chart(data-length="10" style="height: 300px; padding: 10px;")`ã€‚

8. æ—¶é—´è½´é¡µå›¾ç‰‡æ”¾å¤§

   åœ¨è‡ªå®šä¹‰çš„`custom.js`ä¸­åŠ å…¥

   ```css
   /*------ å½’æ¡£é¡µå›¾ç‰‡æ”¾å¤§ -------*/
   .article-sort-item-img {
     overflow: hidden;
     width: 120px;
     height: 120px;
     border-radius: 12px;
   }
   /*----- å½’æ¡£é¡µå›¾ç‰‡æ”¾å¤§end -----*/
   ```

9. å°†åˆ†ç±»é¡µé¢çš„ ul çš„ li å˜ä¸ºæ¨ªå‘ï¼Œ`[BlogRoot]\themes\butterfly\source\css\_page\categories.styl`ä¸­åŠ å…¥

   ```diff
       ul
         padding-left: 4px
   +     list-style-type: none;
   
       li
   -     // position: relative
   +     display: inline-block;
         margin: 6px 0
   ```

   

{% endfolding %}

