<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>第二章-预备知识</title>
      <link href="/post/1a989fae.html"/>
      <url>/post/1a989fae.html</url>
      
        <content type="html"><![CDATA[<h2>国外服务器,加载或有延迟,请稍等片刻...</h2><div style="  display: grid;  width: 100%;  height: 100vh;">  <iframe style="    width: 100%;    height: 100%;    grid-area: 1/1; /* 覆盖整个网格区域 */    border: none;"     src="https://nbviewer.org/github/redbeancc/deep_learning_project/blob/main/data/%E7%AC%AC%E4%BA%8C%E7%AB%A0_%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86.ipynb">  </iframe></div>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> AI </tag>
            
            <tag> DeepLearning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第二章-科学计算库NumPy</title>
      <link href="/post/ed1a7053.html"/>
      <url>/post/ed1a7053.html</url>
      
        <content type="html"><![CDATA[<h1 id="第二章-科学计算库NumPy"><a href="#第二章-科学计算库NumPy" class="headerlink" title="第二章-科学计算库NumPy"></a>第二章-科学计算库NumPy</h1><blockquote><p>   Numpy 作为高性能科学计算和数据分析的基础包,是其他重要数据分析工具的基础, 掌握 NumPy 的功能及其用法, 将有助于后续其他数据分析工具的学习. </p></blockquote><h2 id="2-1-认识-NumPy-数组对象"><a href="#2-1-认识-NumPy-数组对象" class="headerlink" title="2.1 认识 NumPy 数组对象"></a>2.1 认识 NumPy 数组对象</h2><p>NumPy 中最重要的一个特点就是其 N 维数组对象, 即 ndarray(别名 array) 对象, 该对象具有矢量算术能力和复杂的广播能力, 可以执行一些科学计算. 不同于 Python 标准库, ndarray 对象拥有对高维数组的处理能力, 这也是数值计算中缺一不可的重要特性.<br>ndarray 对象中定义了一些重要的属性, 具体如下.</p><div class="table-container"><table><thead><tr><th>属性</th><th style="text-align:center">具体说明</th></tr></thead><tbody><tr><td>ndarray.ndim</td><td style="text-align:center">维度个数,也就是数组轴的个数, 比如一维, 二维, 三维等</td></tr><tr><td>ndarray.shape</td><td style="text-align:center">数组的维度, 这是一个整数的元组, 表示每个维度上数组的大小. 例如, 一个 n 行 m 列的数组, 它的 shape 属性为 (n,m)</td></tr><tr><td>ndarray.size</td><td style="text-align:center">数组元素的总个数, 等于 shape 属性中元组元素的乘积</td></tr><tr><td>ndarray.dtype</td><td style="text-align:center">描述数组中元素类型的对象, 既可以使用标准的 Python 类型创建或指定, 也可以使用 NumPy 特有的数据类型来指定, 比如 numpy.int32, numpy.float64等</td></tr><tr><td>ndarray.itemsize</td><td style="text-align:center">数组中每个元素的字节大小. 例如, 元素类型为 float64的数组有 8(64/8) 个字节, 这相当于 ndarray.dtype.itemsize</td></tr></tbody></table></div><p>值得一提的是, ndarray 对象中存储元素的类型必须是相同的.<br>具体代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np                  <span class="comment"># 导入 numpy 工具包</span></span><br><span class="line">data = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)   <span class="comment"># 创建一个 3 行 4 列的数据</span></span><br><span class="line">data</span><br></pre></td></tr></table></figure><pre><code>array([[ 0,  1,  2,  3],       [ 4,  5,  6,  7],       [ 8,  9, 10, 11]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span>(data)</span><br></pre></td></tr></table></figure><pre><code>numpy.ndarray</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.ndim       <span class="comment"># 数组维度的个数, 输出结果 2, 表示二维数组</span></span><br></pre></td></tr></table></figure><pre><code>2</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.shape      <span class="comment"># 数组的维度, 输出结果(3,4), 表示 3 行 4 列</span></span><br></pre></td></tr></table></figure><pre><code>(3, 4)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.size       <span class="comment"># 数组元素的个数, 输出结果 12, 表示总共有 12 个元素</span></span><br></pre></td></tr></table></figure><pre><code>12</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.dtype      <span class="comment"># 数组元素的类型, 输出结果是 dtype(&#x27;int64&#x27;)</span></span><br><span class="line">                <span class="comment"># 表示元素类型都是 int64</span></span><br></pre></td></tr></table></figure><pre><code>dtype(&#39;int32&#39;)</code></pre><h2 id="2-2-创建-NumPy-数组"><a href="#2-2-创建-NumPy-数组" class="headerlink" title="2.2 创建 NumPy 数组"></a>2.2 创建 NumPy 数组</h2><p>创建 ndarray 对象的方式有若干种, 其中最简单的方式就是使用 array() 函数, 在调用该函数时传入一个 Python 现有的类型即可, 比如列表, 元组. 例如, 通过 array() 函数分别创建一个一维数组和二维数组, 具体代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">data1 = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])           <span class="comment"># 创建一个一维数组</span></span><br><span class="line">data1</span><br></pre></td></tr></table></figure><pre><code>array([1, 2, 3])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data2 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]) <span class="comment"># 创建一个二维数组</span></span><br><span class="line">data2</span><br></pre></td></tr></table></figure><pre><code>array([[1, 2, 3],       [4, 5, 6]])</code></pre><p>除了可以使用 array() 函数创建 ndarray 对象外, 还有其他创建数组的方式, 具体分为以下几种:</p><ol><li>通过 zeros() 函数创建元素值都是 0 的数组, 示例代码如下.</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.zeros((<span class="number">3</span>,<span class="number">4</span>))</span><br></pre></td></tr></table></figure><pre><code>array([[0., 0., 0., 0.],       [0., 0., 0., 0.],       [0., 0., 0., 0.]])</code></pre><ol><li>通过调用 ones() 函数创建元素值都是 1 的数组, 示例代码如下.</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np_ones = np.ones((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">np_ones</span><br><span class="line"><span class="comment">#np_ones.dtype   # dtype(&#x27;float64&#x27;)</span></span><br></pre></td></tr></table></figure><pre><code>array([[1., 1., 1., 1.],       [1., 1., 1., 1.],       [1., 1., 1., 1.]])</code></pre><ol><li>通过 empty() 函数创建一个新的数组, 该数组只分配了内存空间, 它里面填充的元素都是随机的, 且数据类型默认为 float64, 示例代码如下</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.empty((<span class="number">5</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure><pre><code>array([[6.23042070e-307, 4.67296746e-307],       [1.69121096e-306, 1.05695507e-307],       [1.89146896e-307, 7.56571288e-307],       [3.11525958e-307, 1.24610723e-306],       [1.29061142e-306, 5.53353523e-322]])</code></pre><ol><li>通过 arange() 函数可以创建一个等差数组, 它的功能类似于 range(), 只不过 arange() 函数的返回结果是数组, 而不是列表, 示例代码如下.</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.arange(<span class="number">1</span>,<span class="number">20</span>,<span class="number">5</span>)       <span class="comment"># 从 1 到 20, 步差为 5</span></span><br></pre></td></tr></table></figure><pre><code>array([ 1,  6, 11, 16])</code></pre><p>读者可能注意到, 有些数组元素的后面会跟着一个小数点, 而有些元素后面没有, 比如 <code>1</code> 和 <code>1.</code>, 产生这种现象, 主要是因为元素的数据类型不同所导致的.<br>值得一提的是, 在创建 ndarray 对象时, 我们可以显式的声明数组元素的类型, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],<span class="built_in">float</span>)</span><br></pre></td></tr></table></figure><pre><code>array([1., 2., 3., 4.])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.ones((<span class="number">2</span>,<span class="number">3</span>),dtype=<span class="string">&#x27;float64&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>array([[1., 1., 1.],       [1., 1., 1.]])</code></pre><p>关于 ndarray 对象数据的更多介绍, 将在下面进行讲解.</p><h2 id="2-3-ndarray-对象的数据结构"><a href="#2-3-ndarray-对象的数据结构" class="headerlink" title="2.3 ndarray 对象的数据结构"></a>2.3 ndarray 对象的数据结构</h2><h3 id="2-3-1-查看数据结构"><a href="#2-3-1-查看数据结构" class="headerlink" title="2.3.1 查看数据结构"></a>2.3.1 查看数据结构</h3><p>如前面所述, 通过 “ndarray.dtype” 可以创建一个表示数据类型的对象. 要想获取数据类型的名称, 则需要访问 <code>name</code> 属性进行获取, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data_one = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">data_one.dtype.name</span><br></pre></td></tr></table></figure><pre><code>&#39;int32&#39;</code></pre><p><strong>注意</strong>:在默认情况下, 64 位 Windows 系统输出的结果为 int32, 64 位 Linux 或 MacOS 系统输出结果为 int64, 当然也可以通过 dtype 来指定数据类型的长度.</p><p>上述代码中, 使用 dtype 属性查看 data_one 对象的类型, 输出的结果为 int32. 从数据类型的命名方式上可以看出, Numpy 的数据类型是有一个类型名(如 int, float)和元素位长的数字组成.</p><p>如果在创建数组时, 没有显式的指明数据的类型, 可以根据列表或元组中的元素类型推导出来. 默认情况下, 通过 <code>zeros()</code>, <code>ones()</code>, <code>empty()</code> 函数创建的数组中的数据类型为 <code>float64</code>.</p><p>以下是 Numpy 中常用的数据类型.</p><div class="table-container"><table><thead><tr><th>数据类型</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td>bool</td><td style="text-align:left">布尔类型, 值为 True 或 False</td></tr><tr><td>int8, uint8</td><td style="text-align:left">有符号和无符号的 8 位整数</td></tr><tr><td>int16, uint16</td><td style="text-align:left">有符号和无符号的 16 位整数</td></tr><tr><td>int32, uint32</td><td style="text-align:left">有符号和无符号的 32 位整数</td></tr><tr><td>int64, uint64</td><td style="text-align:left">有符号和无符号的 64 位整数</td></tr><tr><td>float16</td><td style="text-align:left">半精度浮点数(16位)</td></tr><tr><td>float32</td><td style="text-align:left">半精度浮点数(32位)</td></tr><tr><td>float64</td><td style="text-align:left">半精度浮点数(64位)</td></tr><tr><td>complex64</td><td style="text-align:left">复数, 分别用两个 32 位浮点数表示实部和虚部</td></tr><tr><td>complex128</td><td style="text-align:left">复数, 分别用两个 64 位浮点数表示实部和虚部</td></tr><tr><td>object</td><td style="text-align:left">Python对象</td></tr><tr><td>string_</td><td style="text-align:left">固定长度的字符串类型</td></tr><tr><td>unicode</td><td style="text-align:left">固定长度的 unicode 类型</td></tr></tbody></table></div><p>每一个 Numpy 内置的数据类型都有一个特征码, 它能唯一的标识一种数据类型, NumPy 内置特征码如下.</p><div class="table-container"><table><thead><tr><th>特征码</th><th style="text-align:left">含义</th></tr></thead><tbody><tr><td>b</td><td style="text-align:left">布尔型</td></tr><tr><td>i</td><td style="text-align:left">有符号整型</td></tr><tr><td>u</td><td style="text-align:left">无符号整型</td></tr><tr><td>f</td><td style="text-align:left">浮点型</td></tr><tr><td>c</td><td style="text-align:left">复数类型</td></tr><tr><td>O</td><td style="text-align:left">Python 对象</td></tr><tr><td>S,a</td><td style="text-align:left">字节字符串</td></tr><tr><td>U</td><td style="text-align:left">unicode 字符串</td></tr><tr><td>V</td><td style="text-align:left">原始数据</td></tr></tbody></table></div><h3 id="2-3-2-转换数据类型"><a href="#2-3-2-转换数据类型" class="headerlink" title="2.3.2 转换数据类型"></a>2.3.2 转换数据类型</h3><p>ndarray 对象的数据类型可以通过 <code>astype()</code> 方法进行转换, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="built_in">print</span>(data.dtype)</span><br><span class="line">data</span><br></pre></td></tr></table></figure><pre><code>int32array([[1, 2, 3],       [4, 5, 6]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">float_data = data.astype(np.float64) <span class="comment"># 转换数据类型为 float64</span></span><br><span class="line"><span class="built_in">print</span>(float_data.dtype)</span><br><span class="line">float_data</span><br></pre></td></tr></table></figure><pre><code>float64array([[1., 2., 3.],       [4., 5., 6.]])</code></pre><p>上述示例中, 将数据类型 int64 转换为 float64, 即整型转换为浮点型. 若希望将数据的类型由浮点型转换为整型, 则需要将小数点后面的部分截掉(<strong>不会四舍五入</strong>), 具体示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">float_data = np.array([<span class="number">1.2</span>,<span class="number">2.3</span>,<span class="number">3.5</span>])</span><br><span class="line">float_data</span><br></pre></td></tr></table></figure><pre><code>array([1.2, 2.3, 3.5])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int_data = float_data.astype(np.int64) <span class="comment"># 不会四舍五入</span></span><br><span class="line">int_data</span><br></pre></td></tr></table></figure><pre><code>array([1, 2, 3], dtype=int64)</code></pre><p>如果数组中的元素是字符串类型的, 且字符串中的每个字符都是数字,也可以使用 <code>astype()</code> 方法将字符串转换为数值类型, 具体示例如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str_data = np.array([<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>])</span><br><span class="line">int_data = str_data.astype(np.int64)</span><br><span class="line">int_data</span><br></pre></td></tr></table></figure><pre><code>array([1, 2, 3], dtype=int64)</code></pre><h2 id="2-4-数组运算"><a href="#2-4-数组运算" class="headerlink" title="2.4 数组运算"></a>2.4 数组运算</h2><p>NumPy 数组不需要遍历循环, 即可对每个元素执行批量的算术运算操作, 这个过程叫做<strong>矢量化运算</strong>. 不过, 如果两个数组的大小(ndarray.shape)不同, 则它们进行算术运算时会出现<strong>广播机制</strong>. 除此之外, 数组还支持使用算术运算符与标量进行运算.</p><h3 id="2-4-1-矢量化运算"><a href="#2-4-1-矢量化运算" class="headerlink" title="2.4.1 矢量化运算"></a>2.4.1 矢量化运算</h3><p>在 NumPy 中, 大小相等的数组之间的任何算术运算都会应用到元素级, 即只用位置相同的元素之间, 所得的运算结果组成一个新的数组. 接下来, 同意一张示意图来描述什么是矢量化运算.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/87ee4f2619384917b3728b26b91d334e.png" alt=""></p><p>由上述图片可知, 数组 arr1 与 arr2 对齐以后, 会让相同位置的元素相加得到一个新的数组 result. 其中, result 数组中的每个元素为操作数相加的结果, 并且结果的位置跟操作数的位置是相同的.</p><p>大小相等的数组之间的算术运算, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data1 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">data2 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">data1 + data2   <span class="comment"># 数组相加</span></span><br></pre></td></tr></table></figure><pre><code>array([[ 2,  4,  6],       [ 8, 10, 12]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 * data2   <span class="comment"># 数组相乘</span></span><br></pre></td></tr></table></figure><pre><code>array([[ 1,  4,  9],       [16, 25, 36]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 - data2   <span class="comment"># 数组相减</span></span><br></pre></td></tr></table></figure><pre><code>array([[0, 0, 0],       [0, 0, 0]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 / data2   <span class="comment"># 数组相除</span></span><br></pre></td></tr></table></figure><pre><code>array([[1., 1., 1.],       [1., 1., 1.]])</code></pre><h3 id="2-4-2-数组广播"><a href="#2-4-2-数组广播" class="headerlink" title="2.4.2 数组广播"></a>2.4.2 数组广播</h3><p>数组在进行矢量化运算时, 要求数组的形状是相等的. 当形状不相等的数组执行算术运算的时候, 就会出现广播机制, 该机制会对数组进行扩展, 使数组的 <code>shape</code> 属性一致, 这样就可以进行矢量化运算了. 示例如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr1 = np.array([[<span class="number">0</span>],[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">3</span>]])</span><br><span class="line">arr1.shape</span><br></pre></td></tr></table></figure><pre><code>(4, 1)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr2 = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">arr2.shape</span><br></pre></td></tr></table></figure><pre><code>(3,)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr1 + arr2</span><br></pre></td></tr></table></figure><pre><code>array([[1, 2, 3],       [2, 3, 4],       [3, 4, 5],       [4, 5, 6]])</code></pre><p>上述代码中, 数组 arr1 的 shape 是 (4,1), arr2 的 shape 是 (3,), 这两个数组要是进行相加, 按照广播机制就会对数组 arr1 和 arr2 都进行扩展, 使得数组 arr1 和 arr2 的 shape 都变成 (4,3).</p><p>具体数组广播机制实现如图所示.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/d1b387092b8547e79f8486ce18142360.png" alt=""></p><p><strong>注意</strong>: 广播机制实现了对两个或两个以上数组的运算, 即使这些数组的 shape 不是完全相同的, 需要满足如下的条件:</p><ol><li>数组维度全部相同</li><li>其中一个数组的某一个维度为 1.</li></ol><p>广播机制需要扩展维度小数组, 使得它与维度最大的数组的 shape 值仙童, 以便使用元素级函数或运算符进行运算.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr3 = np.array([[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr3.shape)</span><br><span class="line">arr3</span><br></pre></td></tr></table></figure><pre><code>(4, 2)array([[0, 1],       [2, 3],       [4, 5],       [6, 7]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr4 = np.array([[<span class="number">1</span>],[<span class="number">2</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr4.shape)</span><br><span class="line">arr4</span><br></pre></td></tr></table></figure><pre><code>(2, 1)array([[1],       [2]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr3 + arr4 <span class="comment"># 相加报错, 两个维度都不相同</span></span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------ValueError                                Traceback (most recent call last)Cell In[52], line 1----&gt; 1 arr3 + arr4ValueError: operands could not be broadcast together with shapes (4,2) (2,1) </code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr5 = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr5.shape)</span><br><span class="line">arr5</span><br></pre></td></tr></table></figure><pre><code>(3, 2)array([[1, 2],       [2, 3],       [3, 4]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr3 + arr5     <span class="comment"># error</span></span><br><span class="line"><span class="comment"># 第一维度：4 和 3 → 不相等且都不为 1 → 无法广播。</span></span><br><span class="line"><span class="comment"># 第二维度：2 和 2 → 相等 → 可以广播。</span></span><br></pre></td></tr></table></figure><pre><code>---------------------------------------------------------------------------ValueError                                Traceback (most recent call last)Cell In[54], line 1----&gt; 1 arr3 + arr5ValueError: operands could not be broadcast together with shapes (4,2) (3,2) </code></pre><h3 id="2-4-3-数组与标量间的运算"><a href="#2-4-3-数组与标量间的运算" class="headerlink" title="2.4.3 数组与标量间的运算"></a>2.4.3 数组与标量间的运算</h3><p>大小相等的数组之间的任何算术运算都会将运算应用到元素级, 同样, 数组与标量的算术运算也会将那个标量值传播给各个元素. 当数组进行相加, 相减, 乘以或除以一个数字时, 这些被称为标量运算. 标量运算会产生一个与数组具有相同数量的行和列的新矩阵, 其原始矩阵的每个元素都被相加, 相减, 乘以或者相除.</p><p>数组和标量之间的运算, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">data1 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">data1 + <span class="number">10</span></span><br></pre></td></tr></table></figure><pre><code>array([[11, 12, 13],       [14, 15, 16]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 - <span class="number">10</span></span><br></pre></td></tr></table></figure><pre><code>array([[-9, -8, -7],       [-6, -5, -4]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 * <span class="number">10</span></span><br></pre></td></tr></table></figure><pre><code>array([[10, 20, 30],       [40, 50, 60]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 / <span class="number">10</span></span><br></pre></td></tr></table></figure><pre><code>array([[0.1, 0.2, 0.3],       [0.4, 0.5, 0.6]])</code></pre><h2 id="2-5-ndarray-的索引和切片"><a href="#2-5-ndarray-的索引和切片" class="headerlink" title="2.5 ndarray 的索引和切片"></a>2.5 ndarray 的索引和切片</h2><p>ndarray 对象支持索引和切片操作, 且提供了比常规 Python 序列更多的索引功能, 除了使用整数进行索引以外, 还可以使用整数数组和布尔数组进行索引.</p><h3 id="2-5-1-整数索引和切片的基本使用"><a href="#2-5-1-整数索引和切片的基本使用" class="headerlink" title="2.5.1 整数索引和切片的基本使用"></a>2.5.1 整数索引和切片的基本使用</h3><p>ndarray 对象的元素可以通过索引和切片来访问和修改, 就像 Python 内置的容易对象一样, 下面是一个一维数组, 从表面上来看, 该数组使用索引和切片的方式与 Python 列表的功能相差不大, 具体代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr = np.arange(<span class="number">8</span>)</span><br><span class="line">arr</span><br></pre></td></tr></table></figure><pre><code>array([0, 1, 2, 3, 4, 5, 6, 7])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">5</span>]      <span class="comment"># 获取索引(下标)为 5 的元素</span></span><br></pre></td></tr></table></figure><pre><code>5</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">3</span>:<span class="number">5</span>]    <span class="comment"># 获取索引从 3~5 的元素, 但不包括 5</span></span><br></pre></td></tr></table></figure><pre><code>array([3, 4])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">1</span>:<span class="number">6</span>:<span class="number">2</span>]  <span class="comment"># 获取索引从 1~6 的元素, 步长为 2</span></span><br></pre></td></tr></table></figure><pre><code>array([1, 3, 5])</code></pre><p>不过, 对于多维数组, 索引和切片的使用方式与列表就大不一样了. 在二维数组中, 每个索引位置上的元素不再是一个标量了, 而是一个一维数组, 具体代码示例如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr2d = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]) <span class="comment"># 创建二维数组</span></span><br><span class="line">arr2d</span><br></pre></td></tr></table></figure><pre><code>array([[1, 2, 3],       [4, 5, 6],       [7, 8, 9]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr2d[<span class="number">1</span>]    <span class="comment"># 获取索引为 1 的元素</span></span><br></pre></td></tr></table></figure><pre><code>array([4, 5, 6])</code></pre><p>此时, 如果我们想通过索引的方式来获取二维数组的单个元素, 就需要通过形如 <code>&quot;arr[x,y]&quot;</code>, 以逗号分割的索引来实现. 其中, <code>x</code> 表示行号, <code>y</code> 表示列号. 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr2d[<span class="number">0</span>,<span class="number">1</span>]  <span class="comment"># 获取第 0 行第 1 列的元素</span></span><br></pre></td></tr></table></figure><pre><code>2</code></pre><p>下面, 通过一张图来描述数组 arr2d 的索引方式, 如下图所示.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/22b34f5468b543f4be7b9d12cbd4e366.png" alt=""></p><p>从图中可以看出, arr2d 是一个 3 行 3 列的数组, 如果我们想获取数组的单个元素, 必须同时指定这个元素的行索引和列索引. 例如, 获取索引位置为第 1 行第 1 列的元素, 我们可以通过 <code>arr2d[1,1]</code> 来实现.</p><p>相比一维数组, 多维数组的切片方式花样更多, <strong>多维数组的切片是沿着行或列的方向选取元素的</strong>, 我们可以传入一个切片, 也可以传入多个切片, 还可以将切片与整数索引混合使用.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多维数组传入一个切片</span></span><br><span class="line">arr2d[:<span class="number">2</span>]</span><br></pre></td></tr></table></figure><pre><code>array([[1, 2, 3],       [4, 5, 6]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多维数组传入两个切片</span></span><br><span class="line">arr2d[<span class="number">0</span>:<span class="number">2</span>,<span class="number">0</span>:<span class="number">2</span>]</span><br></pre></td></tr></table></figure><pre><code>array([[1, 2],       [4, 5]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切片与整数索引混合使用</span></span><br><span class="line">arr2d[<span class="number">1</span>,:<span class="number">2</span>]</span><br></pre></td></tr></table></figure><pre><code>array([4, 5])</code></pre><p>上述多维数组切片操作的相关示意图如下.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/1f606ba47b4847cd8987d0e19b4ade79.png" alt=""></p><h3 id="2-5-2-花式-数组-索引的基本使用"><a href="#2-5-2-花式-数组-索引的基本使用" class="headerlink" title="2.5.2 花式(数组)索引的基本使用"></a>2.5.2 花式(数组)索引的基本使用</h3><p>花式索引是 Numpy 的一个术语, 是指将整数数组或列表作为索引, 然后根据索引数组或索引列表的每个元素作为目标数组的下标再进行取值.</p><ul><li>当使用一维数组或列表作为索引时, 如果使用索引要操作的目标是一维数组, 则获取的结果是对应下标的元素; </li><li>如果要操作的目标是一个二维数组, 则获取的结果就是对应下标的一行数据.</li></ul><p>例如, 创建一个 4 行 4 列的二维数组, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">demo_arr = np.empty((<span class="number">4</span>,<span class="number">4</span>))          <span class="comment"># 4 行 4 列的空数组</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):                  <span class="comment"># 遍历 4 行</span></span><br><span class="line">    demo_arr[i] = np.arange(i,i+<span class="number">4</span>)  <span class="comment"># 每一行一个数组从 [i ~ i+4)</span></span><br><span class="line">demo_arr</span><br></pre></td></tr></table></figure><pre><code>array([[0., 1., 2., 3.],       [1., 2., 3., 4.],       [2., 3., 4., 5.],       [3., 4., 5., 6.]])</code></pre><p>将 <code>[0,2]</code> 作为索引, 分别获取 demo_arr 中索引 0 对应的一行数据以及索引 2 对应的一行数据, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">demo_arr[[<span class="number">0</span>,<span class="number">2</span>]]     <span class="comment"># 获取索引为 [0,2] 的元素行</span></span><br></pre></td></tr></table></figure><pre><code>array([[0., 1., 2., 3.],       [2., 3., 4., 5.]])</code></pre><p>上述操作的相关示意图如下.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/148e9ade381c4d7ca115f7a362d59946.png" alt=""></p><p>如果使用两个花式索引操作数组时, 即两个列表或数组, 则会将<strong>第 1 个作为行索引, 第 2 个作为列索引</strong>, 通过二维数组索引的方式, 选取其对应位置的元素, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">demo_arr[[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">2</span>]]       <span class="comment"># 获取索引为 (1,1) 和 (3,2) 的元素</span></span><br></pre></td></tr></table></figure><pre><code>array([2., 5.])</code></pre><p>上述操作的相关示意图如下.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/24b5ecde2e464d9bb5ca3d6afccec7ac.png" alt=""></p><h3 id="2-5-3-布尔型索引的基本使用"><a href="#2-5-3-布尔型索引的基本使用" class="headerlink" title="2.5.3 布尔型索引的基本使用"></a>2.5.3 布尔型索引的基本使用</h3><p>布尔型索引指的是将一个布尔数组作为数组索引, 返回的数据是布尔数组中 <code>True</code> 对应位置的值.</p><p>假设现在有一组存储了学生姓名的数组, 以及一组存储了学生各科成绩的数组, 存储学生成绩的数组中, 每一行成绩对应的是一个学生的成绩. 如果我们想筛选某个学生对应的成绩, 可以通过比较运算符, 先产生一个布尔型数组, 然后利用布尔型数组作为索引, 返回布尔值 <code>True</code> 对应位置的数据. 示例代码如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 存储学生姓名的数组</span></span><br><span class="line">student_name = np.array([<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Lily&quot;</span>,<span class="string">&quot;Jack&quot;</span>,<span class="string">&quot;Rose&quot;</span>])</span><br><span class="line">student_name</span><br></pre></td></tr></table></figure><pre><code>array([&#39;Tom&#39;, &#39;Lily&#39;, &#39;Jack&#39;, &#39;Rose&#39;], dtype=&#39;&lt;U4&#39;)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 存储学生成绩的数组</span></span><br><span class="line">student_score = np.array([[<span class="number">79</span>,<span class="number">88</span>,<span class="number">80</span>],</span><br><span class="line">                          [<span class="number">89</span>,<span class="number">90</span>,<span class="number">92</span>],</span><br><span class="line">                          [<span class="number">83</span>,<span class="number">78</span>,<span class="number">85</span>],</span><br><span class="line">                          [<span class="number">78</span>,<span class="number">76</span>,<span class="number">80</span>]])</span><br><span class="line">student_score</span><br></pre></td></tr></table></figure><pre><code>array([[79, 88, 80],       [89, 90, 92],       [83, 78, 85],       [78, 76, 80]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对 student_name 和字符串 &quot;Jack&quot; 通过运算符产生一个布尔型数组</span></span><br><span class="line">student_name == <span class="string">&quot;Jack&quot;</span></span><br></pre></td></tr></table></figure><pre><code>array([False, False,  True, False])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将布尔数组作为索引应用与存储成绩的数组 student_score,</span></span><br><span class="line"><span class="comment"># 返回的数据是 True 值对应的行</span></span><br><span class="line">student_score[student_name == <span class="string">&quot;Jack&quot;</span>]</span><br></pre></td></tr></table></figure><pre><code>array([[83, 78, 85]])</code></pre><p>布尔索引的相关示意图如下.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/85e9f60c15bf4247a8a185c9cf5bf6bd.png" alt=""></p><p>需要注意的是, 布尔型数组的长度必须和被索引的轴长度一致.<br>此外, 我们还可以将布尔型数组跟切片混合使用, 示例代码如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">student_score[student_name == <span class="string">&quot;Jack&quot;</span>, :<span class="number">1</span>]</span><br></pre></td></tr></table></figure><pre><code>array([[83]])</code></pre><p>值得一提的是, 使用布尔型索引获取值的时候, 除了可以使用 <code>&quot;==&quot;</code> 运算符, 还可以使用诸如 <code>&quot;!=&quot;</code>, <code>&quot;-&quot;</code> 来进行否定, 也可以使用 <code>&quot;&amp;&quot;</code>和<code>&quot;|&quot;</code>等符号来组合多个布尔条件.</p><h2 id="2-6-数组的转置和轴对称"><a href="#2-6-数组的转置和轴对称" class="headerlink" title="2.6 数组的转置和轴对称"></a>2.6 数组的转置和轴对称</h2><p>数组的转置是指将数组中的每个元素按照一定的规则进行位置变换. NumPy 提供了 <code>transpose()</code> 方法和 <code>T</code> 属性两种实现形式. 其中, 简单的转置可以使用 <code>T</code> 属性, 它其实就是进行轴对换而已. 例如, 现在有个 3 行 4 列的二维数组, 那么使用 <code>T</code> 属性对数组转置后, 形成的是一个 4 行 3 列的新数组, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">arr</span><br></pre></td></tr></table></figure><pre><code>array([[ 0,  1,  2,  3],       [ 4,  5,  6,  7],       [ 8,  9, 10, 11]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.T       <span class="comment"># 使用 T 属性对数组进行转置</span></span><br></pre></td></tr></table></figure><pre><code>array([[ 0,  4,  8],       [ 1,  5,  9],       [ 2,  6, 10],       [ 3,  7, 11]])</code></pre><p>对于高纬度的数组而言, <code>transpose()</code> 方法需要得到一个由轴编号组成的元组, 才能对这些轴进行转置. 假设现在有个数组 arr, 具体代码如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">16</span>).reshape((<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>))    <span class="comment"># 2 面 2 行 4 列</span></span><br><span class="line">arr</span><br></pre></td></tr></table></figure><pre><code>array([[[ 0,  1,  2,  3],        [ 4,  5,  6,  7]],       [[ 8,  9, 10, 11],        [12, 13, 14, 15]]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.shape</span><br></pre></td></tr></table></figure><pre><code>(2, 2, 4)</code></pre><p>上述数组 arr 的 shape 是 (2,2,4), 表示是一个三维数组, 也就是说有三个轴, 每个轴都对应着一个编号, 分别是 0, 1, 2.</p><p>如果希望对 arr 进行转置操作, 就需要对它的 <code>shape</code> 中的顺序进行调换. 也就是说, 当使用 <code>transpose()</code> 方法对函数的 <code>shape</code> 进行变换时, 需要以元组的形式传入  <code>shape</code> 的编号, 比如 (1,2,0).如果调用 <code>transpose()</code> 方法时传入 <code>&quot;(0,1,2)&quot;</code> ,则数组的 <code>shape</code> 不会发生任何变化.</p><p>下面是 arr 调用 <code>transpose(1,2,0)</code> 的示例, 具体代码如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.transpose(<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>)    <span class="comment"># 使用 transpose() 方法对数组进行转置</span></span><br></pre></td></tr></table></figure><pre><code>array([[[ 0,  8],        [ 1,  9],        [ 2, 10],        [ 3, 11]],       [[ 4, 12],        [ 5, 13],        [ 6, 14],        [ 7, 15]]])</code></pre><p>转换过程如图:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/1fdc044eda8f4b5faeae99ed5d56b38a.png" alt="在这里插入图片描述"></p><p>如果我们不输入任何参数, 直接调用 <code>transpose()</code> 方法, 则其执行的效果就是将数组进行转置, 作用等价于 <code>transpose(2,1,0)</code>. 具体结果如下图所示.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/c6c61eccc73247d19b00a09449945cd7.png" alt="在这里插入图片描述"></p><p>在某些情况下, 我们可能只需要转换其中的两个轴, 这时我们可以使用 ndarray 提供的 <code>swapaxes()</code> 方法实现, 该方法需要接收一对轴编号, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr</span><br></pre></td></tr></table></figure><pre><code>array([[[ 0,  1,  2,  3],        [ 4,  5,  6,  7]],       [[ 8,  9, 10, 11],        [12, 13, 14, 15]]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.swapaxes(<span class="number">1</span>,<span class="number">0</span>)   <span class="comment"># 使用 swapaxes 方法插入一对小括号对数组进行转置</span></span><br></pre></td></tr></table></figure><pre><code>array([[[ 0,  1,  2,  3],        [ 8,  9, 10, 11]],       [[ 4,  5,  6,  7],        [12, 13, 14, 15]]])</code></pre><p><strong>多学一招: 轴编号</strong></p><p>在 NumPy 中维度(dimensions)叫做轴(axes), 轴的个数叫做秩(rank). 例如, 3D 空间中有个点的坐标[1,2,1]是一个秩为 1 的数组, 因为它只有一个轴. 这个轴有 3 个元素, 所以我们说它长度为 3.</p><p>在下面的示例中, 数组有 2 个轴, 第一个轴的长度为32, 第二个轴的长度为 3.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.array([[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">          [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]])</span><br></pre></td></tr></table></figure><pre><code>array([[1, 0, 0],       [0, 1, 2]])</code></pre><h2 id="2-7-NumPy-通用函数"><a href="#2-7-NumPy-通用函数" class="headerlink" title="2.7 NumPy 通用函数"></a>2.7 NumPy 通用函数</h2><p>在 NumPy 中, 提供了诸如 <code>&quot;sin&quot;</code>, <code>&quot;cos&quot;</code> 和 <code>&quot;exp&quot;</code> 等常见的数学函数, 这些函数叫做通用函数(ufunc). 通用函数是一种针对 ndarray 中的数据执行元素级运算的函数, 函数返回的是一个新的数组. 通常情况下, 我们将 ufunc 中接受的一个数组参数的函数称为一元通用函数. 而接收两个数组参数的称为二元通用函数. 下面是一些常见的一元和二元通用函数.</p><div class="table-container"><table><thead><tr><th>常见一元的通用函数函数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>abs, fabs</td><td style="text-align:left">计算整数, 浮点数或复数的绝对值</td></tr><tr><td>sqrt</td><td style="text-align:left">计算各元素的平方根</td></tr><tr><td>square</td><td style="text-align:left">计算各元素的平方</td></tr><tr><td>exp</td><td style="text-align:left">计算各元素的指数 e 的 x 次方</td></tr><tr><td>log, log10, log2, log1p</td><td style="text-align:left">分别为自然对数(底数为e), 底数为 10 的 log, 底数为 2 的log, log(1+x)</td></tr><tr><td>sign</td><td style="text-align:left">计算各元素的正负号: 1(正数), 0(零), -1(负数)</td></tr><tr><td>ceil</td><td style="text-align:left">计算各元素的 ceilling 值, 即大于或者等于该值的最小整数</td></tr><tr><td>floor</td><td style="text-align:left">计算各元素的 floor 值, 即小于等于该值的最大整数</td></tr><tr><td>rint</td><td style="text-align:left">将各元素四舍五入到最接近的整数</td></tr><tr><td>modf</td><td style="text-align:left">将数组的小数和整数部分以两个独立数组的形式返回</td></tr><tr><td>isnan</td><td style="text-align:left">返回一个表示 “哪些值是 NaN” 的布尔型数组</td></tr><tr><td>isfinite, isinf</td><td style="text-align:left">分别返回表示 “那些元素是有穷的” 或 “哪些元素是无穷” 的布尔型数组</td></tr><tr><td>sin, sinh, cos, cosh, tan, tanh</td><td style="text-align:left">普通型和双曲型三角函数</td></tr><tr><td>arcos,arccosh,arcsion</td><td style="text-align:left">反三角函数</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>常见二元通用函数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>add</td><td style="text-align:left">数组对应的元素相加</td></tr><tr><td>subtract</td><td style="text-align:left">从第一个数组中减去第二个数组中的元素</td></tr><tr><td>multiply</td><td style="text-align:left">数组元素相乘</td></tr><tr><td>divide,floor_divide</td><td style="text-align:left">除法或向下整除法(舍去余数)</td></tr><tr><td>maximum, fmax</td><td style="text-align:left">元素级的最大值计算</td></tr><tr><td>minimum, fmin</td><td style="text-align:left">元素级的最小值计算</td></tr><tr><td>mod</td><td style="text-align:left">元素级取余</td></tr><tr><td>copysign</td><td style="text-align:left">将第二个数组中的值的符号赋值给第一个数组中的值</td></tr><tr><td>greater,greater_equal,less,less-equal,equal,not_equal,logical_and,logical_or,logical_xor</td><td style="text-align:left">执行元素级的比较运算, 最终产生布尔型数组, 相当于运算符 &gt;,&gt;=,&lt;,&lt;=,==,!=</td></tr></tbody></table></div><p>为了更好理解, 接下来, 通过一些代码来演示上述部分函数的用法. 有关一元通用函数的示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr = np.array([<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>])</span><br><span class="line"><span class="comment"># 计算数组元素的平方根</span></span><br><span class="line">np.sqrt(arr)</span><br></pre></td></tr></table></figure><pre><code>array([2., 3., 4.])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算数组元素的绝对值</span></span><br><span class="line">np.<span class="built_in">abs</span>(arr)</span><br></pre></td></tr></table></figure><pre><code>array([ 4,  9, 16])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算数组元素的平方</span></span><br><span class="line">np.square(arr)</span><br></pre></td></tr></table></figure><pre><code>array([ 16,  81, 256])</code></pre><p>有关二元通用函数的示例代码如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">12</span>,<span class="number">9</span>,<span class="number">13</span>,<span class="number">15</span>])</span><br><span class="line">y = np.array([<span class="number">11</span>,<span class="number">10</span>,<span class="number">4</span>,<span class="number">8</span>])</span><br><span class="line"><span class="comment"># 计算两个数组的和</span></span><br><span class="line">np.add(x,y)</span><br></pre></td></tr></table></figure><pre><code>array([23, 19, 17, 23])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算两个数组的乘积</span></span><br><span class="line">np.multiply(x,y)</span><br></pre></td></tr></table></figure><pre><code>array([132,  90,  52, 120])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 两个数组元素级最大值的比较</span></span><br><span class="line">np.maximum(x,y)</span><br></pre></td></tr></table></figure><pre><code>array([12, 10, 13, 15])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 执行元素级的比较操作</span></span><br><span class="line">np.greater(x,y)</span><br></pre></td></tr></table></figure><pre><code>array([ True, False,  True,  True])</code></pre><h2 id="2-8-利用-NumPy-数组进行数据处理"><a href="#2-8-利用-NumPy-数组进行数据处理" class="headerlink" title="2.8 利用 NumPy 数组进行数据处理"></a>2.8 利用 NumPy 数组进行数据处理</h2><p>NumPy 数组可以将许多数据处理任务转换为简洁的数组表达式, 它处理数据的速度要比内置的 Python 循环快了至少一个数量级, 所以, 我们把数组作为处理数据的首选. 接下来, 本章节将讲解如何利用数组来处理数据, 包括条件逻辑, 统计, 排序, 检索数组元素以及唯一化.</p><h3 id="2-8-1-将条件逻辑转为数组运算"><a href="#2-8-1-将条件逻辑转为数组运算" class="headerlink" title="2.8.1 将条件逻辑转为数组运算"></a>2.8.1 将条件逻辑转为数组运算</h3><p>NumPy 的 <code>where()</code> 函数是三元表达式 <code>x if condition else y</code> 的矢量化版本.</p><p>假设有两个数值类型的数组和一个布尔类型的数组, 具体如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr_x = np.array([<span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>])</span><br><span class="line">arr_y = np.array([<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>])</span><br><span class="line">arr_con = np.array([<span class="literal">True</span>,<span class="literal">False</span>,<span class="literal">True</span>])</span><br></pre></td></tr></table></figure><p>现在提出一个需求, 即当 <code>arr_con</code> 的元素值为 <code>True</code> 时, 从 <code>arr_x</code> 数组中获取一个值, 否则从 <code>arr_y</code> 数组中获取一个值. 使用 <code>where()</code> 函数实现的方式如下所示.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = np.where(arr_con, arr_x, arr_y)</span><br><span class="line">result</span><br></pre></td></tr></table></figure><pre><code>array([1, 6, 7])</code></pre><h3 id="2-8-2-数组统计运算"><a href="#2-8-2-数组统计运算" class="headerlink" title="2.8.2 数组统计运算"></a>2.8.2 数组统计运算</h3><p>通过 NumPy 库中的相关方法, 我们可以很方便的运用 Python 进行数组的统计汇总, 比如, 计算数组极大值, 极小值以及平均值等. 下面是 NumPy 数组中与统计运算相关的方法.</p><div class="table-container"><table><thead><tr><th>方法</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>sum</td><td style="text-align:left">对数组中全部或某个轴向的元素求和</td></tr><tr><td>mean</td><td style="text-align:left">算术平均值</td></tr><tr><td>min</td><td style="text-align:left">计算数组中的最小值</td></tr><tr><td>max</td><td style="text-align:left">计算数组中的最大值</td></tr><tr><td>argmin</td><td style="text-align:left">表示最小值的索引</td></tr><tr><td>argmax</td><td style="text-align:left">表示最大值的索引</td></tr><tr><td>cumsum</td><td style="text-align:left">所有元素的累计和</td></tr><tr><td>cumprod</td><td style="text-align:left">所有元素的累计乘积</td></tr></tbody></table></div><p>需要注意的是, 当使用 ndarray 对象调用 <code>cumsum()</code> 和<code>cumprod()</code> 方法后, 产生的结果是一个由中间结果组成的数组.</p><p>下面是一些示例.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line">arr.<span class="built_in">sum</span>()       <span class="comment"># 求和</span></span><br></pre></td></tr></table></figure><pre><code>[0 1 2 3 4 5 6 7 8 9]45</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.mean()      <span class="comment"># 求平均值</span></span><br></pre></td></tr></table></figure><pre><code>4.5</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.<span class="built_in">min</span>()       <span class="comment"># 求最小值</span></span><br></pre></td></tr></table></figure><pre><code>0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.<span class="built_in">max</span>()       <span class="comment"># 求最大值</span></span><br></pre></td></tr></table></figure><pre><code>9</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.argmin()    <span class="comment"># 最小值的下标</span></span><br></pre></td></tr></table></figure><pre><code>0</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.argmax()    <span class="comment"># 最大值的下标</span></span><br></pre></td></tr></table></figure><pre><code>9</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.cumsum()    <span class="comment"># 元素的累计和</span></span><br></pre></td></tr></table></figure><pre><code>array([ 0,  1,  3,  6, 10, 15, 21, 28, 36, 45])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.cumprod()   <span class="comment"># 元素的累计乘积</span></span><br></pre></td></tr></table></figure><pre><code>array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])</code></pre><h3 id="2-8-3-数组排序"><a href="#2-8-3-数组排序" class="headerlink" title="2.8.3 数组排序"></a>2.8.3 数组排序</h3><p>如果希望对 NumPy 数组中的元素进行排序, 可以通过 <code>sort()</code> 方法实现, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([[<span class="number">6</span>,<span class="number">2</span>,<span class="number">7</span>],[<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>],[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]])</span><br><span class="line">arr</span><br></pre></td></tr></table></figure><pre><code>array([[6, 2, 7],       [3, 6, 2],       [4, 3, 2]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr.sort()</span><br><span class="line">arr</span><br></pre></td></tr></table></figure><pre><code>array([[2, 6, 7],       [2, 3, 6],       [2, 3, 4]])</code></pre><p>从上述代码可以看出, 当调用 <code>sort()</code> 方法后, 数组 arr 中数据按行从小到大进行排序. 需要注意的是, 使用 <code>sort()</code> 方法排序会<strong>修改数组本身</strong>.</p><p>如果希望对任何一个轴上的元素进行排序, 只需要将轴的编号作为 <code>sort()</code> 方法的参数传入即可. 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([[<span class="number">6</span>,<span class="number">2</span>,<span class="number">7</span>],[<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>],[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]])</span><br><span class="line">arr</span><br></pre></td></tr></table></figure><pre><code>array([[6, 2, 7],       [3, 6, 2],       [4, 3, 2]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr.sort(<span class="number">0</span>)</span><br><span class="line">arr</span><br></pre></td></tr></table></figure><pre><code>array([[3, 2, 2],       [4, 3, 2],       [6, 6, 7]])</code></pre><p><strong>理解: <code>arr.sort(0)</code> 的直观操作</strong></p><blockquote><ul><li><strong>轴0（行方向）</strong>：想象你 <strong>从上到下垂直移动</strong>（处理每一列）。</li><li><strong>轴1（列方向）</strong>：想象你 <strong>从左到右水平移动</strong>（处理每一行）。</li></ul></blockquote><p>当执行 <code>arr.sort(0)</code>（沿轴0排序）时：</p><ul><li><strong>操作方向：从上到下</strong>（垂直方向）。</li><li><strong>具体行为</strong>：对 <strong>每一列</strong> 独立排序（每一列的数字按升序排列）。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">原始数组：</span><br><span class="line">列0  列1  列2</span><br><span class="line"> ↓    ↓    ↓</span><br><span class="line">[6,   2,   7]  ← 行0</span><br><span class="line">[3,   6,   2]  ← 行1</span><br><span class="line">[4,   3,   2]  ← 行2</span><br><span class="line"></span><br><span class="line">沿轴0（列方向）排序后的结果：</span><br><span class="line">列0排序 ↓  列1排序 ↓  列2排序 ↓</span><br><span class="line">    [3,   2,   2]  ← 行0</span><br><span class="line">    [4,   3,   2]  ← 行1</span><br><span class="line">    [6,   6,   7]  ← 行2</span><br></pre></td></tr></table></figure><p><span style="color: red"><strong>关键理解</strong></span></p><ul><li><span style="color: red"><strong>为什么叫「沿行方向处理」？</strong></span><br><span style="color: red">因为你在处理时，<strong>沿着行的方向（上下移动）</strong>，依次处理每一列的数据（比如先处理列0，再处理列1）。</span></li></ul><h3 id="2-8-4-检索数组元素"><a href="#2-8-4-检索数组元素" class="headerlink" title="2.8.4 检索数组元素"></a>2.8.4 检索数组元素</h3><p>在 NumPy 中, <code>all()</code> 函数用于判断整个数组中的元素的值是否完全满足条件, 如果满足条件返回 <code>True</code>, 否则返回 <code>False</code>. <code>any()</code> 函数用于判断整个数组中的元素至少有一个满足条件就返回 <code>True</code>, 否则返回 <code>False</code>.</p><p>使用 <code>all()</code> 和 <code>any()</code> 函数检索数组元素的示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([[<span class="number">1</span>,-<span class="number">2</span>,-<span class="number">7</span>],[-<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>],[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]])</span><br><span class="line">arr</span><br></pre></td></tr></table></figure><pre><code>array([[ 1, -2, -7],       [-3,  6,  2],       [ 4,  3,  2]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.<span class="built_in">any</span>(arr&gt;<span class="number">0</span>)       <span class="comment"># arr 的所有元素是否有一个大于 0</span></span><br></pre></td></tr></table></figure><pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.<span class="built_in">all</span>(arr&gt;<span class="number">0</span>)       <span class="comment"># arr 的所有元素是否都大于 0</span></span><br></pre></td></tr></table></figure><pre><code>False</code></pre><h3 id="2-8-5-唯一化及其他集合逻辑"><a href="#2-8-5-唯一化及其他集合逻辑" class="headerlink" title="2.8.5 唯一化及其他集合逻辑"></a>2.8.5 唯一化及其他集合逻辑</h3><p>针对一维数组, NumPy 提供了 <code>unique()</code> 函数来找出数组中的唯一值, 并返回排序后的结果, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([<span class="number">12</span>,<span class="number">11</span>,<span class="number">34</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">8</span>,<span class="number">11</span>])</span><br><span class="line">np.unique(arr)      <span class="comment"># 去重</span></span><br></pre></td></tr></table></figure><pre><code>array([ 8, 11, 12, 23, 34])</code></pre><p>除此之外, 还有一个 <code>in1d()</code> 函数用于判断数组中的元素是否在另一个数组中存在, 该函数返回的是一个布尔型的数组, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.in1d(arr,[<span class="number">11</span>,<span class="number">12</span>])</span><br></pre></td></tr></table></figure><pre><code>array([ True,  True, False, False,  True, False,  True])</code></pre><p>NumPy 提供的有关集合的函数还有很多, 下面是数组集合运算的常见函数.</p><div class="table-container"><table><thead><tr><th>函数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>unique(x)</td><td style="text-align:left">计算 x 中的唯一元素, 并返回有序结果</td></tr><tr><td>intersect1d(x,y)</td><td style="text-align:left">计算 x 和 y 中的公共元素, 并返回有序结果</td></tr><tr><td>union1d(x,y)</td><td style="text-align:left">计算 x 和 y 的并集, 并返回有序结果</td></tr><tr><td>in1d(x,y)</td><td style="text-align:left">得到一个表示”x 的元素是否包含 y”的布尔型数组</td></tr><tr><td>setdiff1d(x,y)</td><td style="text-align:left">集合的差, 即元素在 x 中且不在 y 中</td></tr><tr><td>setxor1d(x,y)</td><td style="text-align:left">集合的对称差, 即存在于一个数组中但不同时存在于两个数组中的元素</td></tr></tbody></table></div><h2 id="2-9-线性代数模块"><a href="#2-9-线性代数模块" class="headerlink" title="2.9 线性代数模块"></a>2.9 线性代数模块</h2><p>线性代数是数学运算中的一个重要工具, 它在图形信号处理, 音频信号处理中起非常重要的作用. <code>numpy.linalg</code> 模块中有一组标准的矩阵分解运算以及诸如逆和行列式之类的东西. 例如, 矩阵相乘, 如果通过 “*” 对两个数组相乘, 得到的是一个元素级的乘积, 而不是一个矩阵点积.</p><p>NumPy 中提供了一个用于矩阵乘法的 <code>dot()</code> 方法, 该方法的用法示例如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr_x = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">arr_y = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr_x)</span><br><span class="line"><span class="built_in">print</span>(arr_y)</span><br><span class="line">arr_x.dot(arr_y)        <span class="comment"># 等价于 np.dot(arr_x,arr_y)</span></span><br></pre></td></tr></table></figure><pre><code>[[1 2 3] [4 5 6]][[1 2] [3 4] [5 6]]array([[22, 28],       [49, 64]])</code></pre><p>矩阵点积的条件是矩阵A的列数等于矩阵B的行数, 假设 A 为 m✕p 的矩阵, B 为 p✕n 的矩阵, 那么矩阵 A 与 B 的乘积就是一个 m✕n 的矩阵 C, 其中矩阵 C 的第 i 行第 j 列的元素可以表示为:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/7b1c9871399341a891febf8829bc2383.png" alt="在这里插入图片描述"></p><p>上述矩阵 arr_x 与 arr_y 的乘积如下图所示.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/393e5b54052a4376901e16b8e0b68e4a.png" alt="在这里插入图片描述"></p><p>除此之外, <code>linalg</code> 模块中还提供了其他很多有用的函数, 具体如下.</p><div class="table-container"><table><thead><tr><th>函数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>dot</td><td style="text-align:left">矩阵乘法</td></tr><tr><td>diag</td><td style="text-align:left">以一维数组的形式返回方阵的对角线, 或将一维数组转为方阵</td></tr><tr><td>trace</td><td style="text-align:left">计算对角线元素和</td></tr><tr><td>det</td><td style="text-align:left">计算矩阵的行列式</td></tr><tr><td>eig</td><td style="text-align:left">计算方阵的特征值和特征向量</td></tr><tr><td>inv</td><td style="text-align:left">计算方阵的逆</td></tr><tr><td>qr</td><td style="text-align:left">计算 qr 分解</td></tr><tr><td>svd</td><td style="text-align:left">计算奇异值(SVD)</td></tr><tr><td>solve</td><td style="text-align:left">解线性方程组 Ax=b, 其中 A 是一个方阵</td></tr><tr><td>1stsq</td><td style="text-align:left">计算 Ax=b 的最小二乘解</td></tr></tbody></table></div><h2 id="2-10-随机数模块"><a href="#2-10-随机数模块" class="headerlink" title="2.10 随机数模块"></a>2.10 随机数模块</h2><p>与 Python 的 random 模块相比, NumPy 的 random 模块功能更多, 它增加了一些可以高效生成多种概率分布的样本值的函数. 例如, 通过 NumPy 的 random 模块随机生成了一个 3 行 3 列的数组, 示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.random.rand(<span class="number">3</span>,<span class="number">3</span>)     <span class="comment"># 随机生成一个二维数组</span></span><br></pre></td></tr></table></figure><pre><code>array([[0.15259203, 0.96894671, 0.11222132],       [0.49061311, 0.97040608, 0.50455898],       [0.04179985, 0.8569699 , 0.8445863 ]])</code></pre><p>上述代码中, <code>rand()</code> 函数隶属于 <code>numpy.random</code> 模块, 它的作用是随机生成 N 维浮点数组. 需要注意的是, 每次运行代码后生成的随机数组都不一样.</p><p>除此之外, <code>random</code> 模块中还包括了可以生成服从多种概率分布随机数的其他函数. 下面列举了 <code>numpy.random</code> 模块中用于生成大量样本值的函数.</p><div class="table-container"><table><thead><tr><th>random 模块的常见函数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>seed</td><td style="text-align:left">生成随机数的种子</td></tr><tr><td>rand</td><td style="text-align:left">产生均匀分布的样本值</td></tr><tr><td>randint</td><td style="text-align:left">从给定的上下限范围内随机选取整数</td></tr><tr><td>normal</td><td style="text-align:left">产生正态分布的样本值</td></tr><tr><td>beta</td><td style="text-align:left">产生 Beta 分布的样本值</td></tr><tr><td>uniform</td><td style="text-align:left">产生在 [0,1] 中的均匀分布的样本值</td></tr></tbody></table></div><p>在上面的函数中, <code>seed()</code> 函数可以保证生成的随机只具有可预测性, 也就是说产生的随机数相同, 它的语法格式如下:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.random.seed(seed=none)</span><br></pre></td></tr></table></figure><p>上述函数中只有一个 <code>seed</code> 参数, 用于指定随机数生成时所用算法开始的整数值. 当调用 <code>seed()</code> 函数时, 如果传递给 <code>seed</code> 参数的值相同, 则每次生成的随机数都是一样的. 如果不传递这个参数值, 则系统会根据时间来自己选择值, 此时每次生成的随机数会因时间差异而不同.</p><p>使用 <code>seed()</code> 函数的示例代码如下.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">0</span>)   <span class="comment"># 生成随机数的种子</span></span><br><span class="line">np.random.rand(<span class="number">5</span>)   <span class="comment"># 随机生成包含 5 个元素的浮点数组</span></span><br></pre></td></tr></table></figure><pre><code>array([0.5488135 , 0.71518937, 0.60276338, 0.54488318, 0.4236548 ])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line">np.random.rand(<span class="number">5</span>)</span><br></pre></td></tr></table></figure><pre><code>array([0.5488135 , 0.71518937, 0.60276338, 0.54488318, 0.4236548 ])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed()</span><br><span class="line">np.random.rand(<span class="number">5</span>)</span><br></pre></td></tr></table></figure><pre><code>array([0.62979455, 0.48687157, 0.23137517, 0.71878505, 0.93389724])</code></pre><p>由此可见, <code>seed()</code> 函数使得随机数具有预见性. 当传递的参数值不同或者不传递参数时, 则该函数的作用跟 <code>rand()</code> 函数相同, 即多次生成随机数且每次生成的随机数都不同.</p><div class="note success flat"><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>本章主要针对科学计算库 NumPy 进行了介绍, 包括 ndarray 数组对象的属性和数据类型, 数组的运算, 索引和切片操作, 数组的转置和轴对称个, NumPy 通用函数, 线性代数模块, 随机数模块, 以及使用数组进行数据处理的相关操作.</p></div>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 数据分析 </tag>
            
            <tag> numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一章-配置环境</title>
      <link href="/post/31e014ec.html"/>
      <url>/post/31e014ec.html</url>
      
        <content type="html"><![CDATA[<h1 id="第一章-配置环境"><a href="#第一章-配置环境" class="headerlink" title="第一章-配置环境"></a>第一章-配置环境</h1><h2 id="1-创建新的Python环境——Anaconda"><a href="#1-创建新的Python环境——Anaconda" class="headerlink" title="1. 创建新的Python环境——Anaconda"></a>1. 创建新的Python环境——Anaconda</h2><p>​    Python的开发环境中拥有诸如Numpy、Pandas、Matplotlib等功能齐全的库，能够为数据分析工作提供极大的便利，不过，库的管理及版本问题不能让数据分析人员专注于数据分析，而是将大量的时间花费在解决包配置与包冲突等问题上。</p><p>​    基于上述需求，可以使用Anaconda进行开发，它是一个集成了大量常用扩展包的环境，能够避免包配置或兼容等各种问题。</p><h3 id="1-1-Anaconda发行版本概述"><a href="#1-1-Anaconda发行版本概述" class="headerlink" title="1.1 Anaconda发行版本概述"></a>1.1 Anaconda发行版本概述</h3><p>​    Anaconda是一个可以便捷获取和管理包，同时对环境进行统一管理的发型版本，它包含了conda、python在内的超过180个科学包及其依赖项。</p><p>​    Anaconda发行版本具有以下几个特点：</p><ol><li>包含了众多流行的科学、数学、工程和数据分析的python库。</li><li>完全开源和免费。</li><li>额外的加速和优化是收费的，但对于学术用途，可以申请免费的License。</li><li>全平台支持Linux、windows、MacOS，可以自由切换Python版本。</li></ol><p>在此基础上，推荐安装Anaconda进行学习。</p><h3 id="1-2-Anaconda安装"><a href="#1-2-Anaconda安装" class="headerlink" title="1.2 Anaconda安装"></a>1.2 Anaconda安装</h3><p>进入到官网：<a href="https://www.anaconda.com/download/success">Anaconda官网</a></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/be232135660200c30dd1a8c3b9aae9e7.png" alt="image-20250423112033122"></p><p>下载完成后进入安装。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/7cccfa6244a1f48c599725c3bcf8b538.png" alt="image-20250423112447084"></p><p>一路默认安装。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/f8c4ffe0ff1ded7d7341908589670fe7.png" alt=""></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/d6abe7ffd8517a0371a60a11f0e9fb2f.png" alt=""></p><p>若是出现上面的提醒则是安装路径有空格,可能会导致之后使用错误，所以尽量安装路径不要带有中文或空格等。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/623f14dcda4f9529174b795494304002.png" alt=""></p><p>默认安装就好, 上述选项依次是:</p><ol><li>创建快捷方式</li><li>将Anaconda3加入到系统环境变量中, 但是不推荐</li><li>将Anaconda的Python版本设为默认, 推荐.</li><li>清理缓存.</li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/14722527e620809614d6b8978e80cf30.png" alt="image-20250423113542349"></p><p>等待安装…</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/614a4277c475bb0d85bb1cb4c0fa67a0.png" alt="image-20250423115447026"></p><h3 id="1-3-通过Anaconda管理Python包"><a href="#1-3-通过Anaconda管理Python包" class="headerlink" title="1.3 通过Anaconda管理Python包"></a>1.3 通过Anaconda管理Python包</h3><p>​    Anaconda集成了常用的扩展包,能够方便的对这些扩展包进行管理, 比如安装和卸载包, 这些操作都需要依赖 conda. conda 是一个在 Windows, MacOS 和 Linux 上运行的开源软件包管理系统和环境管理系统, <strong>可以快速的安装, 运行和更新软件包及其依赖库</strong>.</p><p>​    在 Windows 系统下, 用户可以打开 Anaconda Prompt 工具, 然后在 Anaconda Prompt 中通过命令检测 conda 是否被安装, 命令如下.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/b57958392137e59ad7b642e2af657132.png" alt="image-20250423142523861"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(base) C:\Users\25361&gt;conda --version</span><br><span class="line">conda 24.11.3</span><br></pre></td></tr></table></figure><p>​    也可以配置环境变量, 重启电脑后, 在 cmd 终端中也可以使用 conda.</p><p>​    <strong>注意: </strong>如果希望快速了解如何使用 conda 命令管理包, 则可以在终端输入 <code>conda -h</code> 或 <code>conda --help</code> 命令来查看帮助文档.</p><p>​    conda 命令的常见操作主要分为以下几种: </p><ol><li><p>查看当前环境下的包信息</p><p>使用 <code>list</code> 命令可以获取当前环境中已经安装的包信息, 命令格式如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(base) C:\Users\25361&gt;conda list</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">packages <span class="keyword">in</span> environment at E:\anaconda3:</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Name                    Version                   Build  Channel</span></span></span><br><span class="line">_anaconda_depends         2024.10             py312_mkl_0    defaults</span><br><span class="line">aiobotocore               2.12.3          py312haa95532_0    defaults</span><br><span class="line">aiohappyeyeballs          2.4.0           py312haa95532_0    defaults</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>执行上述命令后, 终端会显示当前环境下已经安装的包名以及版本号.</p></li><li><p>查找包(<strong>远程查找, 不是查找本地</strong>)</p><p>使用 <code>search</code> 命令可以查找可供安装的包, 命令格式如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda search --full-name 包的全名</span><br></pre></td></tr></table></figure><p>上述命令中, <code>--full-name</code> 为精确查找的参数, 后面紧跟的是包的全名. 例如,查找全名为 <code>Python</code> 的包有些版本可供安装, 示例命令如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(base) C:\Users\25361&gt;conda search --full-name python</span><br><span class="line">Loading channels: done</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Name                       Version           Build  Channel</span></span><br><span class="line">python                         2.6.8               5  anaconda/pkgs/free</span><br><span class="line">python                         2.6.8               6  anaconda/pkgs/free</span><br><span class="line">python                         2.6.9               0  anaconda/pkgs/free</span><br><span class="line">...</span><br></pre></td></tr></table></figure></li><li><p>安装包</p><p>使用 <code>install</code> 命令可以安装包, 如果希望在指定的环境中进行安装, 则可以在 <code>install</code> 命令的后面显式地指定环境名称, 命令格式如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install --name env_name packgae_name</span><br></pre></td></tr></table></figure><p>上述命令中, <code>env_name</code> 参数表示包安装的环境名称, <code>package_name</code> 表示将要安装的包名称, 例如在 python3 环境中安装 pandas 包, 示例命令如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install --name python3 pandas</span><br></pre></td></tr></table></figure><p><strong>注意: </strong>这里的 <code>python3</code> 不是版本, 是利用 conda 创建的一个独立的虚拟 python 环境, 具体的利用 conda 创建虚拟环境可查询网络自行了解.</p><p>如果要在当前的环境中安装包, 则可以直接使用 <code>install</code> 命令进行安装, 命令格式如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install package_name</span><br></pre></td></tr></table></figure><p>执行上述命令, 会在当前的环境下安装 <code>package_name</code> 包.</p><p>若无法使用 <code>conda install</code> 命令进行安装时,则可以使用 <code>pip</code> 命令进行咱庄. 值得一提的是, <code>pip</code>只是包管理器, 它无法对环境进行管理, 所以要想在指定的环境中使用 <code>pip</code> 安装包, 需要先切换到指定环境中使用 <code>pip</code> 命令进行安装, <strong>(<code>pip</code> 可以先切换到清华的镜像源, 这样下载更快)</strong>. <code>pip</code> 命令格式如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install package_name</span><br></pre></td></tr></table></figure><p>例如, 使用 <code>pip</code> 命令安装名称为 see 的包, 示例如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install see</span><br></pre></td></tr></table></figure></li><li><p>卸载包</p><p>如果要在指定的环境中卸载包, 则可以在指定环境下使用 <code>remove</code> 命令进行移除, 命令格式如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda remove --name env_name package_name</span><br></pre></td></tr></table></figure><p>例如, 卸载名为 python3 环境下的 pandas 包, 示例命令如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda remove --name python3 pandas</span><br></pre></td></tr></table></figure><p>同样, 如果要卸载当前环境中的包, 可以直接使用 <code>remove</code> 命令进行卸载, 命令格式如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda remove package_name 或</span><br><span class="line">pip uninstall package_name</span><br></pre></td></tr></table></figure></li><li><p>更新包</p><p>更新当前环境下所有包, 可使用如下命令完成.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda update --all</span><br></pre></td></tr></table></figure><p>如果只想更新某个包或某些包, 则直接在 <code>update</code> 命令的后面加上包名即可, 多个包之间使用空格隔开, 示例命令如下.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda update numpy#更新 numpy 包</span><br><span class="line">conda update pandas numpy matplotlib#更新多个包</span><br></pre></td></tr></table></figure><p><strong>注意: </strong>Miniconda 是最小的 conda 安装环境, 只包含最基本的 python 与 conda 以及相关的必须依赖项. 对于空间要求严格的用户, Miniconda 是一种选择, 它只包含了最基本的库, 其他的库需要自己手动安装.</p></li></ol><h2 id="2-启用-Jupyter-Notebook"><a href="#2-启用-Jupyter-Notebook" class="headerlink" title="2 启用 Jupyter Notebook"></a>2 启用 Jupyter Notebook</h2><p>​    Jupyter Notebook (交互式笔记本) 是一个支持实时代码, 数学方程, 可视化和 Markdown 的 Web 应用程序, 它支持 40 多种编程语言. 对于数据分析来说, jupyter Notebook 最大的优点是可以重现整个分析过程, 并将说明文字, 代码, 图表, 公式和结论都整合在一个文档中, 用户可以通过电子邮件, Dropbox, Github 和 Jupyter Notebook Viewer 将分析结构分享给其他人. </p><h3 id="2-1-启动-Anaconda-自带的-jupyter-notebook"><a href="#2-1-启动-Anaconda-自带的-jupyter-notebook" class="headerlink" title="2.1 启动 Anaconda 自带的 jupyter notebook"></a>2.1 启动 Anaconda 自带的 jupyter notebook</h3><p>​    只要当前系统中安装了 Anaconda 环境, 则默认就已经拥有的了 Jupyter Notebook, 不需要再另行下载和安装. 在 windows 系统的 “开始” 菜单中, 打开 Anaconda3 目录, 找到并单击 “Jupyter Notebook”, 弹出如下启动窗口.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/94f4138c6a52539e2f2ca6c7632eb02f.png" alt="image-20250424114132365"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/9d978c8d2086c34ea715c8600e1dd468.png" alt="image-20250424114410401"></p><p>​    同时, 系统默认的浏览器会弹出进入的界面.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/49e007017969d36bdd087a0a7d79e1ad.png" alt="image-20250424114546715"></p><p>​    这是在浏览器打开的 Jupyter Notebook 的主界面, 默认的打开和保存的路径为<strong>C:\Users\当前用户名.</strong></p><p>​    除了上述的启动方式外, 还可以用命令行打开, 这种方式可以控制 Jupyter Notenook 的显示和保存路径, 是推荐的启动方式. 在命令提示符中先进入对应的目录, 然后在此目录下输入 <code>Jupyter Notebook</code> 后按 <code>【回车】</code>键打开, 这样一来, 显示工程目录和保存 ipynb 文件都将在此目录下进行.</p><h3 id="2-2-使用-Pycharm-运行-Jupyter-Notebook"><a href="#2-2-使用-Pycharm-运行-Jupyter-Notebook" class="headerlink" title="2.2 使用 Pycharm 运行 Jupyter Notebook"></a>2.2 使用 Pycharm 运行 Jupyter Notebook</h3><p>​    由于 Pycharm 优秀的提示词和开箱即用的方便, 故之后的开发环境都在 Pycharm 中进行, 对于具体的实现方式, 网络中有大量的经验教程, 可自行在网络中查询, 本文不再赘述. 最终的实现效果如下.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/a4225b7a1eef6e4163b27e9921c86ae2.png" alt="image-20250424115529511"></p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 数据分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AI学习路线图</title>
      <link href="/post/f51c7afe.html"/>
      <url>/post/f51c7afe.html</url>
      
        <content type="html"><![CDATA[<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>人工智能学习路线</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2025-04-22 16:23:58</p></div></div><div class='timeline-item-content'><h2 id="Python数据分析与应用"><a href="#Python数据分析与应用" class="headerlink" title="Python数据分析与应用"></a>Python数据分析与应用</h2><p><a href="http://redbeancc.github.io/post/31e014ec.html">第一章-配置环境</a><br><a href="http://redbeancc.github.io/post/ed1a7053.html">第二章-科学计算库NumPy</a></p></div></div></div>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> AI </tag>
            
            <tag> 数据分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言学习笔记</title>
      <link href="/post/13675369.html"/>
      <url>/post/13675369.html</url>
      
        <content type="html"><![CDATA[<h1 id="一、初识"><a href="#一、初识" class="headerlink" title="一、初识"></a>一、初识</h1><h2 id="标准输入输出函数"><a href="#标准输入输出函数" class="headerlink" title="标准输入输出函数"></a>标准输入输出函数</h2><ul><li><p><code>printf()</code>:</p><ol><li><p>%3.2f: 总宽度是3，小数部分是两位。<span style="color:red"><strong>这里宽度是算上 .这个符号的</strong></span></p><p>但这里有个问题，如果数值的整数部分超过3位会怎么样？</p><p>比如123.45，这时候宽度会自动扩展，不会截断，所以3可能只是最小宽度。</p><p>这时候用户可能会误解，认为总宽度被限制为3，但实际上不够的话会自动扩展。</p></li><li><p>%10.2f会保留10个字符的宽度，不足的话用空格填充，右对齐，而%-10.2f则是左对齐</p></li><li><p>如果实际数值的小数位数超过指定的精度，会进行四舍五入。比如3.1415用%.2f会变成3.14</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 学生信息输入输出,输出成绩需进行四舍五入且保留2位小数</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">work_example4</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> id = <span class="number">0</span>;</span><br><span class="line">    <span class="type">float</span> c = <span class="number">0.0f</span>; <span class="comment">// 不加f默认是double类型</span></span><br><span class="line">    <span class="type">float</span> math = <span class="number">0.0f</span>;</span><br><span class="line">    <span class="type">float</span> eng = <span class="number">0.0f</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d;%f,%f,%f&quot;</span>, &amp;id, &amp;c, &amp;math, &amp;eng); <span class="comment">// 1234567;80.845,90.55,100.00</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;The each subject score of No. %d is %6.2f, %6.2f, %6.2f.\n&quot;</span>,</span><br><span class="line">        id, c, math, eng); <span class="comment">//// The each subject score of No. 1234567 is 空80.85, 空90.55, 100.00.</span></span><br><span class="line">    <span class="comment">// 关于printf</span></span><br><span class="line">    <span class="comment">// 1. %3.2f: 总宽度是3，小数部分是两位。这里宽度是算上 .这个符号的</span></span><br><span class="line">    <span class="comment">//    但这里有个问题，如果数值的整数部分超过3位会怎么样？</span></span><br><span class="line">    <span class="comment">//    比如123.45，这时候宽度会自动扩展，不会截断，所以3可能只是最小宽度。</span></span><br><span class="line">    <span class="comment">//    这时候用户可能会误解，认为总宽度被限制为3，但实际上不够的话会自动扩展。</span></span><br><span class="line">    <span class="comment">// 2. %10.2f会保留10个字符的宽度，不足的话用空格填充，右对齐，而%-10.2f则是左对齐</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%10.2f\n&quot;</span>, <span class="number">12.56</span>); <span class="comment">//空空空空空12.56</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%-10.2f\n&quot;</span>, <span class="number">12.56</span>);<span class="comment">//12.56空空空空空</span></span><br><span class="line">    <span class="comment">// 3. 如果实际数值的小数位数超过指定的精度，会进行四舍五入。比如3.1415用%.2f会变成3.14</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>格式化输出数字</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%02d\n&quot;</span>, <span class="number">2</span>); <span class="comment">// 02, 2d 输出两个数字, %0 不满足时,左面补0</span></span><br></pre></td></tr></table></figure></li><li><p><code>printf()</code>返回打印的字符个数,如果错误就返回一个负数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n = <span class="built_in">printf</span>(<span class="string">&quot;Hello world!&quot;</span>); <span class="comment">// Hello world!</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n%d\n&quot;</span>,n); <span class="comment">// 12</span></span><br></pre></td></tr></table></figure></li></ol></li></ul><ul><li><p><code>scanf()</code>:</p><ol><li><p>可以通过scanf函数的%m格式控制可以制定输入域宽(列数),按此宽度截取所需数据</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%4d%2d%2d&quot;</span>, &amp;year, &amp;month, &amp;day); <span class="comment">// 20130225</span></span><br></pre></td></tr></table></figure></li></ol></li></ul><h1 id="发展"><a href="#发展" class="headerlink" title="发展"></a>发展</h1><blockquote><p>什么是编译?</p><p>c/c++是编译型的语言</p><p>test.c —-&gt;编译—-&gt;链接—-&gt;test.exe </p></blockquote><h2 id="声明外部元素-extern"><a href="#声明外部元素-extern" class="headerlink" title="声明外部元素 extern"></a>声明外部元素 extern</h2><blockquote><p>同一工程不同的文件</p><p>extern 只是声明变量，与声明文件不同</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// externFile.c</span></span><br><span class="line"><span class="comment">// 注意这里不可加 define 关键字</span></span><br><span class="line"><span class="type">int</span> extern_a = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// 两个变量名字必须一致，即extern_a</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 启动项.c</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> extern_a;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;外部的a=%d&quot;</span>, extern_a);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>C语言的常量分为</p><ul><li>字面常量</li><li><code>const</code>修饰的常变量<ul><li>本质是变量，但是不能直接修改，有常量的属性</li></ul></li><li><h1 id="define-定义的标识符常量"><a href="#define-定义的标识符常量" class="headerlink" title="define 定义的标识符常量"></a>define 定义的标识符常量</h1></li><li>枚举常量</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const修饰</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">const_example</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> var_a = <span class="number">10</span>;</span><br><span class="line">    var_a = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;var_a=%d&quot;</span>, var_a);</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> const_b = <span class="number">15</span>;</span><br><span class="line">    <span class="comment">// 编辑器报错，不允许修改</span></span><br><span class="line">    <span class="comment">// const_b = 25;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 本质是变量，但是不能直接修改，有常量的属性</span></span><br><span class="line">    <span class="type">int</span> arr[const_b] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    <span class="comment">// 此处const_b会报错，提示数组必须输入常量值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// define 定义的标识符常量</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX 100</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STR <span class="string">&quot;abcde&quot;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">const_define</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;MAX = %d\n&quot;</span>, MAX);</span><br><span class="line">    <span class="type">int</span> a = MAX;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = MAX = %d\n&quot;</span>, a);</span><br><span class="line">    <span class="comment">//MAX = 200; //err:等式左操作数必须可修改</span></span><br><span class="line">    <span class="comment">// define 定义的是常量，与什么类型无关</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;define 定义的字符串常量：%s\n&quot;</span>, STR);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 枚举类型：能够穷举的类型</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">// 枚举常量，不可修改</span></span><br><span class="line">    RED,</span><br><span class="line">    GREEN,</span><br><span class="line">    BLUE</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">const_enum</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Color</span> <span class="title">c</span> =</span> RED;</span><br><span class="line">    <span class="comment">//RED = 20;// err:常量不可修改</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>2025-01-05 14:08:20</p><blockquote><p>字符串的结束标志是<code>\0</code>的转义字符。在计算字符的长度时<code>\0</code>是结束标识，不算作字符串内容。</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">string</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// C语言中的基本类型没有字符串</span></span><br><span class="line">    <span class="comment">// 字符串就是char字符类型的数组</span></span><br><span class="line">    <span class="type">char</span> a = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    <span class="comment">// 若不确定字符串长度，或者不进行限定，则初始化数组时无需定义数组长度</span></span><br><span class="line">    <span class="type">char</span> arr[] = <span class="string">&quot;abcdef&quot;</span>;<span class="comment">// 7</span></span><br><span class="line">    <span class="comment">// 打开断点调试，发现字符串后隐藏了一个\0转义字符</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/738dea3bc31c3f97312f2809349885c9.png" alt="image-20250105144531518"></p><ol><li><p><strong>思考：有无\0是否有差别？</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> arr1[] = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line"><span class="type">char</span> arr2[] = &#123; <span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span> &#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, arr1);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, arr2);</span><br></pre></td></tr></table></figure></li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/a8b3e73c1118aba06a43f3f166700458.png" alt="image-20250105145317050"></p><p>打印结果的不同是因为没遇到转义字符<code>\0</code>进行结束标识，会一直打印内存地址后面的内容直到遇到<code>\0</code>停止打印。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/f726859a4a30fde3d508a29a1a87e977.png" alt="image-20250105145709374"></p><ol><li><p><code>\0</code>对使用库函数 <code>strlen()</code>函数的影响</p><blockquote><p>使用 <code>strlen()</code>库函数需要引入 <code>string.h</code>头文件</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;\&quot;abc\&quot;的长度为：%d\n&quot;</span>, <span class="built_in">strlen</span>(<span class="string">&quot;abc&quot;</span>));</span><br><span class="line"><span class="comment">// &quot;abc&quot;的长度为：3</span></span><br><span class="line">   <span class="type">char</span> arr3[] = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line">   <span class="type">char</span> arr4[] = &#123; <span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span> &#125;;</span><br><span class="line">   <span class="type">char</span> arr5[] = &#123; <span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;\0&#x27;</span> &#125;;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;arr3的长度为：%d\n&quot;</span>, <span class="built_in">strlen</span>(arr3));</span><br><span class="line"><span class="comment">// arr3的长度为：6</span></span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;arr4的长度为：%d\n&quot;</span>, <span class="built_in">strlen</span>(arr4));</span><br><span class="line"><span class="comment">// arr4的长度为：38</span></span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;arr5的长度为：%d\n&quot;</span>, <span class="built_in">strlen</span>(arr5));</span><br><span class="line"><span class="comment">// arr5的长度为：6</span></span><br></pre></td></tr></table></figure><p>原因同上，计算长度一直计算到<code>\0</code>转义字符作为结束标识。</p></li></ol><h3 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h3><div class="table-container"><table><thead><tr><th>printf打印类型</th><th>含义</th></tr></thead><tbody><tr><td>%d</td><td>打印整型</td></tr><tr><td>%c</td><td>打印字符型</td></tr><tr><td>%s</td><td>打印字符串</td></tr><tr><td>%f</td><td>打印float浮点型</td></tr><tr><td>%lf</td><td>打印double浮点型</td></tr><tr><td>%zu</td><td>打印sizeof的返回值</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>转义字符</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td>\n</td><td style="text-align:center">换行</td></tr><tr><td>\‘</td><td style="text-align:center">打印字符常量单引号\’</td></tr><tr><td>\“</td><td style="text-align:center">打印双引号</td></tr><tr><td>\\</td><td style="text-align:center">打印斜杠</td></tr><tr><td>\r</td><td style="text-align:center">回车</td></tr><tr><td>\t</td><td style="text-align:center">一个制表符，类似 tab键</td></tr><tr><td>\ddd</td><td style="text-align:center">八进制，例如 \101 -&gt; A</td></tr><tr><td>\xdd</td><td style="text-align:center">十六进制</td></tr></tbody></table></div>   <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">char_escape</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, <span class="string">&#x27;\101&#x27;</span>); <span class="comment">// 转十进制：65，ASCII码为 A</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, <span class="string">&#x27;\x61&#x27;</span>); <span class="comment">// 转十进制：97，ASCII码为 a</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>   笔试题：</p>   <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 程序输出什么</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">strlen</span>(<span class="string">&quot;abcd ef&quot;</span>)); <span class="comment">// 7,因为计算是从前到后数到`\0`才算结束，空格也算一个字符</span></span><br><span class="line">    print(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">strlen</span>(<span class="string">&quot;C:\test\628\test.c&quot;</span>)); <span class="comment">// 14,\t算一个字符，\62算八进制的一个字符，8算一个字符</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">array</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 数组:如果不赋值，默认值为0,字符串终止字符`\0`也是0</span></span><br><span class="line">    <span class="type">char</span> arr[<span class="number">4</span>] = &#123; <span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;i&#x27;</span>,<span class="string">&#x27;t&#x27;</span> &#125;;</span><br><span class="line">    <span class="type">int</span> arr2[<span class="number">4</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> &#125;;</span><br><span class="line">    <span class="type">char</span> arr3[] = &#123; <span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;i&#x27;</span>,<span class="string">&#x27;t&#x27;</span> &#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">strlen</span>(arr));<span class="comment">// 3</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">strlen</span>(arr3));<span class="comment">// 随机值</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组设置常量</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">array_const</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> arr1[MAX] = &#123; <span class="number">1</span> &#125;; <span class="comment">//编译通过</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> min = <span class="number">2</span>;</span><br><span class="line">    <span class="comment">//int arr2[min] = &#123; 1 &#125;; //编译不通过</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> arr2[<span class="number">5</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span> &#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">3</span>;</span><br><span class="line">    <span class="comment">// 当初始化完成时,下标可以是变量</span></span><br><span class="line">    arr2[n] = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(arr2) / <span class="keyword">sizeof</span> arr1[<span class="number">0</span>]; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 1 2 3 20 5</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, arr2[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>二维数组的初始化</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr3[][<span class="number">3</span>] = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;...&#125;; <span class="comment">// 列必须得初始化</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// &amp;arr[0]: 0x00 0x04 0x08</span></span><br><span class="line">   <span class="comment">// &amp;arr[1]: 0x0c 0x10 0x14</span></span><br><span class="line">   <span class="comment">// 二维数组地址连续排列,所以不需要初始化行</span></span><br><span class="line">   <span class="type">int</span> arr2[][<span class="number">3</span>] = &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;;</span><br></pre></td></tr></table></figure><h2 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h2><blockquote><p>算术操作符</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ - * / %</span><br></pre></td></tr></table></figure><ul><li><p>除号<code>/</code>两端都是整数时,执行的是整数除法,如果两端有一个是浮点型就执行浮点数的除法</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">7</span> / <span class="number">2</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a); <span class="comment">// 3</span></span><br><span class="line"><span class="type">double</span>  b = <span class="number">7</span> / <span class="number">2</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, b); <span class="comment">// 3.0000</span></span><br><span class="line"><span class="type">int</span> c = <span class="number">7.0</span> / <span class="number">2</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, c); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, c); <span class="comment">// 0.0000</span></span><br><span class="line"><span class="type">double</span> d = <span class="number">7.0</span> / <span class="number">2</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, d); <span class="comment">// 3.5000</span></span><br><span class="line"><span class="comment">// 如果只想保留一位小数</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.1f\n&quot;</span>, d);<span class="comment">// 3.5</span></span><br></pre></td></tr></table></figure></li><li><p>取模<code>%</code>两端必须是整数,不能是浮点数</p></li></ul><blockquote><p>移位操作符</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;  &lt;&lt;</span><br></pre></td></tr></table></figure><blockquote><p>位操作符</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp; ^ |</span><br></pre></td></tr></table></figure><blockquote><p>赋值操作符</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">= -= += *= /= &amp;= ^= \= &gt;&gt;= &lt;&lt;=</span><br></pre></td></tr></table></figure><blockquote><p><a id="unaryOperator">单目运算符:只有一个操作数的操作符</a></p><ul><li>双目运算符:操作符旁边有两个操作数</li></ul></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">!取反:**<span class="number">0</span>-假,非<span class="number">0</span>-真**</span><br><span class="line">-负号</span><br><span class="line">+正号(一般无意义)</span><br><span class="line">    <span class="type">int</span> a = <span class="number">-10</span>;</span><br><span class="line"><span class="type">int</span> b = +a; <span class="comment">// -10</span></span><br><span class="line">&amp;取地址</span><br><span class="line"><span class="keyword">sizeof</span>操作数类型长度(以字节为单位) 类型必须加括号,变量可以不用加.</span><br><span class="line">    <span class="keyword">sizeof</span>的返回值类型是<span class="type">size_t</span>,用 `%zu` 格式化输出更规范</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="keyword">sizeof</span>(a)); <span class="comment">// 4</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="keyword">sizeof</span> a);  <span class="comment">// 4 这个可以说明sizeof是单目运算符</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>)); <span class="comment">// 对于数据类型,得加上括号</span></span><br><span class="line">    <span class="comment">//printf(&quot;%d\n&quot;, sizeof int);// err: 编译不通过</span></span><br><span class="line">    <span class="comment">// sizeof计算数组</span></span><br><span class="line">    <span class="type">int</span> arr[<span class="number">10</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(arr)); <span class="comment">// 40 计算的是整个数组</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(arr[<span class="number">0</span>])); <span class="comment">// 4 计算数组每个元素的字节</span></span><br><span class="line">    <span class="type">char</span> arr2[] = <span class="string">&quot;12345&quot;</span>; <span class="comment">// 默认加入了 `\0`</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span> arr2); <span class="comment">// 6 计算结果包括了 `\0`</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">strlen</span>(arr2));<span class="comment">// 5 计算结果排除了 `\0`</span></span><br><span class="line"></span><br><span class="line">~对一个数进行二进制按位取反</span><br><span class="line">--自减</span><br><span class="line">++自加</span><br><span class="line">    <span class="comment">// 单目运算符:++</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;单目运算符:++\n&quot;</span>);</span><br><span class="line">    <span class="type">int</span> a2 = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b2 = a2++; <span class="comment">// 后置++,先使用,后++</span></span><br><span class="line">    <span class="comment">// int b = a; a = a + 1;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, b2); <span class="comment">// 10</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a2); <span class="comment">// 11</span></span><br><span class="line">    <span class="type">int</span> a3 = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b3 = ++a3; <span class="comment">// 前置++,先++,后使用</span></span><br><span class="line">    <span class="comment">// a3 = a3 + 1; b3 = a3;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, b3); <span class="comment">// 11</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a3); <span class="comment">// 11</span></span><br><span class="line">*间接访问操作符(解引用操作符)</span><br><span class="line">(类型)强制类型转换</span><br><span class="line">    <span class="comment">// 强制类型转换</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;强制类型转换:\n&quot;</span>);</span><br><span class="line">    <span class="type">double</span> a5 = <span class="number">3.56</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a5); <span class="comment">// 类型不匹配,输出结果是任意的</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, a5); <span class="comment">// 3.560000,浮点数用浮点型输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, (<span class="type">int</span>)a5); <span class="comment">// 3, 强制转换,截取,不会四舍五入,浮点型转换为整数型</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, (<span class="type">int</span>)a5); <span class="comment">// 0.000000, 一个整数型用float输出就是0.000000</span></span><br></pre></td></tr></table></figure><blockquote><p><a id="relationalOperator">关系操作符</a></p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;</span><br><span class="line">&gt;=</span><br><span class="line">&lt;</span><br><span class="line">&lt;=    </span><br><span class="line">!=    不相等</span><br><span class="line">==    相等</span><br></pre></td></tr></table></figure><blockquote><p>逻辑操作符</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp;逻辑与</span><br><span class="line">||逻辑或</span><br></pre></td></tr></table></figure><blockquote><p>三目表达式</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">exp1 ? exp2 : exp3</span><br><span class="line">    <span class="comment">// 三目表达式</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;三目表达式:\n&quot;</span>);</span><br><span class="line">    <span class="type">char</span> a6[<span class="number">4</span>]; <span class="comment">// 不能为3,有`\0`结束符</span></span><br><span class="line">    <span class="built_in">strcpy</span>(a6, <span class="number">2</span> &gt; <span class="number">1</span> ? <span class="string">&quot;yes&quot;</span> : <span class="string">&quot;no&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, a6); <span class="comment">// yes</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> a7 = <span class="number">2</span> &gt; <span class="number">1</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, a7); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><blockquote><p><a id="commaOperator">逗号表达式</a></p><ul><li>特点: <strong>从左向右</strong>依次计算,整个表达式的结果是<strong>最后一个</strong>表达式的结果</li></ul></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">exp1, exp2, exp3, ...</span><br><span class="line">    <span class="comment">// 逗号表达式</span></span><br><span class="line">    <span class="comment">// 特点: 从左向右依次计算,整个表达式的结果是最后一个表达式的结果</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;逗号表达式:\n&quot;</span>);</span><br><span class="line">    <span class="type">int</span> aa = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> bb = <span class="number">20</span>;</span><br><span class="line">    <span class="type">int</span> cc = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// cc = aa - 2; aa = bb + cc; </span></span><br><span class="line"><span class="comment">// dd = bb = cc - 3; =&gt; bb = cc-3; dd = bb;</span></span><br><span class="line">    <span class="type">int</span> dd = (cc = aa - <span class="number">2</span>, aa = bb + cc, bb = cc - <span class="number">3</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;aa = %d, bb = %d, cc = %d,dd = %d\n&quot;</span>, aa, bb, cc, dd);</span><br><span class="line">    <span class="comment">// aa = 28, bb = 5, cc = 8, dd = 5, dd 和最后一个 bb 的结果一致</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> x,y,z;</span><br><span class="line">    x = <span class="number">1</span>;</span><br><span class="line">    y = <span class="number">1</span>;</span><br><span class="line">    z = x++,y++,++y;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;x=%d,y=%d,z=%d&quot;</span>,x,y,z);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    x=2,y=3,z=1</span></span><br><span class="line"><span class="comment">    因为逗号标识符优先级小于赋值，所以最后z可以看作    (z = x++),y++,++y</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> y = <span class="number">20</span>;</span><br><span class="line">    a = x = y+<span class="number">1</span>; <span class="comment">// 从右往左,将x赋值为21,a=x=21,这种写法不推荐</span></span><br></pre></td></tr></table></figure><blockquote><p>下标引用、函数调用和结构成员</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[] () . -&gt; </span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Stu2</span> <span class="title">s2</span> =</span> &#123; <span class="string">&quot;李四&quot;</span>,<span class="number">20</span>,<span class="string">&quot;保密&quot;</span>,<span class="string">&quot;66666666666&quot;</span> &#125;;</span><br><span class="line">    <span class="comment">// .  主要用于对象来访问成员属性</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;姓名:%s,年龄:%d,性别:%s,电话:%s\n&quot;</span>,</span><br><span class="line">        s2.name, s2.age, s2.sex, s2.tele);</span><br><span class="line">    <span class="comment">// -&gt; 主要用于指针来访问成员属性</span></span><br><span class="line">print(&amp;s2);</span><br><span class="line">    <span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="keyword">struct</span> Stu2* ps)</span> &#123;</span><br><span class="line">        <span class="comment">// 对象</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s %d %s %s\n&quot;</span>, (*ps).name, (*ps).age, (*ps).sex, (*ps).tele);</span><br><span class="line">        <span class="comment">// 指针</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s %d %s %s\n&quot;</span>, ps-&gt;name, ps-&gt;age, ps-&gt;sex, ps-&gt;tele);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="常见关键字"><a href="#常见关键字" class="headerlink" title="常见关键字"></a>常见关键字</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> <span class="keyword">break</span> <span class="keyword">case</span> <span class="type">char</span> <span class="type">const</span> <span class="keyword">continue</span> <span class="keyword">default</span> <span class="keyword">do</span> <span class="type">double</span> <span class="keyword">else</span> <span class="keyword">enum</span> </span><br><span class="line"><span class="keyword">extern</span> <span class="type">float</span> <span class="keyword">for</span> <span class="keyword">goto</span> <span class="keyword">if</span> <span class="type">int</span> <span class="type">long</span> <span class="keyword">register</span> <span class="keyword">return</span> <span class="type">short</span> <span class="type">signed</span></span><br><span class="line"><span class="keyword">sizeof</span> <span class="type">static</span> <span class="keyword">struct</span> <span class="keyword">switch</span> <span class="keyword">typedef</span> <span class="keyword">union</span> <span class="type">unsigned</span> <span class="type">void</span> <span class="keyword">volatile</span> <span class="keyword">while</span></span><br></pre></td></tr></table></figure><p>C语言提供了丰富的关键字，这些关键字都是语言本身预先设定好的，用户自己是不能创造关键字的。</p><blockquote><p>注：关键字，先介绍下面几个，后期遇到讲解</p></blockquote><ol><li>循环类<ul><li>for</li><li>while</li><li>do…while</li><li>break</li><li>continue</li></ul></li><li>分支类<ul><li>if…else..</li><li>switch..case..default</li><li>goto</li></ul></li><li>字符类<ul><li>char,short,int,float,double,long</li><li>signed - 有符号的, unsigned - 无符号类型的</li><li>enum - 枚举, struct - 结构体, union - 联合体(共用体)</li><li>void - 空类型(一般用于函数的返回类型,函数参数)</li><li>sizeof - 计算类型大小,单位字节</li><li>typedef - 类型重命名</li></ul></li><li>外部类<ul><li>extern - 声明外部符号的</li><li>register - 寄存器,一般操作系统中使用, <strong>建议</strong>变量放入寄存器</li><li>static - 静态的</li><li>return - 函数返回值</li></ul></li></ol><p>变量的命名:</p><ol><li><p>有意义:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> age;</span><br><span class="line"><span class="type">float</span> salary;</span><br></pre></td></tr></table></figure></li><li><p>名字必须是字母、数字、下划线组成，不能有特殊字符，同时不能以数字开头</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="number">2b</span>;  <span class="comment">// err</span></span><br><span class="line"><span class="type">int</span> _2b; <span class="comment">// ok</span></span><br></pre></td></tr></table></figure></li><li><p>变量名不能是关键字</p></li></ol><h3 id="关键字typedef"><a href="#关键字typedef" class="headerlink" title="关键字typedef"></a>关键字typedef</h3><blockquote><p>typedef 顾名思义是类型定义,这里应该理解为类型重命名</p></blockquote><p>比如:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类型重命名</span></span><br><span class="line"><span class="comment">// 类型定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> unit;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 结构体定义</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="type">int</span> data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将类型定义 和 结构体定义结合在一起，方便使用</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node2</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="type">int</span> data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125; Node2;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> num = <span class="number">0</span>; <span class="comment">// 无符号整型（无负数）</span></span><br><span class="line"><span class="comment">// 像基础数据类型一样使用 typedef</span></span><br><span class="line">unit num2 = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%zu,%zu\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">unsigned</span> <span class="type">int</span>), <span class="keyword">sizeof</span>(uint)); <span class="comment">// 4,4</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 如果结构体中没有使用 typedef 定义时的使用必须带上关键字 struct</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> <span class="title">n1</span>;</span></span><br><span class="line"><span class="comment">// 使用 typedef 定义结构体可以简便使用</span></span><br><span class="line">Node2 n2; <span class="comment">// n1 == n2</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="关键字-static"><a href="#关键字-static" class="headerlink" title="关键字 static"></a>关键字 static</h3><blockquote><p>在 C 语言中：</p><p>static 是用来修饰变量和函数的</p><ol><li>修饰局部变量：<strong>将局部变成内部全局</strong></li><li>修饰全局变量：<strong>将具有外部链接属性的全局变量变成只有一个内部链接属性</strong></li><li>修饰函数：<strong>只允许一个文件内部使用，工程的其他源文件不可使用</strong></li></ol></blockquote><h4 id="修饰局部变量"><a href="#修饰局部变量" class="headerlink" title="修饰局部变量"></a>修饰局部变量</h4><ul><li>局部变量出了作用域，<strong>不销毁</strong>的。与全局变量不同的是，全局变量可以在任意位置进行读取，局部变量只有在特定的作用区域才能读取。</li><li>本质上，static 修饰局部变量的时候，改变了<strong>变量的存储位置</strong>，从栈区变成了静态区。栈区是退出栈后变量销毁，静态区的变量保持和程序一致<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/e9a103c4049744bffaf702e8f5d4c3b2.png" alt="image-20230803144318845"></li><li>影响了变量的生命周期，生命周期变长，和程序的生命周期一样</li><li>在编译期间就创建了地址，程序运行时不修改存储地址</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">a++;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">10</span>) &#123;</span><br><span class="line">test();</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">2 2 2 2 2 2 2 2 2 2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">a++;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2 3 4 5 6 7 8 9 10 11</span></span><br></pre></td></tr></table></figure><h4 id="修饰全局变量"><a href="#修饰全局变量" class="headerlink" title="修饰全局变量"></a>修饰全局变量</h4><blockquote><p>static 修饰全局变量的时候</p><p>这个全局变量的<strong>外部链接</strong>属性</p><p>就变成了<strong>内部链接</strong>属性</p><p>其他源文件（.c）就不能再使用这个全局变量了</p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/c5a698f4db8121d2e1152df18ba2adff.png" alt="image-20230803153353001"></p><h4 id="修饰函数"><a href="#修饰函数" class="headerlink" title="修饰函数"></a>修饰函数</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/6f149f7eb6e146b8735ee236795f6627.png" alt="image-20230803154907147"></p><h2 id="define-定义常量和宏"><a href="#define-定义常量和宏" class="headerlink" title="#define 定义常量和宏"></a>#define 定义常量和宏</h2><blockquote><ul><li><p>定义变量名 =&gt; #define 定义常量</p></li><li><p>定义函数名 =&gt; #define 定义宏</p><ul><li>宏是有参数的,参数无类型</li><li>宏名(宏参) 宏体</li></ul></li></ul></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// define定义标识常量</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define 定义宏</span></span><br><span class="line"><span class="comment">// 宏是有参数的,参数无类型</span></span><br><span class="line"><span class="comment">//      宏名(宏参) 宏体</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ADD(x,y) x+y <span class="comment">// 完整写法 ((x) + (y))</span></span></span><br><span class="line"><span class="comment">// 函数写法</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">define_const</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;define定义常量和宏:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, MAX); <span class="comment">// 直接打印 20</span></span><br><span class="line">    <span class="type">int</span> num = MAX; <span class="comment">// 复制</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, num); <span class="comment">// 20</span></span><br><span class="line">    <span class="type">int</span> arr[MAX] = &#123; <span class="number">0</span> &#125;; <span class="comment">// 数组的初始化</span></span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> a = <span class="string">&#x27;a&#x27;</span>; <span class="comment">// 97</span></span><br><span class="line">    <span class="type">char</span> A = <span class="string">&#x27;A&#x27;</span>; <span class="comment">// 65</span></span><br><span class="line">    <span class="type">int</span> c = ADD(a, A);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, c); <span class="comment">// 97 + 65 = 162</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2><h3 id="内存1"><a href="#内存1" class="headerlink" title="内存1"></a>内存<a id="memory">1</a></h3><p>内存是电脑上特别重要的存储器,计算机中程序的运行都是在内存中进行的.</p><p>所以为了有效的使用内存, 就把内存划分成一个个小的内存单元, 每个内存单元的大小是<strong>1个字节</strong>.</p><p>为了能够有效的访问到内存的每个单元, 就给内存单元进行了编号, 这些编号被称为该<strong>内存单元的地址.</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/3a6ca195907f27a8b98c0629c9519542.png" alt="image-20250311214611213"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>; <span class="comment">// 向内存申请4个字节，存储值 10</span></span><br><span class="line"><span class="comment">//&amp;a; // 取地址操作符</span></span><br><span class="line"><span class="comment">//printf(&quot;%p\n&quot;, &amp;a); // 使用%p进行打印地址</span></span><br><span class="line"><span class="type">int</span>* p = &amp;a;</span><br><span class="line"><span class="comment">// p就是指针变量</span></span><br><span class="line">*p = <span class="number">20</span>; <span class="comment">// 解引用操作符，意思是通过p中存放的地址，找到p所指向的对象，*p就是p指向的对象</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, a);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/cfa34bc59686d586b4a384e81972f970.png" alt="image-20250311215938706"></p><h3 id="指针变量大小"><a href="#指针变量大小" class="headerlink" title="指针变量大小"></a><a id="pointerVariable">指针变量大小</a></h3><ul><li>不管什么类型，都是在创建指针变量</li><li>指针变量是用来存放地址的</li><li>指针变量的大小取决于<strong>一个地址存放的时候需要多大的空间</strong></li><li>32位机器上的地址：32bit位 - 4 byte,所以指针变量的大小是<strong>4个字节</strong></li><li>64位机器上的地址：64bit位 - 8 byte,所以指针变量的大小是<strong>8个字节</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">// 不管什么类型，都是在创建指针变量</span></span><br><span class="line"><span class="comment">// 指针变量是用来存放地址的</span></span><br><span class="line"><span class="comment">// 指针变量的大小取决于一个地址存放的时候需要多大的空间</span></span><br><span class="line"><span class="comment">// 32位机器上的地址：32bit位 - 4 byte,所以指针变量的大小是4个字节</span></span><br><span class="line"><span class="comment">// 64位机器上的地址：64bit位 - 8 byte,所以指针变量的大小是8个字节</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">char</span>*));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">short</span>*));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>*));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">float</span>*));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">double</span>*));</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stu</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Stu</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125; Stu;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="keyword">sizeof</span>(Stu)); <span class="comment">// 16 = 4 + (4) + 8</span></span><br><span class="line"></span><br><span class="line">内存对齐规则: </span><br><span class="line">规则<span class="number">1</span>：每个成员的起始地址必须是其自身大小的整数倍。</span><br><span class="line">    第一个age:<span class="number">0</span>~<span class="number">3</span>,到next时,下标为<span class="number">4</span>,<span class="number">4</span>不是<span class="number">8</span>的倍数,故补上<span class="number">4</span>个字节</span><br><span class="line">规则<span class="number">2</span>：结构体总大小必须是最大成员大小的整数倍（此处最大成员是 next 指针，大小为 <span class="number">8</span>字节）。</span><br></pre></td></tr></table></figure><h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><blockquote><p>将单一类型组合在一起，相当于 java 中的类，比如</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">people</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="comment">// 属性</span></span><br><span class="line"><span class="type">char</span> name[<span class="number">5</span>]; <span class="comment">// 属性结束用 ; 结尾</span></span><br><span class="line"><span class="type">int</span> age;</span><br><span class="line"><span class="type">char</span> sex[<span class="number">1</span>];</span><br><span class="line"><span class="type">char</span> tele[<span class="number">12</span>];</span><br><span class="line">&#125;; <span class="comment">// 这里有分号</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 指针变量接收</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="keyword">struct</span> people* ps)</span> &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;使用解引用 *ps：%s %d %s %s\n&quot;</span>, (*ps).name, (*ps).age, (*ps).sex, (*ps).tele);</span><br><span class="line"><span class="comment">// 结构体指针变量 -&gt; 属性名</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;使用符号 -&gt;：%s %d %s %s\n&quot;</span>, ps-&gt;name, ps-&gt;age, ps-&gt;sex, ps-&gt;tele);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">// 结构体初始化</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">people</span> <span class="title">p1</span> =</span> &#123; <span class="string">&quot;张三&quot;</span>,<span class="number">18</span>,<span class="string">&quot;男生&quot;</span>,<span class="string">&quot;12345678901&quot;</span> &#125;;</span><br><span class="line"><span class="comment">// 结构体对象.属性名</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;使用结构体对象.属性名：%s %d %s %s\n&quot;</span>, p1.name, p1.age, p1.sex, p1.tele);</span><br><span class="line">print(&amp;p1); <span class="comment">// 将p1指针传入</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">使用结构体对象.属性名：张三 18 男生 12345678901</span></span><br><span class="line"><span class="comment">使用解引用 *ps：张三 18 男生 12345678901</span></span><br><span class="line"><span class="comment">使用符号 -&gt;：张三 18 男生 12345678901</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符溢出问题</span></span><br><span class="line"><span class="comment">// 学生</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">// 成员属性</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="type">short</span> age;</span><br><span class="line">    <span class="type">char</span> sex[<span class="number">4</span>]; <span class="comment">// 小心字符溢出</span></span><br><span class="line">    <span class="type">char</span> tele[<span class="number">11</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stu2</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="type">short</span> age;</span><br><span class="line">    <span class="type">char</span> sex[<span class="number">5</span>];</span><br><span class="line">    <span class="type">char</span> tele[<span class="number">12</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">struct_example</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">s1</span> =</span> &#123; <span class="string">&quot;张三&quot;</span>,<span class="number">20</span>,<span class="string">&quot;保密&quot;</span>,<span class="string">&quot;15563645231&quot;</span> &#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;姓名:%s,年龄:%d,性别:%s,电话:%s\n&quot;</span>,</span><br><span class="line">        s1.name, s1.age, s1.sex, s1.tele); <span class="comment">// 姓名:张三,年龄:20,性别:保密15563645231烫烫烫烫烫烫烫烫烫烫烫烫烫烫蘦,电话:15563645231烫烫烫烫烫烫烫烫烫烫烫烫烫烫蘦</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="keyword">sizeof</span>(s1.sex)); <span class="comment">// 4</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="built_in">strlen</span>(s1.sex)); <span class="comment">// 45</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 若char类型初始化分配的地址不够, 会导致打印错误</span></span><br><span class="line">    <span class="comment">// 总结: 1. 在初始分配char类型时要考虑 `\0` 的存储</span></span><br><span class="line">    <span class="comment">//       2. 中文字符占 char 类型两个字符</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Stu2</span> <span class="title">s2</span> =</span> &#123; <span class="string">&quot;李四&quot;</span>,<span class="number">20</span>,<span class="string">&quot;保密&quot;</span>,<span class="string">&quot;66666666666&quot;</span> &#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;姓名:%s,年龄:%d,性别:%s,电话:%s\n&quot;</span>,</span><br><span class="line">        s2.name, s2.age, s2.sex, s2.tele); <span class="comment">// 姓名:李四,年龄:20,性别:保密,电话:66666666666</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="keyword">sizeof</span>(s2.sex)); <span class="comment">// 5, 计算加入了 `\0`</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="built_in">strlen</span>(s2.sex)); <span class="comment">// 4, 省略计算了 `\0`, 但在内存地址中,\0是存储了的.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h1 id="二、分支语句和循环语句"><a href="#二、分支语句和循环语句" class="headerlink" title="二、分支语句和循环语句"></a>二、分支语句和循环语句</h1><blockquote><p>分支语句</p></blockquote><ul><li>if</li><li>else</li></ul><blockquote><p>循环语句</p></blockquote><ul><li>while</li><li>for</li><li>do…while…</li></ul><blockquote><p>goto语句</p></blockquote><h2 id="1-什么是语句？"><a href="#1-什么是语句？" class="headerlink" title="1. 什么是语句？"></a>1. 什么是语句？</h2><p>C语言中语句可以分为以下五类:</p><ol><li>表达式语句</li><li>函数调用语句</li><li>控制语句</li><li>复合语句</li><li>空语句</li></ol><p><strong>控制语句</strong>用于控制程序的执行流程, 以实现程序的各种结构方式, 它们由特定的语句定义符组成, C语言有就中控制语句</p><p>可分为以下三类: </p><ul><li>分支语句: if语句, switch语句</li><li>循环语句: do…while…, for语句, while语句</li><li>转向语句: break语句, goto语句, continue语句, return语句</li></ul><h2 id="2-分支语句-选择结构"><a href="#2-分支语句-选择结构" class="headerlink" title="2. 分支语句(选择结构)"></a>2. 分支语句(选择结构)</h2><h3 id="2-1-if语句"><a href="#2-1-if语句" class="headerlink" title="2.1 if语句"></a>2.1 if语句</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">// 双分支</span></span><br><span class="line">    <span class="type">int</span> score = <span class="number">60</span>;</span><br><span class="line">    <span class="keyword">if</span> (score &gt;= <span class="number">60</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;及格了\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;恭喜!\n&quot;</span>); <span class="comment">// 多个执行语句得用括号括起来</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;没及格\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 当只有一条语句时可以简写成</span></span><br><span class="line">    <span class="keyword">if</span> (score &gt;= <span class="number">60</span>) <span class="built_in">printf</span>(<span class="string">&quot;pass\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;no-pass\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 多分支: 只会执行某一个,不会两个同时执行</span></span><br><span class="line">    <span class="keyword">if</span> (score &gt;= <span class="number">90</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;优秀\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (score &gt;= <span class="number">75</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;良好\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (score &gt;= <span class="number">60</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;及格\n&quot;</span>); <span class="comment">// ok</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="comment">// else默认也是只控制一条语句,若是多条语句,</span></span><br><span class="line">        <span class="comment">// 则第一个语句是在else的控制下,剩下的语句则是外面的, </span></span><br><span class="line">        <span class="comment">// 即每个分支后都会执行第二个语句</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不及格\n&quot;</span>);</span><br><span class="line">        <span class="comment">// 此语句在每个 else if 后都会执行</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;对不起,您不及格\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如下加上括号则只会在 else 执行时才会被执行</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不及格\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;对不起,您不及格\n&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>在C语言中如何表示真假?</p><blockquote><p><strong>0表示假, 非0表示真.</strong></p></blockquote><p>思考: 以下代码执行后结果?</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">   <span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">   <span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">   <span class="keyword">if</span> (a == <span class="number">1</span>)</span><br><span class="line">       <span class="keyword">if</span> (b == <span class="number">2</span>)</span><br><span class="line">           <span class="built_in">printf</span>(<span class="string">&quot;xixi\n&quot;</span>);</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">&quot;haha\n&quot;</span>);</span><br><span class="line"><span class="comment">// 执行结果: 空白,什么都不执行</span></span><br></pre></td></tr></table></figure><p>注意⚠️: <strong>else 只会跟在最近的一个 if 匹配</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 正确的格式</span></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span>)</span><br><span class="line">       <span class="keyword">if</span> (b == <span class="number">2</span>)</span><br><span class="line">           <span class="built_in">printf</span>(<span class="string">&quot;xixi\n&quot;</span>);</span><br><span class="line">       <span class="keyword">else</span> <span class="comment">// else 只会跟在最近的一个 if 匹配</span></span><br><span class="line">           <span class="built_in">printf</span>(<span class="string">&quot;haha\n&quot;</span>);</span><br><span class="line"><span class="comment">// 执行结果: 空白,不执行. 原因: 因为最外层的a条件不满足</span></span><br></pre></td></tr></table></figure><p><strong>练习</strong></p><blockquote><ol><li>判断一个数是否为奇数</li></ol></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入数是否为奇数:&quot;</span>);</span><br><span class="line"><span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line"><span class="keyword">if</span> (num % <span class="number">2</span> == <span class="number">1</span>)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;奇数\n&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;No\n&quot;</span>);</span><br></pre></td></tr></table></figure><blockquote><ol><li>输出1~100所有的奇数</li></ol></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">1</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-2-switch语句"><a href="#2-2-switch语句" class="headerlink" title="2.2 switch语句"></a>2.2 switch语句</h3><p>switch语句也是一种分支语句.</p><p>常常用于多分支得到情况.</p><p>例如:</p><blockquote><p>输入1,输出星期一</p><p>输入2,输出星期二</p><p>…</p><p>输入7,输出星期天</p></blockquote><p>如果使用if…else..语句就太复杂了,那我们就得有不一样的语法形式.</p><p>这就是switch语句.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(整型表达式)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> 整型常量表达式:</span><br><span class="line">        语句;</span><br><span class="line">    <span class="keyword">case</span> 整型常量表达式:</span><br><span class="line">        语句;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        此分支是可选的，用于处理未匹配到任何 <span class="keyword">case</span> 的情况;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意⚠️:</p><ul><li><code>switch</code>的入口判断必须是整型</li><li><code>case</code>的判断条件也必须是整型</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> score = <span class="number">82</span>;</span><br><span class="line"><span class="keyword">switch</span> (score) &#123; <span class="comment">// error, 判断条件必须为整型</span></span><br><span class="line"><span class="keyword">case</span> score &lt; <span class="number">60</span>: <span class="comment">// error, 判断条件必须为整型</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;不及格&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-2-1-在switch语句中的-break"><a href="#2-2-1-在switch语句中的-break" class="headerlink" title="2.2.1 在switch语句中的 break"></a>2.2.1 在switch语句中的 break</h4><p>在<code>switch</code>语句中,我们没办法直接实现分支, 搭配<code>break</code>使用才能实现真正的分支.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 正常写法</span></span><br><span class="line">    <span class="type">int</span> day = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;day);</span><br><span class="line">    <span class="keyword">switch</span> (day)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期一\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期二\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期三\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不是星期一二三\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;这是default中的语句\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">输入:5</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure><p>switch 的每个 case 后都必须加上 break 跳出循环, 否则会继续执行, 直至遇到 break 语句.</p><p>如果每个 case 都不等于 input 输入的话, 则执行 default 中的语句</p><ol><li><p>若 case 不加入 break 语句</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">    <span class="type">int</span> day = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;day);</span><br><span class="line">    <span class="keyword">switch</span> (day)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期一\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期二\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期三\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不是星期一二三\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;这是default中的语句\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">输入:1</span></span><br><span class="line"><span class="comment">星期一</span></span><br><span class="line"><span class="comment">星期二</span></span><br><span class="line"><span class="comment">星期三</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:2</span></span><br><span class="line"><span class="comment">星期二</span></span><br><span class="line"><span class="comment">星期三</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure></li><li><p>若最后一个 case 与 default 同时无 break语句</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">    <span class="type">int</span> day = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;day);</span><br><span class="line">    <span class="keyword">switch</span> (day)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期一\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期二\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期三\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不是星期一二三\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;这是default中的语句\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">输入:2</span></span><br><span class="line"><span class="comment">星期二</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:3</span></span><br><span class="line"><span class="comment">星期三</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:5</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure></li><li><p>case 都加上 break 语句, default 不加, 同时 switch 语句后加入代码</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">    <span class="type">int</span> day = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;day);</span><br><span class="line">    <span class="keyword">switch</span> (day)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期一\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期二\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期三\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不是星期一二三\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;这是default中的语句\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;default 之外的语句\n&quot;</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">输入:2</span></span><br><span class="line"><span class="comment">星期二</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:5</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure></li></ol><p><strong>总结:</strong></p><ul><li><p>若是 <code>case</code> 语句不加 <code>break</code> 语句, 就会一直 “流下去” 直至遇到 <code>break</code> 语句或者执行完所有的 <code>switch</code> 代码块.</p></li><li><p>在 <code>switch</code> 之外的代码, 每次都会执行.</p></li><li><p>在 C 语言中，<code>switch</code> 语句可以用于判断字符型变量。字符型变量实际上是整数类型（ASCII 码），因此可以直接在 <code>switch</code> 语句中使用</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> input;</span><br><span class="line">  </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入一个字符 (A, B, C): &quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>, &amp;input);</span><br><span class="line">  </span><br><span class="line"><span class="keyword">switch</span> (input) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;a&#x27;</span>: <span class="comment">// 可以处理大小写</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;你输入了 A\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;你输入了 B\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;c&#x27;</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;你输入了 C\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;输入的不是 A、B 或 C\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-2-2-default-语句"><a href="#2-2-2-default-语句" class="headerlink" title="2.2.2 default 语句"></a>2.2.2 default 语句</h4><p>如果表达的值与所有的<code>case</code>标签的值都不匹配怎么办?</p><p>其实也没什么, 结果就是所有的语句都被跳过而已.</p><p>程序并不会终止, 也不会报错, 因为这种情况在C语言中并不认为是个错误.</p><p>但是, 如果你并不想忽略不匹配所有标签的表达式的值时该怎么办呢?</p><p>你可以在语句列表中增加一条 default 子句, 把下面的标签:</p><p><code>default:</code></p><p>写在任何一个<code>case</code>标签可以出现的位置.</p><p>当 <code>switch</code>表达式的值并不匹配所有<code>case</code>标签的值时, 这个<code>default</code>子句后面的语句就会执行.</p><p>所以, 每个<code>switch</code>语句中只能出现一条<code>default</code>子句.</p><ol><li><p><code>default</code>中<code>break</code>存在且放在首位</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">    <span class="type">int</span> day = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;day);</span><br><span class="line">    <span class="keyword">switch</span> (day)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不是星期一二三\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;这是default中的语句\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期一\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期二\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期三\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;default 之外的语句\n&quot;</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">输入:2</span></span><br><span class="line"><span class="comment">星期二</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:5</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure></li><li><p><code>default</code>中<code>break</code>存在且放在中间</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">    <span class="type">int</span> day = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;day);</span><br><span class="line">    <span class="keyword">switch</span> (day)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期一\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期二\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不是星期一二三\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;这是default中的语句\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期三\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;default 之外的语句\n&quot;</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">输入:1</span></span><br><span class="line"><span class="comment">星期一</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:5</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure></li><li><p><code>default</code>中<code>break</code>存在且放在中间, 但<code>case1</code>, <code>case2</code>不存在<code>break</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">    <span class="type">int</span> day = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;day);</span><br><span class="line">    <span class="keyword">switch</span> (day)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期一\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期二\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不是星期一二三\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;这是default中的语句\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期三\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;default 之外的语句\n&quot;</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">输入:1</span></span><br><span class="line"><span class="comment">星期一</span></span><br><span class="line"><span class="comment">星期二</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:2</span></span><br><span class="line"><span class="comment">星期二</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:3</span></span><br><span class="line"><span class="comment">星期三</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:5</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure></li><li><p><code>default</code>中<code>break</code>不存在且放在中间</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">    <span class="type">int</span> day = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;day);</span><br><span class="line">    <span class="keyword">switch</span> (day)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期一\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期二\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不是星期一二三\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;这是default中的语句\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期三\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;default 之外的语句\n&quot;</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">输入:2</span></span><br><span class="line"><span class="comment">星期二</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:3</span></span><br><span class="line"><span class="comment">星期三</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:5</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">星期三</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure></li><li><p><code>default</code>中<code>break</code>不存在且放在中间, 同时<code>case2</code>与<code>case3</code>中的<code>break</code>也不存在</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">    <span class="type">int</span> day = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;day);</span><br><span class="line">    <span class="keyword">switch</span> (day)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期一\n&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期二\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不是星期一二三\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;这是default中的语句\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;星期三\n&quot;</span>);</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;default 之外的语句\n&quot;</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">输入:2</span></span><br><span class="line"><span class="comment">星期二</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">星期三</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:3</span></span><br><span class="line"><span class="comment">星期三</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">输入:5</span></span><br><span class="line"><span class="comment">不是星期一二三</span></span><br><span class="line"><span class="comment">这是default中的语句</span></span><br><span class="line"><span class="comment">星期三</span></span><br><span class="line"><span class="comment">default 之外的语句</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure></li></ol><p><span style="color:red"><strong>总结: 顺流直下, 从哪个 “口”(<code>case/default</code>) 流下去, 若没遇到<code>break</code>, 则会一直执行下去.</strong></span></p><h2 id="3-循环语句"><a href="#3-循环语句" class="headerlink" title="3. 循环语句"></a>3. 循环语句</h2><ul><li><p><code>for</code> 循环: 初始条件 =&gt; 循环条件判断 =&gt; 执行循环体 =&gt; 改变条件 =&gt; 再 进行循环条件判断 =&gt; …</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 与 if 类似,如果只执行一句循环体,可以省略括号,但若是多句循环体,必须加上括号,如不加,则只执行一句循环体,多的代码只是顺序执行下只执行一次</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>,i);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;xixi\n&quot;</span>);</span><br><span class="line"><span class="comment">// 0       1       2       xixi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;xixi\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/** 0       xixi</span></span><br><span class="line"><span class="comment">    1       xixi</span></span><br><span class="line"><span class="comment">    2       xixi **/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>提问: 下面打印了几个xixi?</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 提问; 下面打印了几个xixi</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;下面打印为几个xixi?\n&quot;</span>);</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;xixi\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 因为 j 执行三次后未初始化,故第二次i进入的时,j=3不进入循环体</span></span><br><span class="line"><span class="comment">xixi</span></span><br><span class="line"><span class="comment">xixi</span></span><br><span class="line"><span class="comment">xixi</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li></ul><ul><li><p><code>while</code> 循环: 先判断, 后循环</p><ul><li><code>while</code> 循环中的<ul><li><code>break</code> 是用于永久的终止内层的循环</li><li><code>continue</code> 跳过本次循环后面的代码, 直接去进行条件判断, 进行下一次循环的判断</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">// continue 导致陷入死循环</span></span><br><span class="line">    <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= <span class="number">10</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">5</span> == i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>; <span class="comment">// error, 这里会导致陷入死循环</span></span><br><span class="line">            <span class="comment">// 因为不会执行 continue 之后的代码,导致 i 恒等 5, 然后一直循环跳过</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, i);</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">输出结果: 1 2 3 4 死循环</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 下面代码执行结果? </span></span><br><span class="line">    <span class="type">int</span> j = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= <span class="number">10</span>) &#123;</span><br><span class="line">        j++;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">5</span> == j)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, j); <span class="comment">// 2 3 4 6 7 8 9 10 11</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>再看几个代码 : </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">// 代码1</span></span><br><span class="line">    <span class="comment">// getchar(): 从键盘上获取字符,返回字符的 ASCII 码值,即 int 类型</span></span><br><span class="line">    <span class="comment">// putchar(int): 打印字符,等于 printf(&quot;%c&quot;,97); 不会自动换行!</span></span><br><span class="line">    <span class="comment">// EOF: end of file, 鼠标右键转到定义, 发现=-1, 是个整型</span></span><br><span class="line">    <span class="type">int</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> ((ch = getchar()) != EOF) &#123;</span><br><span class="line">        <span class="built_in">putchar</span>(ch);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">实现效果: 输入一个数,打印一个数,一直循环</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure><p>这里有一个输入缓冲区的问题.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/022b5c27905471127ea9d16d63f7878c.png" alt="image-20250314224033594"></p><p>输入 a, 按下回车, 输入缓冲区里有两个字符 <code>a</code>, <code>\n</code></p><p><code>putchar()</code>其实执行了两次.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/e7f24f4b5edd1e3a9592b8191fade560.png" alt="image-20250314225059395"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/c5e3db0e677761a40fbdbd3a7fae7ea2.png" alt="image-20250314225546770"></p><p>举一个例子</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/73dc4c358c11b9daac4c48ff3e428cfd.png" alt="image-20250314230301530"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 清理缓存解决方法,中间加上getchar();抵消掉缓冲区的内容.</span></span><br><span class="line">    <span class="type">char</span> password[<span class="number">20</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入密码:&gt;&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, password); <span class="comment">// 数组本身存储的就是地址,无需取地址符号&amp;</span></span><br><span class="line"><span class="comment">// 读取 \n</span></span><br><span class="line"><span class="comment">// getchar(); // 这样只能抵消掉一个字符,如果是多个字符,则失效</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 清理多个字符的缓存</span></span><br><span class="line"><span class="type">int</span> ch = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((ch = getchar()) != <span class="string">&#x27;\n&#x27;</span>) &#123;</span><br><span class="line">        ; <span class="comment">// 一直读取到 \n, 中间不进行操作</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请确认密码Y/N:&gt;&quot;</span>);</span><br><span class="line"><span class="type">int</span> res = getchar();</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&#x27;Y&#x27;</span> == res)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;NO\n&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 代码2</span></span><br><span class="line"><span class="type">char</span> ch = <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"><span class="keyword">while</span> ((ch = getchar()) != EOF) &#123;</span><br><span class="line">    <span class="keyword">if</span> (ch &lt; <span class="string">&#x27;0&#x27;</span> || ch &gt; <span class="string">&#x27;9&#x27;</span>)</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    <span class="built_in">putchar</span>(ch);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">输出数字字符, 只打印数字字符,跳过其他字符</span></span><br><span class="line"><span class="comment">但是从第二个输入数字的时候,不会换行</span></span><br><span class="line"><span class="comment">输入: qwer123qwe</span></span><br><span class="line"><span class="comment">123</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li></ul><ul><li><p><code>do...while...</code>循环: 先循环, 后判断</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// do...while...中使用continue出现死循环,与while中原因一致</span></span><br><span class="line"><span class="comment">// 因为不会执行 continue 之后的代码,导致 i 恒等 5, 然后一直循环跳过</span></span><br><span class="line"><span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">5</span>)</span><br><span class="line">        <span class="keyword">continue</span>;<span class="comment">// 因为不会执行 continue 之后的代码,导致 i 恒等 5, 然后一直循环跳过</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, i);</span><br><span class="line">    i++;</span><br><span class="line">&#125; <span class="keyword">while</span>(i &lt;= <span class="number">10</span>);</span><br></pre></td></tr></table></figure></li></ul><h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><ol><li><p>计算 n 的阶乘</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 计算 n 的阶乘</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">loop_work_example1</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (; n &gt;= <span class="number">1</span>; n--) &#123;</span><br><span class="line">        sum *= n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>计算<code>1!+2!+3!+...+10!</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="type">int</span> res = loop_work_example1(i);</span><br><span class="line">    sum += res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;1!+2!+3!+...+10!=%d\n&quot;</span>, sum);</span><br></pre></td></tr></table></figure></li><li><p>在一个有序数组中查找具体的某个数字n.(二分查找)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3. 在一个有序数组中查找具体的某个数字n.(二分查找)</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">binary_search</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n, <span class="type">int</span> length)</span> &#123;</span><br><span class="line">    <span class="type">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//int right = sizeof(arr) / sizeof(arr[0]) - 1; // error</span></span><br><span class="line">    <span class="comment">// 等效于：sizeof(int*) / sizeof(int) - 1, 解决办法, 外部传入</span></span><br><span class="line">    <span class="type">int</span> right = length - <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> mid = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] == n) <span class="keyword">return</span> mid; <span class="comment">// 返回下标</span></span><br><span class="line">        <span class="keyword">if</span> (n &lt; arr[mid])</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &lt; n)</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>; <span class="comment">// 未查到</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.二分查找</span></span><br><span class="line">    <span class="type">int</span> arr[] = &#123; <span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">16</span>,<span class="number">29</span>,<span class="number">31</span> &#125;;</span><br><span class="line">    <span class="type">int</span> length = <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">    <span class="type">int</span> index1 = binary_search(arr, <span class="number">13</span>, length);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;13所在的下标为:%d\n&quot;</span>, index1); <span class="comment">// 6</span></span><br><span class="line">    <span class="type">int</span> index2 = binary_search(arr, <span class="number">15</span>, length);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;15所在的下标为:%d\n&quot;</span>, index2); <span class="comment">// -1</span></span><br></pre></td></tr></table></figure><p><strong>注意：</strong>在C语言中，当数组作为函数参数传递时，<strong>它会退化为指针</strong>。函数中的 <code>sizeof(arr)</code> 实际上计算的是指针的大小（而非整个数组的大小）</p><p><span style="color:red"><strong>函数内部无法通过 <code>sizeof</code> 获取数组的实际长度，必须通过额外参数传递。</strong></span></p></li><li><p>编写代码,演示多个字符从两端移动,向中间汇聚.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="comment">// 4. 编写代码,演示多个字符从两端移动,向中间汇聚.</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">loop_work_example4</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">char</span> arr[] = <span class="string">&quot;welcome to China!!!&quot;</span>;</span><br><span class="line">    <span class="type">char</span> arr2[] = <span class="string">&quot;###################&quot;</span>;</span><br><span class="line">    <span class="type">int</span> length = <span class="built_in">strlen</span>(arr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= length / <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, arr2);</span><br><span class="line">        arr2[i] = arr[i];</span><br><span class="line">        arr2[length - <span class="number">1</span> - i] = arr[length - <span class="number">1</span> - i];</span><br><span class="line">        <span class="comment">// 导入 Windos.h 头文件</span></span><br><span class="line">        Sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="comment">// 清空屏幕,需要导入 stdlib.h</span></span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>); <span class="comment">// system 是一个库函数,可以执行系统命令</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    ###################</span></span><br><span class="line"><span class="comment">    w#################!</span></span><br><span class="line"><span class="comment">    we###############!!</span></span><br><span class="line"><span class="comment">    wel#############!!!</span></span><br><span class="line"><span class="comment">    welc###########a!!!</span></span><br><span class="line"><span class="comment">    welco#########na!!!</span></span><br><span class="line"><span class="comment">    welcom#######ina!!!</span></span><br><span class="line"><span class="comment">    welcome#####hina!!!</span></span><br><span class="line"><span class="comment">    welcome ###China!!!</span></span><br><span class="line"><span class="comment">    welcome t# China!!!</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>编写代码实现,模拟用户登陆情景,并且只能登陆三次.(只允许输入三次密码,如果密码正确则提示登陆成功, 如果三次均输入错误,则退出程序).</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5. 编写代码实现,模拟用户登陆情景,并且只能登陆三次.</span></span><br><span class="line"><span class="comment">// (只允许输入三次密码,如果密码正确则提示登陆成功, </span></span><br><span class="line"><span class="comment">// 如果三次均输入错误,则退出程序).</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">loop_work_example5</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">char</span> password[] = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">    <span class="type">char</span> input[<span class="number">7</span>] = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">int</span> length = <span class="built_in">strlen</span>(password);</span><br><span class="line">    <span class="type">int</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> flag_error = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        flag_error = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请输入密码(六位):&gt;&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, input);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (password[i] != input[i]) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;密码错误!%d次\n&quot;</span>, count);</span><br><span class="line">                flag_error = <span class="number">1</span>;</span><br><span class="line">                count++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flag_error) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;登录成功!\n&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (count &lt;= <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (flag_error)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;登陆失败,错误次数:%d\n&quot;</span>, count - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 还可以使用 strcmp() 进行字符串比较</span></span><br><span class="line"><span class="comment">// 两个字符串若是相等,则返回 0</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">strcmp</span>(password,<span class="string">&quot;123456&quot;</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;登陆成功&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>猜字大小的游戏</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #include &lt;stdlib.h&gt;</span></span><br><span class="line"><span class="comment">// void srand(unsigned int seed); // 设置随机数起始点</span></span><br><span class="line"><span class="comment">// #include &lt;time.h&gt;</span></span><br><span class="line"><span class="comment">// int time(); // 返回时间戳</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 6. 猜数字大小</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">game</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 0~99 =&gt; 1~100</span></span><br><span class="line">    <span class="type">int</span> res = rand() % <span class="number">100</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> guess = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请输入数字:&gt;&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;guess);</span><br><span class="line">        <span class="keyword">if</span> (guess == res) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;猜对了!结果是%d\n&quot;</span>, guess);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (guess &lt; res)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;猜小了\n&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (guess &gt; res)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;猜大了\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">loop_work_example6</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//开始界面</span></span><br><span class="line">    <span class="type">int</span> input = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// srand -&gt; #include &lt;stdlib.h&gt;</span></span><br><span class="line">    <span class="comment">// time  -&gt; #include &lt;time.h&gt; </span></span><br><span class="line">    srand((<span class="type">unsigned</span> <span class="type">int</span>)time(<span class="literal">NULL</span>)); <span class="comment">// 设置随机值起始种子为时间戳</span></span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;*************************\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;******   1.play   *******\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;******   0.exit   *******\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;*************************\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请选择:&gt;&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;input);</span><br><span class="line">        <span class="keyword">switch</span> (input)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            game();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;退出游戏\n&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;输入非法,请重新选择\n&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (input);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="三、函数"><a href="#三、函数" class="headerlink" title="三、函数"></a>三、函数</h1><blockquote><ol><li>函数是什么</li><li>库函数</li><li>自定义函数</li><li>函数参数</li><li>函数调用</li><li>函数的嵌套调用和<strong>链式访问：函数返回值作为其他函数的参数</strong></li><li>函数的声明和定义</li><li>函数递归</li></ol></blockquote><h2 id="1-函数是什么"><a href="#1-函数是什么" class="headerlink" title="1. 函数是什么?"></a>1. 函数是什么?</h2><p>函数: 子程序</p><blockquote><ul><li>是一个大型程序重点某部分代码, 由一个或多个语句快自称. 他负责完成某项特定任务, 而且相较于其他代码, 具备相对的独立性.</li><li>一般会有输入参数并有返回值, 提供对过程的封装和细节的隐藏. 这些代码通常被集成为软件库.</li></ul></blockquote><h2 id="2-C语言中函数的分类"><a href="#2-C语言中函数的分类" class="headerlink" title="2. C语言中函数的分类:"></a>2. C语言中函数的分类:</h2><ol><li>库函数</li><li>自定义函数</li></ol><h3 id="2-1-库函数"><a href="#2-1-库函数" class="headerlink" title="2.1 库函数:"></a>2.1 库函数:</h3><p>为什么会有库函数?</p><ol><li>我们知道在我们学习C语言变成的时候, 总是在一个代码编写完成之后迫不及待的想知道结果, 想把这个结果打印到我们的屏幕上看看. 这个时候我们会频繁的使用一个功能: 将信息按照一定的格式打印到屏幕上(printf)</li><li>在编程的过程中，我们会频繁的做一些字符串的拷贝（strcpy）</li><li>在编程时我们也会计算n的k次方这样的运算（pow）</li></ol><p>像上面我们描述的基础功能，他们不是业务性的代码。我们在开发的过程中每个程序员都可能用得到，为了支持可移植性和提高程序的效率，所以C语言的基础库中提供了一系列类似的库函数，方便程序员进行软件开发。</p><h2 id="4-函数参数"><a href="#4-函数参数" class="headerlink" title="4. 函数参数"></a>4. 函数参数</h2><h3 id="4-1-实参"><a href="#4-1-实参" class="headerlink" title="4.1 实参"></a>4.1 实参</h3><blockquote><p>真实传给函数的参数，叫实参。</p><p>实参可以是: 常量、变量、表达式、函数等。</p><p>无论实参是何种类型的量，在进行函数调用时，她们都必须有确定的值，以便把这些值传送给形参。</p></blockquote><h3 id="4-2-形参"><a href="#4-2-形参" class="headerlink" title="4.2 形参"></a>4.2 形参</h3><blockquote><p>形式参数是指函数名后括号中的变量，因为形式参数只有在函数被调用的过程中才实例化（分配内存单元），所以叫形式参数。形式参数当函数调用完成之后就自动销毁了。因此形式参数只在函数中有效。</p></blockquote><p>注意接收值还是地址</p><ul><li>当实参传递给形参的时候，形参是实参的一份临时拷贝</li><li>对形参的修改不能修改实参</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>* px, <span class="type">int</span>* py)</span> &#123;</span><br><span class="line">*px = *px + *py;</span><br><span class="line">*py = *px - *py;</span><br><span class="line">*px = *px - *py;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;修改前：a=%d，b=%d\n&quot;</span>, a, b);</span><br><span class="line">swap(&amp;a, &amp;b); </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;修改后：a=%d，b=%d\n&quot;</span>, a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 地址的自增</span></span><br><span class="line">    <span class="type">int</span> c[] = &#123; <span class="number">30</span>,<span class="number">50</span> &#125;;</span><br><span class="line">    <span class="type">int</span>* d = &amp;c;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, d);</span><br><span class="line">    d++; <span class="comment">// 加上 4 个字节</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, d);</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> ch[] = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="type">char</span>* cp = &amp;ch;</span><br><span class="line">cp++; <span class="comment">// 加上一个字节</span></span><br></pre></td></tr></table></figure><h2 id="5-函数调用："><a href="#5-函数调用：" class="headerlink" title="5. 函数调用："></a>5. 函数调用：</h2><h3 id="5-1-传值调用"><a href="#5-1-传值调用" class="headerlink" title="5.1 传值调用"></a>5.1 传值调用</h3><blockquote><p>函数的形参和实参分别占有不同内存块，对形参的修改不会影响实参。</p></blockquote><h3 id="5-2-传址调用"><a href="#5-2-传址调用" class="headerlink" title="5.2 传址调用"></a>5.2 传址调用</h3><blockquote><ul><li>传址调用是把函数外部创建变量的内存地址传递给函数参数的一种调用函数的方式。</li><li>这种传参方式可以让函数和函数外边的变量建立起真正的联系，也就是函数内部可以直接操作函数外部的变量</li></ul></blockquote><h3 id="5-3-练习"><a href="#5-3-练习" class="headerlink" title="5.3 练习"></a>5.3 练习</h3><blockquote><ol><li>写一个函数可以判断一个数是不是素数。</li><li>写一个函数判断一年是不是闰年。</li><li>写一个函数，实现一个整型有序数组的二分查找。</li><li>写一个函数，每调用一次这个函数，就会将 num 的值增加1</li></ol></blockquote><h2 id="7-函数的声明和定义"><a href="#7-函数的声明和定义" class="headerlink" title="7. 函数的声明和定义"></a>7. 函数的声明和定义</h2><h3 id="7-1-函数声明："><a href="#7-1-函数声明：" class="headerlink" title="7.1 函数声明："></a>7.1 函数声明：</h3><blockquote><ol><li>告诉编译器有一个函数叫什么，参数是什么，返回类型是什么。但是具体是否存在，函数声明决定不了。</li><li>函数的声明一般出现在函数的使用之前。要满足<strong>先声明后使用。</strong></li><li>函数的声明一般要放在头文件中。</li></ol></blockquote><h3 id="7-2-函数定义："><a href="#7-2-函数定义：" class="headerlink" title="7.2 函数定义："></a>7.2 函数定义：</h3><blockquote><p>函数的定义是指函数的具体实现，交代函数的功能实现。</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在本文件中的声明</span></span><br><span class="line"><span class="comment">// 函数的定义与声明</span></span><br><span class="line"><span class="comment">// 函数声明, 只是声明,具体是否存在决定不了</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span>; <span class="comment">// 不先声明会导致顺序运行出错</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">function_example</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, add(a, b));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 函数定义</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在头文件中的声明</span></span><br><span class="line"><span class="comment">// run.h</span></span><br><span class="line"><span class="comment">// 库函数头文件&lt;&gt;</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">// 自定义头文件 &quot;&quot;</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;run.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 作业集</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">work_main</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常量</span></span><br><span class="line"><span class="comment">//    -const</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">const_example</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//    -define</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">const_define</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//    -enum</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">const_enum</span><span class="params">()</span>;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在main文件的应用</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;run.h&quot;</span></span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> extern_a;</span><br><span class="line"><span class="keyword">extern</span> <span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="keyword">struct</span> Stu2* ps)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 作业集</span></span><br><span class="line">    work_main();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, extern_a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>递归求斐波那契</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 求第n个斐波那契数列</span></span><br><span class="line"><span class="comment">// 1 1 2 3 5 8 13 21 34 55...</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fibo</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> fibo(n - <span class="number">2</span>) + fibo(n - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">function_example</span><span class="params">()</span> &#123;</span><br><span class="line">    function_example1();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 斐波那契数列</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;第n个斐波那契数列:&gt;&quot;</span>);</span><br><span class="line">        <span class="type">int</span> input = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;input);</span><br><span class="line">        <span class="keyword">if</span> (input == <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="type">int</span> res = fibo(input);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="五、操作符详解"><a href="#五、操作符详解" class="headerlink" title="五、操作符详解"></a>五、操作符详解</h1><ol><li>各种操作符的介绍</li><li>表达式求值</li></ol><h2 id="1-操作符分类："><a href="#1-操作符分类：" class="headerlink" title="1. 操作符分类："></a>1. 操作符分类：</h2><blockquote><p>算术操作符：+ - * / %</p><p>移位操作符：&lt;&lt; &gt;&gt;</p><p>位操作符：&amp; | ^</p><p>赋值操作符：+= -= *= /= …</p><p>单目操作符</p><p>关系操作符</p><p>逻辑操作符</p><p>条件操作符:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 三目表达式 </span></span><br><span class="line">condition ? yes : no</span><br></pre></td></tr></table></figure><p>逗号表达式</p><p>下标引用、函数调用和结构成员</p></blockquote><h2 id="2-算术操作符"><a href="#2-算术操作符" class="headerlink" title="2. 算术操作符"></a>2. 算术操作符</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+-*/%</span><br></pre></td></tr></table></figure><ol><li>除了<code>%</code>操作符之外,其他的几个操作符可以作用于整数和浮点数</li><li>对于<code>/</code>操作符如果两个操作数都为整数,执行整数除法.但是只要有浮点数执行的就是浮点数除法.</li><li><code>%</code>操作符的两个操作数必须为整数.返回的是整除之后的余数.</li></ol><h2 id="3-移位操作符"><a href="#3-移位操作符" class="headerlink" title="3. 移位操作符"></a>3. 移位操作符</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt; 左移操作符</span><br><span class="line">&gt;&gt; 右移操作符</span><br></pre></td></tr></table></figure><p>注: 移位操作符的操作数只能是<strong>整数</strong></p><h3 id="3-1-左移操作符"><a href="#3-1-左移操作符" class="headerlink" title="3.1 左移操作符"></a>3.1 左移操作符</h3><ul><li><strong>左移有乘2的n次方的效果 (扩大)</strong></li><li>移位规则:</li></ul><blockquote><p>左边抛弃、右边补0</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 正的整数的原码、反码、补码相同</span></span><br><span class="line">    <span class="comment">// 负的整数的原码、反码、补码需要计算</span></span><br><span class="line">    <span class="comment">// </span></span><br><span class="line">    <span class="comment">// 7 四个字节 32个二进制</span></span><br><span class="line">    <span class="comment">// 00000000 00000000 00000000 00000111 - 原码</span></span><br><span class="line">    <span class="comment">// 00000000 00000000 00000000 00000111 - 反码</span></span><br><span class="line">    <span class="comment">// 00000000 00000000 00000000 00000111 - 补码</span></span><br><span class="line">    <span class="comment">// -7 最高位表示符号 0-正数，1-负数</span></span><br><span class="line">    <span class="comment">// 10000000 00000000 00000000 00000111 - 原码</span></span><br><span class="line">    <span class="comment">// 11111111 11111111 11111111 11111000 - 反码（原码符号位不变，其他位按位取反就是反码）</span></span><br><span class="line">    <span class="comment">// 11111111 11111111 11111111 11111001 - 补码（反码+1=补码）</span></span><br><span class="line">    <span class="comment">// </span></span><br><span class="line">    <span class="comment">// 整数在内存中存储的是补码</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="type">int</span> a = <span class="number">7</span>;</span><br><span class="line">    <span class="type">int</span> b = a &lt;&lt; <span class="number">1</span>;<span class="comment">// a的补码向左移动一位,a的值不变</span></span><br><span class="line">    <span class="comment">// 7  :  |00000000 00000000 00000000 00000111| - 补码</span></span><br><span class="line">    <span class="comment">// &lt;&lt; : 左边丢弃,右边补0</span></span><br><span class="line">    <span class="comment">//结果: 0|00000000 00000000 00000000 00001110| - 左移一位</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a); <span class="comment">// 7,a的值不变</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, b); <span class="comment">// 14</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> c = <span class="number">-7</span>;</span><br><span class="line">    <span class="type">int</span> d = c &lt;&lt; <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// -7 : |11111111 11111111 11111111 11111001| - 补码</span></span><br><span class="line">    <span class="comment">// &lt;&lt;1:1|11111111 11111111 11111111 11110010| - 左移一位,补零</span></span><br><span class="line">    <span class="comment">// 结果计算: 原码 = (补码 - 1)按位取反,符号位不动</span></span><br><span class="line">    <span class="comment">// -1  : |11111111 11111111 11111111 11110001|</span></span><br><span class="line">    <span class="comment">// 取反: |10000000 00000000 00000000 00001110| = -14</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, c);<span class="comment">// -7</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, d);<span class="comment">// -14</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h3 id="3-2-右移操作符"><a href="#3-2-右移操作符" class="headerlink" title="3.2 右移操作符"></a>3.2 右移操作符</h3><ul><li>移位规则：</li></ul><p>首先右移运算分两种：具体根据编译器的不同而不同</p><blockquote><ol><li><p>逻辑移位</p><p>左边用0填充，右边丢弃</p></li><li><p>算术移位（vs2019）</p><p>左边用原改制的符号位填充，右边丢弃</p></li></ol></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> e = a &gt;&gt; <span class="number">1</span>;<span class="comment">// a的补码向右移动一位,a的值不变</span></span><br><span class="line"><span class="comment">// 7  :  |00000000 00000000 00000000 00000111|  - 补码</span></span><br><span class="line"><span class="comment">// &gt;&gt; : 右边丢弃,左边补原符号位的值</span></span><br><span class="line"><span class="comment">//结果 :  |00000000 00000000 00000000 00000011|1 = 3</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;7&gt;&gt;1:%d\n&quot;</span>, e); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> c = <span class="number">-7</span>;</span><br><span class="line">   <span class="type">int</span> f = c &gt;&gt; <span class="number">1</span>;</span><br><span class="line">   <span class="comment">// -7 : |11111111 11111111 11111111 11111001|  - 补码</span></span><br><span class="line">   <span class="comment">// &gt;&gt;1: |11111111 11111111 11111111 11111100|1 - 右移一位,补原符号位的值</span></span><br><span class="line">   <span class="comment">// 结果计算: 原码 = (补码 - 1)按位取反,符号位不动</span></span><br><span class="line">   <span class="comment">// -1 : |11111111 11111111 11111111 11111011|</span></span><br><span class="line">   <span class="comment">// 取反: |10000000 00000000 00000000 00000100| = -4</span></span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;-7&gt;&gt;1: %d\n&quot;</span>, f); <span class="comment">// -7&gt;&gt;1: -4</span></span><br></pre></td></tr></table></figure><p>警告⚠️: </p><p>对于移位运算符, 不要移动负数位, 这个是标准未定义的.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> num = <span class="number">10</span>;</span><br><span class="line">num &gt;&gt; <span class="number">-1</span>;<span class="comment">//error</span></span><br></pre></td></tr></table></figure><h2 id="4-位操作符"><a href="#4-位操作符" class="headerlink" title="4. 位操作符"></a>4. 位操作符</h2><p>位操作符有:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&amp;<span class="comment">// 按补码位与</span></span><br><span class="line">|<span class="comment">// 按补码位或</span></span><br><span class="line">^<span class="comment">// 按补码位异或</span></span><br><span class="line">注: 它们的操作数必须是整数.</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">-5</span>;</span><br><span class="line"><span class="type">int</span> c = a &amp; b; <span class="comment">// 按补码位与</span></span><br><span class="line"><span class="comment">// -5 : 10000000 00000000 00000000 00000101 - 原码</span></span><br><span class="line"><span class="comment">//      11111111 11111111 11111111 11111010 - 反码</span></span><br><span class="line"><span class="comment">//      11111111 11111111 11111111 11111011 - 补码</span></span><br><span class="line"><span class="comment">// 3  : 00000000 00000000 00000000 00000011 - 原码 = 反码 = 补码</span></span><br><span class="line"><span class="comment">//结果: 00000000 00000000 00000000 00000011 = 3</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, c);<span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> d = a | b;<span class="comment">// 按补码位或</span></span><br><span class="line"><span class="comment">// -5 : 11111111 11111111 11111111 11111011 - 补码</span></span><br><span class="line"><span class="comment">// 3  : 00000000 00000000 00000000 00000011 - 原码 = 反码 = 补码</span></span><br><span class="line"><span class="comment">//结果: 11111111 11111111 11111111 11111011 - 补码</span></span><br><span class="line"><span class="comment">// -1 : 11111111 11111111 11111111 11111010 - 反码</span></span><br><span class="line"><span class="comment">//取反: 10000000 00000000 00000000 00000101 - 原码 = -5</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, d); <span class="comment">// -5</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> e = a ^ b;<span class="comment">// 按补码位异或</span></span><br><span class="line"><span class="comment">// -5 : 11111111 11111111 11111111 11111011 - 补码</span></span><br><span class="line"><span class="comment">// 3  : 00000000 00000000 00000000 00000011 - 原码 = 反码 = 补码</span></span><br><span class="line"><span class="comment">//结果: 11111111 11111111 11111111 11111000 - 补码</span></span><br><span class="line"><span class="comment">// -1 : 11111111 11111111 11111111 11110111 - 反码</span></span><br><span class="line"><span class="comment">//取反: 10000000 00000000 00000000 00001000 - 原码 = -8</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, e); <span class="comment">// -8</span></span><br></pre></td></tr></table></figure><p>异或的特点:</p><ol><li><p><code>a^a = 0</code></p><p><code>0^a = a</code></p><blockquote><p>例如:</p><pre><code>    3^3 : 011 ^ 011 = 000 = 0    5^0 : 101 ^ 000 = 101 = 5    进而: 3^3^5 = 5    那么: 3^5^3 = ?    3^5^3 = 011^101 = 110^011 =101 = 5</code></pre></blockquote></li><li><p>满足交换律</p><blockquote><p>​            所以:3^3^5 = 3^5^3, 满足交换律</p></blockquote></li></ol><p>练习: 若不增加额外变量,将两个数交换?</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> num1 = <span class="number">3</span>;</span><br><span class="line"><span class="type">int</span> num2 = <span class="number">5</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;交换前,a=%d,b=%d\n&quot;</span>, num1, num2); <span class="comment">// 3 5</span></span><br><span class="line">num1 = num1 ^ num2; <span class="comment">// num1 = 3^5</span></span><br><span class="line">num2 = num1 ^ num2; <span class="comment">// num2 = 3^5^5 = 3</span></span><br><span class="line">num1 = num1 ^ num2; <span class="comment">// num1 = 3^5^3 = 5,完成交换</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;交换后,a=%d,b=%d\n&quot;</span>, num1, num2);<span class="comment">// 5 3</span></span><br></pre></td></tr></table></figure><p>编写代码实现: 求一个整数存储在内存中的二进制中1的个数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//问题2:求一个整数存储在内存中的二进制中1的个数</span></span><br><span class="line"><span class="comment">// 求补码的二进制中1的个数</span></span><br><span class="line"><span class="type">int</span> input = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入一个数:&gt;&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;input);</span><br><span class="line"><span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// input = 3 : 00000000 00000000 00000000 00000011</span></span><br><span class="line"><span class="comment">//         1 :&amp;00000000 00000000 00000000 00000001</span></span><br><span class="line"><span class="comment">// input &amp; 1 : 00000000 00000000 00000000 00000001 = 1</span></span><br><span class="line"><span class="comment">// input &gt;&gt;1 : 00000000 00000000 00000000 00000001</span></span><br><span class="line"><span class="comment">// 再input&amp;1 :&amp;00000000 00000000 00000000 00000001 = 1...</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (input &amp; <span class="number">1</span>) &#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    input = input &gt;&gt; <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;在内存中的二进制1的个数为:%d\n&quot;</span>, count);</span><br><span class="line"><span class="comment">// -5在内存中的二进制1的个数为:31</span></span><br><span class="line"><span class="comment">// 3在内存中的二进制1的个数为:2</span></span><br></pre></td></tr></table></figure><h2 id="5-赋值操作符"><a href="#5-赋值操作符" class="headerlink" title="5. 赋值操作符"></a>5. 赋值操作符</h2><p>赋值操作符可以连续使用, 比如</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> y = <span class="number">20</span>;</span><br><span class="line">a = x = y+<span class="number">1</span>; <span class="comment">// 从右往左,将x赋值为21,a=x=21,这种写法不推荐</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这样的写法更容易调试和阅读</span></span><br><span class="line">x = y+<span class="number">1</span>;</span><br><span class="line">a = x;</span><br></pre></td></tr></table></figure><p><strong>复合赋值符</strong></p><blockquote><p>+=、-=、*=、/=、%=</p><p>&lt;&lt;=、&gt;&gt;=</p><p>&amp;=、|=、^=</p></blockquote><h2 id="6-单目操作符"><a href="#6-单目操作符" class="headerlink" title="6. 单目操作符"></a>6. 单目操作符</h2><p>详情见：<a href="#unaryOperator">单目操作符</a></p><p>需要注意的是：</p><ul><li><code>sizeof</code>是操作符, 不是函数, 计算结果包含<code>\0</code></li><li><code>strlen</code>是库函数, 用来求字符串长度, 计算结果不包含<code>\0</code></li></ul><h2 id="7-关系操作符"><a href="#7-关系操作符" class="headerlink" title="7. 关系操作符"></a>7. 关系操作符</h2><p>详情见：<a href="#relationalOperator">关系操作符</a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">&quot;abc&quot;</span> == <span class="string">&quot;abcdef&quot;</span>)       <span class="comment">// error,这样比较的是首地址</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">strcmp</span>(<span class="string">&quot;abc&quot;</span>,<span class="string">&quot;abcdef&quot;</span>))  <span class="comment">// ok, 两个字符串比较相等</span></span><br></pre></td></tr></table></figure><h2 id="8-逻辑操作符"><a href="#8-逻辑操作符" class="headerlink" title="8. 逻辑操作符"></a>8. 逻辑操作符</h2><p>逻辑操作符有哪些: </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp;逻辑与</span><br><span class="line">||逻辑或</span><br></pre></td></tr></table></figure><p>区分<strong>逻辑与</strong>和<strong>按补码位与</strong></p><p>区分<strong>逻辑或</strong>和<strong>按补码位或</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>&amp;<span class="number">2</span> = <span class="number">001</span>&amp;<span class="number">010</span>= <span class="number">000</span>=&gt; <span class="number">0</span></span><br><span class="line"><span class="number">1</span>&amp;&amp;<span class="number">2</span> =&gt; <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>|<span class="number">2</span> =  <span class="number">001</span>|<span class="number">010</span>= <span class="number">011</span>=&gt; <span class="number">3</span></span><br><span class="line"><span class="number">1</span>||<span class="number">2</span> =&gt; <span class="number">1</span></span><br></pre></td></tr></table></figure><p>短路求值：只有第一个运算的逻辑值无法判断结果，才对第二个运算数进行求值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">0</span>, a = <span class="number">0</span>, b = <span class="number">2</span>, c = <span class="number">3</span>, d = <span class="number">4</span>;</span><br><span class="line"><span class="comment">// 短路求值：只有第一个运算的逻辑值无法判断结果，才对第二个运算数进行求值</span></span><br><span class="line"><span class="comment">// 只要不满足，我就不继续往下判断了</span></span><br><span class="line"><span class="comment">//i = a++ &amp;&amp; ++b &amp;&amp; d++;</span></span><br><span class="line"><span class="comment">//printf(&quot;a = %d\nb = %d\nc = %d\nd = %d\ni = %d\n&quot;,</span></span><br><span class="line"><span class="comment">//    a, b, c, d, i);// 1 2 3 4 0</span></span><br><span class="line"></span><br><span class="line">i = a++ || ++b || d++; <span class="comment">// 确定一定不满足条件后就不执行了</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a = %d\nb = %d\nc = %d\nd = %d\ni = %d\n&quot;</span>,</span><br><span class="line">    a, b, c, d, i);<span class="comment">// 1 3 3 4 1</span></span><br></pre></td></tr></table></figure><h2 id="9-逗号表达式"><a href="#9-逗号表达式" class="headerlink" title="9. 逗号表达式"></a>9. 逗号表达式</h2><p>详情见: <a href="#commaOperator">逗号表达式</a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = get_val();</span><br><span class="line">count_val(a);</span><br><span class="line"><span class="keyword">while</span>(a &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// 业务代码</span></span><br><span class="line">    a = get_val();</span><br><span class="line">count_val(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 上述代码有冗余,可替换为</span></span><br><span class="line"><span class="keyword">while</span>(a = get_val(), count_val(), a &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// 业务代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="10-表达式求值"><a href="#10-表达式求值" class="headerlink" title="10. 表达式求值"></a>10. 表达式求值</h2><p>表达式求值的顺序一部分是由操作符的优先级和结合性决定.</p><p>同样, 有些表达式的操作数在求值的过程中可能需要转换为其他类型.</p><h3 id="10-1-隐式类型转换"><a href="#10-1-隐式类型转换" class="headerlink" title="10.1 隐式类型转换"></a>10.1 隐式类型转换</h3><p>C的整形算术运算总是至少以缺省整型类型的精度来进行的.</p><p>为了获得这个精度, 表达式中的字符和短整型操作数在使用之前被转换为普通整型,这种转换成为<strong>整型提升</strong></p><p><strong>整型提升的意义:</strong></p><blockquote><p>表达式的整型运算要在CPU的相应运算器件内执行, CPU内整型运算器(ALU)的操作数的字节长度一般就是int的字节长度, 同时也是CPU的通用寄存器的长度</p><p>因此, 及时两个<code>char</code>类型的相加, 在CPU执行时实际上也要先转换为CPU内整型操作数的标准长度.</p><p>通用CPU(general-purpose CPU)是难以直接实现两个8比特字节直接相加运算(虽然机器执行中可能有这种字节相加指令).所以, 表达式中各个长度可能小于int长度的整型值,都必须先转换为<code>int</code>或<code>unsigned int</code>,然后才能送入CPU去执行运算.</p></blockquote><p>如何进行整型提升呢?</p><blockquote><p>整型提升是按照变量的数据类型的符号位来提升的</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 负数的整型提升</span></span><br><span class="line"><span class="type">char</span> c1 = <span class="number">-1</span>;</span><br><span class="line">变量c1的二进制位(补码)中只有<span class="number">8</span>个比特位</span><br><span class="line"><span class="number">11111111</span></span><br><span class="line">因为 cahr 为有符号的 <span class="type">char</span></span><br><span class="line">所以整型提升的时候, 高位补充符号位, 即为<span class="number">1</span></span><br><span class="line">提升之后的结果是:</span><br><span class="line"><span class="number">11111111</span> <span class="number">11111111</span> <span class="number">11111111</span> <span class="number">11111111</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正数的整型提升</span></span><br><span class="line"><span class="type">char</span> c2 = <span class="number">1</span>;</span><br><span class="line">变量c2的二进制位(补码)中只有<span class="number">8</span>个比特位:</span><br><span class="line"><span class="number">00000001</span></span><br><span class="line">因为 <span class="type">char</span> 为有符号的 <span class="type">char</span></span><br><span class="line">所以整型提升的时候, 高位补充符号位, 即为<span class="number">0</span></span><br><span class="line">提升之后的结果是:</span><br><span class="line"><span class="number">00000000</span> <span class="number">00000000</span> <span class="number">00000000</span> <span class="number">00000001</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 无符号整型提升, 高位补0</span></span><br><span class="line">    <span class="type">char</span> a = <span class="number">0xb6</span>;          <span class="comment">// 11111111 11111111 11111111 10110110 高位补1</span></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">0xb6</span>) </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// 不打印</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> b = <span class="number">0xb6</span>; <span class="comment">// 00000000 00000000 00000000 10110110 高位补1</span></span><br><span class="line"><span class="keyword">if</span> (b == <span class="number">0xb6</span>) </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;b&quot;</span>); <span class="comment">// 打印</span></span><br></pre></td></tr></table></figure><p>计算:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="type">char</span> b = <span class="number">126</span>;</span><br><span class="line"><span class="type">char</span> c = a + b;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, c); <span class="comment">// ?</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="comment">// 00000000 00000000 00000000 00000101</span></span><br><span class="line"><span class="comment">// 00000101 - a</span></span><br><span class="line"><span class="type">char</span> b = <span class="number">126</span>;</span><br><span class="line"><span class="comment">// 00000000 00000000 00000000 01111110</span></span><br><span class="line"><span class="comment">// 01111110 - b</span></span><br><span class="line"><span class="type">char</span> c = a + b;</span><br><span class="line"><span class="comment">// 00000000 00000000 00000000 00000101 - a</span></span><br><span class="line"><span class="comment">// 00000000 00000000 00000000 01111110 - b</span></span><br><span class="line"><span class="comment">// 00000000 00000000 00000000 10000011 - 131</span></span><br><span class="line"><span class="comment">// 截位: 10000011 - c</span></span><br><span class="line"><span class="comment">// %d输出, 需要格式化为 4 个字节,整型提升,全补符号位</span></span><br><span class="line"><span class="comment">// 11111111 11111111 11111111 10000011 - 补码</span></span><br><span class="line"><span class="comment">// 11111111 11111111 11111111 10000010 - 反码:补码-1</span></span><br><span class="line"><span class="comment">// 10000000 00000000 00000000 01111101 - 原码 = -125</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, c); <span class="comment">// -125</span></span><br></pre></td></tr></table></figure><h3 id="10-2-算术转换"><a href="#10-2-算术转换" class="headerlink" title="10.2 算术转换"></a>10.2 算术转换</h3><p>如果某个操作符的各个操作数属于不同的类型, 那么除非其中一个操作数的转换为另一个操作数的类型, 否则操作就无法进行. 下面的层次体系称为<strong>寻常算术转换</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="type">double</span></span><br><span class="line"><span class="type">double</span></span><br><span class="line"><span class="type">float</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span></span><br><span class="line"><span class="type">long</span> <span class="type">int</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span></span><br><span class="line"><span class="type">int</span></span><br></pre></td></tr></table></figure><p>上述能从下往上转换, 例如 <code>int</code> + <code>double</code> 会转换成 <code>double</code></p><h3 id="10-3-操作符的属性"><a href="#10-3-操作符的属性" class="headerlink" title="10.3 操作符的属性"></a>10.3 操作符的属性</h3><p>复杂表达式的求值有三个影响的因素. </p><ol><li>操作符的优先级</li><li>操作符的结合性</li><li>是否控制求值顺序</li></ol><p>两个相邻的操作符先执行哪个? 取决于他们的优先级. 如果两者的优先级相同, 取决于他们的结合性.</p><p><span style="color:red"><strong>算术操作符(+-*/) &gt; 关系操作符(==,&gt;=) &gt; 位操作符 &gt; 赋值操作符 &gt; 逗号操作符</strong></span></p><div class="table-container"><table><thead><tr><th style="text-align:center">操作符</th><th>描述</th><th>用法示例</th><th>结果类型</th><th>结合性</th><th>是否控制求值顺序</th></tr></thead><tbody><tr><td style="text-align:center">()</td><td>聚组</td><td>(表达式)</td><td>与表达式相同</td><td>N/A</td><td>否</td></tr><tr><td style="text-align:center">()</td><td>函数调用</td><td>rexp(rexp, rexp…)</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">[]</td><td>下标引用</td><td>rexp[rexp]</td><td>lexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">.</td><td>访问结构成员</td><td>lexp.member_name</td><td>lexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">-&gt;</td><td>访问结构指针成员</td><td>rexp-&gt;member_name</td><td>lexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">++</td><td>后缀自增</td><td>lexp++</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">—</td><td>后缀自减</td><td>lexp—</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">!</td><td>逻辑反</td><td>!rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">~</td><td>按位取反</td><td>~rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">+</td><td>单目,表示正值</td><td>+rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">-</td><td>单目,表示负值</td><td>-rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">++</td><td>前缀自增</td><td>++lexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">—</td><td>前缀自减</td><td>—lexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">*</td><td>间接访问</td><td>*rexp</td><td>lexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">&amp;</td><td>取地址</td><td>&amp;lexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">sizeof</td><td>返回字节长度</td><td>sizeof rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">(类型)</td><td>类型转换</td><td>类型(rexp)</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">*</td><td>乘法</td><td>rexp * rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">/</td><td>除法</td><td>rexp / rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">%</td><td>取余</td><td>rexp % rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">+</td><td>加法</td><td>rexp + rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">-</td><td>减法</td><td>rexp - rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">&lt;&lt;</td><td>左移位</td><td>rexp &lt;&lt; rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">>&gt;</td><td>右移位</td><td>rexp >&gt; rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">&gt;</td><td>大于</td><td>rexp &gt; rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">>=</td><td>大于等于</td><td>rexp >= rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">&lt;</td><td>小于</td><td>rexp &lt; rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">&lt;=</td><td>小于等于</td><td>rexp &lt;= rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">==</td><td>等于</td><td>rexp == rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">!=</td><td>不等于</td><td>rexp != rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">&amp;</td><td>按补码位与</td><td>rexp &amp; rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">^</td><td>按补码位异或</td><td>rexp ^ rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">\</td><td></td><td>按补码位或</td><td>rexp \</td><td>rexp</td><td>rexp</td><td>L-R</td><td>否</td></tr><tr><td style="text-align:center">&amp;&amp;</td><td>逻辑与</td><td>rexp &amp;&amp; rexp</td><td>rexp</td><td>L-R</td><td>是,短路求值,提前终止</td></tr><tr><td style="text-align:center">\</td><td>\</td><td></td><td>逻辑或</td><td>rexp</td><td></td><td>rexp</td><td>rexp</td><td>L-R</td><td>是</td></tr><tr><td style="text-align:center">?:</td><td>条件操作符</td><td>rexp ? rexp : rexp</td><td>rexp</td><td>N/A</td><td>是</td></tr><tr><td style="text-align:center">=</td><td>赋值</td><td>lexp = rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">+=</td><td>加等</td><td>lexp += rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">-=</td><td>减等</td><td>lexp -= rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">*=</td><td>乘等</td><td>lexp *= rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">/=</td><td>除等</td><td>lexp /= rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">%=</td><td>取模等</td><td>lexp %= rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">&lt;&lt;=</td><td>左移等</td><td>lexp &lt;&lt;= rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">>&gt;=</td><td>右移等</td><td>lexp >&gt;= rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">&amp;=</td><td>按补码位与等</td><td>lexp &amp;= rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">^=</td><td>按补码位异或等</td><td>lexp ^= rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">\</td><td>=</td><td>按补码位或等</td><td>lexp \</td><td>= rexp</td><td>rexp</td><td>R-L</td><td>否</td></tr><tr><td style="text-align:center">,</td><td>逗号</td><td>rexp, rexp</td><td>rexp</td><td>L-R</td><td>是, 最后一个是最终值</td></tr></tbody></table></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> aa = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span>* p = &amp;aa;</span><br><span class="line">*p = <span class="number">10</span> * *p; <span class="comment">// *解引用优先级高于乘法*</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, aa); <span class="comment">// 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// += 与 /= 优先级相同,按照结合性从右往左计算</span></span><br><span class="line">aa /= aa += <span class="number">2</span>; <span class="comment">// &lt;=&gt; aa /= (aa += 2)</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, aa); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p>计算以下结果(问题表达式:有问题的写法,不推荐):</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> b = (++a) + (++a) + (++a);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,b);</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/4be9a1cc4967f11db996c3d386b23f19.png" alt="image-20250324182010016"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a2 = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> b2 = (++a2) + (++a2) + (++a2);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a2 = %d\n&quot;</span>, a2); <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;b2 = %d\n&quot;</span>, b2); <span class="comment">// 12</span></span><br><span class="line"><span class="type">int</span> a1 = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> b1 = (a1++) + (a1++) + (a1++);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a1); <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, b1); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><h1 id="六、指针"><a href="#六、指针" class="headerlink" title="六、指针"></a>六、指针</h1><ol><li>指针是什么</li><li>指针和指针类型</li><li>野指针</li><li>指针运算</li><li>指针和数组</li><li>二级指针</li><li>指针数组</li></ol><h2 id="1-指针是什么"><a href="#1-指针是什么" class="headerlink" title="1. 指针是什么"></a>1. 指针是什么</h2><blockquote><p>指针是什么</p><p>指针理解的2个要点:</p><ol><li>指针是内存中一个最小单元的编号, 也就是地址</li><li>平时口语中说的指针, 通常指的是指针变量, 是用来存储内存地址的变量</li></ol></blockquote><p>总结: 指针就是地址, 口语中所说的指针通常指的是指针变量.</p><p>那我们可以这样理解:</p><blockquote><p>内存: <a href="#memory">内存</a></p><p>指针变量</p><p>我们可以通过<code>&amp;</code>(取地址操作符)取出变量的内存真实地址, 把地址可以存放到一个变量中, 这个变量就是指针变量</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>; <span class="comment">// 在内存中开辟一块空间</span></span><br><span class="line"><span class="comment">// 这里对变量a,取出它的地址,可以使用&amp;操作符</span></span><br><span class="line"><span class="comment">// a变量占4个字节,这里是将a的首字节的地址存放到p变量中</span></span><br><span class="line"><span class="comment">// p是一个指针变量</span></span><br><span class="line"><span class="type">int</span>* p = &amp;a;</span><br></pre></td></tr></table></figure><p><strong>总结:</strong></p><p>指针变量, 用来存储地址的变量. (存放在指针中的值都被当成地址处理).</p><p>那这里的问题是:</p><ul><li>一个小的单元到底是多大? (一个字节)</li><li>如何编址?</li></ul><p>经过仔细的计算和权衡我们发现一个字节给一个对应的地址是较为合理的.</p><p>详情见:<a href="#pointerVariable">指针变量大小</a></p><h2 id="2-指针和指针类型"><a href="#2-指针和指针类型" class="headerlink" title="2. 指针和指针类型"></a>2. 指针和指针类型</h2><p>我们知道, 变量有不同的类型, 整型, 浮点型等. 那指针有没有类型呢?</p><p>准确的说: 有的.</p><p>当有这样的代码:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> num = <span class="number">10</span>;</span><br><span class="line">p = &amp;num;</span><br></pre></td></tr></table></figure><p>要将&amp;num(num的地址)保存到p中, 我们知道p是一个指针变量, 那么它的类型是什么样的呢?</p><p>我们给指针变量相应的类型.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>* pc = null;</span><br><span class="line"><span class="type">short</span>* ps = null;</span><br><span class="line"><span class="type">int</span>* pi = null;</span><br><span class="line"><span class="type">float</span>* pf = null;</span><br><span class="line"><span class="type">double</span>* pd = null;</span><br><span class="line"><span class="type">long</span>* pl = null</span><br></pre></td></tr></table></figure><p><strong>总结:</strong></p><h3 id="2-1-指针的解引用"><a href="#2-1-指针的解引用" class="headerlink" title="2.1 指针的解引用"></a>2.1 指针的解引用</h3><p><strong>1. 指针变量的类型决定了它被解引用操作的时候到底访问几个字节</strong></p><ul><li>如果是 <code>int*</code> 的指针, 解引用访问<strong>四个字节</strong></li><li>如果是 <code>char*</code> 的指针, 解引用访问<strong>一个字节</strong>等等</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 00010001 00100010 00110011 01000100</span></span><br><span class="line"><span class="type">int</span> a = <span class="number">0x11223344</span>;</span><br><span class="line"><span class="type">int</span>* pa = &amp;a;</span><br><span class="line">*pa = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> b = <span class="number">0x11223344</span>;</span><br><span class="line"><span class="type">char</span>* pb = &amp;b;</span><br><span class="line">*pb = <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/276dc7f14f77e4e19be7cf81267fbec0.png" alt="image-20250324215707621"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/00545e3027df6b3280321509c8f67f72.png" alt="image-20250324220037331"></p><h3 id="2-2-指针的-问题"><a href="#2-2-指针的-问题" class="headerlink" title="2.2 指针的+-问题"></a>2.2 指针的+-问题</h3><p><strong>2. 指针的类型决定了指针+-1时跳过几个字节</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> aa = <span class="number">0x11223344</span>;</span><br><span class="line"><span class="type">int</span>* paa1 = &amp;aa;</span><br><span class="line"><span class="type">char</span>* paa2 = &amp;aa;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, paa1);     <span class="comment">// 00000046D1F7F674 + 4</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, paa1 + <span class="number">1</span>); <span class="comment">// 00000046D1F7F678</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, paa2);     <span class="comment">// 00000046D1F7F674 + 1</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, paa2 + <span class="number">1</span>); <span class="comment">// 00000046D1F7F675</span></span><br></pre></td></tr></table></figure><h2 id="3-野指针"><a href="#3-野指针" class="headerlink" title="3. 野指针"></a>3. 野指针</h2><blockquote><p>概念: 野指针就是指针指向的位置是不可知的(随机的, 不正确的, 没有明确限制的)</p></blockquote><h3 id="3-1-野指针成因"><a href="#3-1-野指针成因" class="headerlink" title="3.1 野指针成因"></a>3.1 野指针成因</h3><ol><li><p>指针未初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 未初始化</span></span><br><span class="line"><span class="comment">// p没有初始化,就意味着没有明确的指向</span></span><br><span class="line"><span class="comment">// 一个局部变量不初始化的话,放的是随机值:0xcccccccc</span></span><br><span class="line"><span class="type">int</span>* p;</span><br><span class="line">*p = <span class="number">10</span>; <span class="comment">// 非法访问内存了,这里的p就是野指针</span></span><br></pre></td></tr></table></figure></li><li><p>指针越界访问</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2.指针越界</span></span><br><span class="line"><span class="type">int</span> arr[<span class="number">10</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="type">int</span>* p = arr; <span class="comment">// 等价于: &amp;arr[0],数组名就是首地址</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">    *p = i;</span><br><span class="line">    p++; <span class="comment">// 这里在 i=10 时p指向的地址arr[10],是未定义的,下标越界了</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>指针指向的空间释放</p><p>这里放在动态内存开辟的时候讲解,</p></li></ol><h2 id="4-指针运算"><a href="#4-指针运算" class="headerlink" title="4. 指针运算"></a>4. 指针运算</h2><ul><li>指针+-整数</li><li>指针-指针</li><li>指针的关系运算</li></ul><h3 id="4-1-指针-整数"><a href="#4-1-指针-整数" class="headerlink" title="4.1 指针+-整数"></a>4.1 指针+-整数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> VALUES 5</span></span><br><span class="line"><span class="type">float</span> values[VALUES];</span><br><span class="line"><span class="type">float</span>* vp;</span><br><span class="line"><span class="comment">// 指针的+-整数;指针的关系运算</span></span><br><span class="line"><span class="keyword">for</span>(vp = &amp;values[<span class="number">0</span>]; vp &lt; &amp;values[VALUES];) &#123;</span><br><span class="line">*vp++ = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="comment">// *vp = 0; vp++;</span></span><br><span class="line">&#125; <span class="comment">// 这段代码就是将数组每个元素设置为0</span></span><br></pre></td></tr></table></figure><h3 id="4-2-指针-指针"><a href="#4-2-指针-指针" class="headerlink" title="4.2 指针-指针"></a>4.2 指针-指针</h3><p><strong>结论: 指针-指针的绝对值=指针和指针之间元素的个数</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 指针-指针的绝对值=指针和指针之间元素的个数</span></span><br><span class="line"><span class="type">int</span> arr[<span class="number">10</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,&amp;arr[<span class="number">9</span>] - &amp;arr[<span class="number">0</span>]); <span class="comment">// 9</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,&amp;arr[<span class="number">0</span>] - &amp;arr[<span class="number">9</span>]); <span class="comment">// -9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不是所有的指针都能相减</span></span><br><span class="line"><span class="comment">// 指向同一块空间的2个指针才能相减</span></span><br><span class="line"><span class="type">int</span> arr[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">char</span> ch[<span class="number">5</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,&amp;arr[<span class="number">5</span>] - &amp;<span class="type">char</span>[<span class="number">0</span>]); <span class="comment">// error, 无意义</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">my_strlen</span><span class="params">(<span class="type">char</span> *s)</span> &#123;</span><br><span class="line">    <span class="type">char</span>* p = s;</span><br><span class="line">    <span class="keyword">while</span>(*p != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">        p++;</span><br><span class="line">    <span class="keyword">return</span> p-s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-3-指针的关系运算-比较大小"><a href="#4-3-指针的关系运算-比较大小" class="headerlink" title="4.3 指针的关系运算(比较大小)"></a>4.3 指针的关系运算(比较大小)</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ok,因为vp最终指向了values[0]</span></span><br><span class="line"><span class="keyword">for</span>(vp = &amp;values[VALUES];vp &gt; &amp;values[<span class="number">0</span>];) &#123;</span><br><span class="line">    *--vp = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>代码简化,将代码修改为:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// error, 不推荐, vp最终指向了values[-1]</span></span><br><span class="line"><span class="keyword">for</span>(vp = &amp;values[VALUES<span class="number">-1</span>]; vp &gt;= &amp;values[<span class="number">0</span>]; vp--) &#123;</span><br><span class="line">    *vp = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实际在绝大部分的编译器上可以顺利完成任务, 然而我们还是避免这样写, 因为标准并不保证它可行.</p><p><strong>标准规定:</strong></p><blockquote><p>允许指向数组元素的指针与指向数组最后一个元素后面的那个内存位置的指针比较, 但是不允许与指向第一个元素之前的那个内存位置的指针进行比较</p></blockquote><h2 id="5-指针和数组"><a href="#5-指针和数组" class="headerlink" title="5. 指针和数组"></a>5. 指针和数组</h2><p>我们看一个例子:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span> &#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, arr);     <span class="comment">// 000000C65476F508</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;arr[<span class="number">0</span>]); <span class="comment">// 000000C65476F508</span></span><br></pre></td></tr></table></figure><p>可见数组名和数组首元素的地址是一样的 </p><p>结论: 数组名表示的数组首元素的地址. (两种情况除外)</p><blockquote><ol><li><p>作为<code>sizeof</code>运算符的操作数时</p><p><code>sizeof(数组名)</code>返回整个数组占用的内存大小，而非指针的大小。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">5</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="keyword">sizeof</span>(arr));  <span class="comment">// 输出 5 * sizeof(int)，而非 sizeof(int*)</span></span><br></pre></td></tr></table></figure></li><li><p>作为取地址运算符<code>&amp;</code>的操作数时</p><p><code>&amp;数组名</code>返回整个数组的地址，类型为指向数组的指针（而非指向首元素的指针）。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">5</span>];</span><br><span class="line"><span class="type">int</span> (*p)[<span class="number">5</span>] = &amp;arr;  <span class="comment">// p的类型是 int(*)[5]，指向整个数组的指针</span></span><br></pre></td></tr></table></figure><p><strong>关键区别</strong></p><p>虽然<code>arr</code>和<code>&amp;arr</code>的地址值相同，但类型不同：</p><ul><li><code>arr</code>的类型是<code>int*</code>（指向首元素的指针）。</li><li><code>&amp;arr</code>的类型是<code>int(*)[5]</code>（指向包含5个整数的数组的指针）。</li></ul></li></ol></blockquote><p>那么这样写代码是可行的:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">0</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span> &#125;;</span><br><span class="line"><span class="type">int</span>* p = arr; <span class="comment">// p存放的是数组首元素地址</span></span><br></pre></td></tr></table></figure><p>既然可以把数组名当成地址存放到一个指针中, 那么使用指针访问一个数组也成为了可能.</p><p>例如:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">3</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> &#125;;</span><br><span class="line"><span class="type">int</span>* p = arr; <span class="comment">// 存放数组首地址</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span> arr / <span class="keyword">sizeof</span> arr[<span class="number">0</span>]; i++) &#123;</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">&quot;&amp;arr[%d] = %p &lt;====&gt; p+%d = %p\n&quot;</span>, i, p, i, p + i);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">/*</span></span><br><span class="line"><span class="comment">   &amp;arr[0] = 0000000AC513F5D8 &lt;====&gt; p+0 = 0000000AC513F5D8</span></span><br><span class="line"><span class="comment">   &amp;arr[1] = 0000000AC513F5D8 &lt;====&gt; p+1 = 0000000AC513F5DC</span></span><br><span class="line"><span class="comment">   &amp;arr[2] = 0000000AC513F5D8 &lt;====&gt; p+2 = 0000000AC513F5E0</span></span><br><span class="line"><span class="comment">   */</span></span><br></pre></td></tr></table></figure><p><strong>总结:</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> &#125;;</span><br><span class="line"><span class="type">int</span>* p = arr;</span><br><span class="line"></span><br><span class="line">arr[i] &lt;===&gt; *(p + i) <span class="comment">// 注意解引用后才等于,两者等价</span></span><br></pre></td></tr></table></figure><h2 id="6-二级指针"><a href="#6-二级指针" class="headerlink" title="6. 二级指针"></a>6. 二级指针</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 二级指针变量是存放一级指针变量的地址的</span></span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="comment">// int 代表pa指向的对象a是 int 型</span></span><br><span class="line">    <span class="comment">// * 代表pa是地址</span></span><br><span class="line">    <span class="type">int</span>* pa = &amp;a;</span><br><span class="line">    <span class="comment">// int* 代表ppa指向的对象pa是指针变量int*</span></span><br><span class="line">    <span class="comment">// 第二个*代表ppa是地址</span></span><br><span class="line">    <span class="type">int</span>** ppa = &amp;pa; <span class="comment">// ppa是一个二级指针变量</span></span><br><span class="line">    *(*(ppa)) = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a); <span class="comment">// 20</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/be3bb824a38754d188aec30c5a9ee361.png" alt="image-20250325101534866"></p><h2 id="7-指针数组"><a href="#7-指针数组" class="headerlink" title="7. 指针数组"></a>7. 指针数组</h2><p>指针数组是指针还是数组?</p><p>答案: 是数组. <strong>是存放指针的数组</strong>.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line"><span class="type">int</span> c = <span class="number">30</span>;</span><br><span class="line"><span class="type">int</span>* parr[<span class="number">10</span>] = &#123; &amp;a,&amp;b,&amp;c &#125;; <span class="comment">// parr就是指针数组</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *(parr[i])); <span class="comment">// 10 20 30</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *parr[i]); <span class="comment">// 10 20 30 括号去掉效果如上</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 普通的遍历二维数组</span></span><br><span class="line">    <span class="type">int</span> arr[<span class="number">3</span>][<span class="number">4</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span> ,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span> &#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, arr[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    1 2 3 4</span></span><br><span class="line"><span class="comment">    2 3 4 5</span></span><br><span class="line"><span class="comment">    3 4 5 6</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> array1[] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span> &#125;;</span><br><span class="line">    <span class="type">int</span> array2[] = &#123; <span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span> &#125;;</span><br><span class="line">    <span class="type">int</span> array3[] = &#123; <span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span> &#125;;</span><br><span class="line">    <span class="type">int</span>* parr2[] = &#123; array1,array2,array3 &#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="comment">//printf(&quot;%d &quot;, parr2[i][j]);</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *(*(parr2 + i) + j)); <span class="comment">// 两者等价</span></span><br><span class="line">            <span class="comment">// (parr2 + i)的返回值是 int** 二级指针</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &amp;arr[0]: 0x00 0x04 0x08</span></span><br><span class="line">    <span class="comment">// &amp;arr[1]: 0x0c 0x10 0x14</span></span><br><span class="line">    <span class="comment">// 二维数组地址连续排列,所以不需要初始化行</span></span><br><span class="line">    <span class="type">int</span> arr2[][<span class="number">3</span>] = &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/img_convert/2e55fcd8eab1163110a76ac9c4ab427d.png" alt="image-20250325095941828"></p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown语法与外挂标签写法汇总</title>
      <link href="/post/2013454d.html"/>
      <url>/post/2013454d.html</url>
      
        <content type="html"><![CDATA[<h1 id="1-Markdown语法自带格式"><a href="#1-Markdown语法自带格式" class="headerlink" title="1.Markdown语法自带格式"></a>1.Markdown语法自带格式</h1><div class="note info flat"><p>参考：<a href="https://blog.csdn.net/u014061630/article/details/81359144">Markdown语法图文全面详解(10分钟学会)</a></p></div><div class="note warning flat"><p>注意：此页面偶尔会存在CSS冲突问题!</p></div><h2 id="1-1-代码块"><a href="#1-1-代码块" class="headerlink" title="1.1 代码块"></a>1.1 代码块</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">\```shell</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSCode终端</span></span><br><span class="line">hexo clean; hexo s</span><br><span class="line">hexo clean; hexo g; hexo d</span><br><span class="line">git add .; git commit -m &quot;npm publish&quot;; npm version patch; </span><br><span class="line">git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Cmder终端</span></span><br><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line">git add . &amp;&amp; git commit -m &quot;npm publish&quot; &amp;&amp; npm version patch</span><br><span class="line">git push</span><br><span class="line">\```</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSCode终端</span></span><br><span class="line">hexo clean; hexo s</span><br><span class="line">hexo clean; hexo g; hexo d</span><br><span class="line">git add .; git commit -m &quot;npm publish&quot;; npm version patch; </span><br><span class="line">git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Cmder终端</span></span><br><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line">git add . &amp;&amp; git commit -m &quot;npm publish&quot; &amp;&amp; npm version patch</span><br><span class="line">git push</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="1-2-多级标题"><a href="#1-2-多级标题" class="headerlink" title="1.2 多级标题"></a>1.2 多级标题</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># H1</span></span><br><span class="line"><span class="section">## H2</span></span><br><span class="line"><span class="section">### H3</span></span><br><span class="line"><span class="section">#### H4</span></span><br><span class="line"><span class="section">##### H5</span></span><br><span class="line"><span class="section">###### H6</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><p>见本文章标题!</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="1-3-文字样式"><a href="#1-3-文字样式" class="headerlink" title="1.3 文字样式"></a>1.3 文字样式</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">u</span>&gt;</span></span>下划线演示<span class="language-xml"><span class="tag">&lt;/<span class="name">u</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">文字<span class="strong">**加粗**</span>演示</span><br><span class="line"></span><br><span class="line">文字<span class="emphasis">*斜体*</span>演示</span><br><span class="line"></span><br><span class="line">文本<span class="code">`高亮`</span>演示</span><br><span class="line"></span><br><span class="line">文本~~删除~~线演示</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span> = <span class="string">5</span>&gt;</span></span>5号字<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;黑体&quot;</span>&gt;</span></span>黑体<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">blue</span>&gt;</span></span>蓝色<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">td</span> <span class="attr">bgcolor</span>=<span class="string">MistyRose</span>&gt;</span></span>这里的背景色是：MistyRosen，此处输入任意想输入的内容<span class="language-xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><p><u>下划线演示</u></p><p>文字<strong>加粗</strong>演示</p><p>文字<em>斜体</em>演示</p><p>文本<code>高亮</code>演示</p><p>文本<del>删除</del>线演示</p><font size = 5>5号字</font><font face="黑体">黑体</font><font color=blue>蓝色</font><table><tr><td bgcolor=MistyRose>这里的背景色是：MistyRosen，此处输入任意想输入的内容</td></tr></table></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><div class="note info flat"><p>上述要点可参考:<a href="https://blog.csdn.net/qq_43732429/article/details/108034518">【Markdown语法】字体颜色大小及文字底色设置</a></p></div><h2 id="1-4-引用"><a href="#1-4-引用" class="headerlink" title="1.4 引用"></a>1.4 引用</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt;  Java</span></span><br><span class="line"><span class="quote">&gt; 二级引用演示</span></span><br><span class="line"><span class="quote">&gt; MySQL</span></span><br><span class="line"><span class="quote">&gt; &gt;外键</span></span><br><span class="line"><span class="quote">&gt; &gt;</span></span><br><span class="line"><span class="quote">&gt; &gt;事务</span></span><br><span class="line"><span class="quote">&gt; &gt;</span></span><br><span class="line"><span class="quote">&gt; &gt;<span class="strong">**行级锁**</span>(引用内部一样可以用格式)</span></span><br><span class="line"><span class="quote">&gt; </span></span><br><span class="line"><span class="quote">&gt; ....</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><blockquote><p> Java<br>二级引用演示<br>MySQL</p><blockquote><p>外键</p><p>事务</p><p><strong>行级锁</strong>(引用内部一样可以用格式)</p></blockquote><p>….</p></blockquote></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="1-5-分割线"><a href="#1-5-分割线" class="headerlink" title="1.5 分割线"></a>1.5 分割线</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><hr><hr></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="1-6-列表-跟空格都可以"><a href="#1-6-列表-跟空格都可以" class="headerlink" title="1.6 列表(*,+,-跟空格都可以)"></a>1.6 列表(*,+,-跟空格都可以)</h2><h3 id="1-6-1-无序列表"><a href="#1-6-1-无序列表" class="headerlink" title="1.6.1 无序列表"></a>1.6.1 无序列表</h3><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> Java</span><br><span class="line"><span class="bullet">*</span> Python</span><br><span class="line"><span class="bullet">*</span> ...</span><br><span class="line"></span><br><span class="line"><span class="bullet">+</span> Java</span><br><span class="line"><span class="bullet">+</span> Python</span><br><span class="line"><span class="bullet">+</span> ...</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> Java</span><br><span class="line"><span class="bullet">-</span> Python</span><br><span class="line"><span class="bullet">-</span> ...</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ul><li>Java</li><li>Python</li><li>…</li></ul><ul><li>Java</li><li>Python</li><li>…</li></ul><ul><li>Java</li><li>Python</li><li>…</li></ul></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h3 id="1-6-2-有序列表"><a href="#1-6-2-有序列表" class="headerlink" title="1.6.2 有序列表"></a>1.6.2 有序列表</h3><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 注意后面有空格</span></span><br><span class="line"><span class="bullet">1.</span> </span><br><span class="line"><span class="bullet">2.</span> </span><br><span class="line"><span class="bullet">3.</span> </span><br><span class="line"><span class="bullet">4.</span> </span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li></li><li></li><li></li><li></li></ol></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="1-7-图片"><a href="#1-7-图片" class="headerlink" title="1.7 图片"></a>1.7 图片</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 本地图片</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/assets/pusheencode.webp&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;示例图片&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:50%;&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="section"># 在线图片</span></span><br><span class="line">![<span class="string">code</span>](<span class="link">https://cdn.jsdelivr.net/gh/fomalhaut1998/markdown_pic/img/code.png</span>)</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><p>本地图片:<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/pusheencode.webp" alt="示例图片" style="zoom:50%;" /><br>在线图片:<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/ff823d1335d4b4dfa90b1e2953eec38e.png" alt="code"></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="1-8-表格"><a href="#1-8-表格" class="headerlink" title="1.8 表格"></a>1.8 表格</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| 项目标号 | 资金     | 备注 |</span><br><span class="line">| -------- | -------- | ---- |</span><br><span class="line">| 1        | 100，000 | 无   |</span><br><span class="line">| 2        | 200，000 | 无   |</span><br><span class="line">| 3        | 300,600  | 重要 |</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><div class="table-container"><table><thead><tr><th>项目标号</th><th>资金</th><th>备注</th></tr></thead><tbody><tr><td>1</td><td>100，000</td><td>无</td></tr><tr><td>2</td><td>200，000</td><td>无</td></tr><tr><td>3</td><td>300,600</td><td>重要</td></tr></tbody></table></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="1-9-公式"><a href="#1-9-公式" class="headerlink" title="1.9 公式"></a>1.9 公式</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\Gamma(z)=\int<span class="emphasis">_0^\infty t^&#123;z-1&#125;e^&#123;-t&#125;dt.</span></span><br><span class="line"><span class="emphasis">$$</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><script type="math/tex; mode=display">\Gamma(z)=\int_0^\infty t^{z-1}e^{-t}dt.</script></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h1 id="2-Butterfly外挂标签"><a href="#2-Butterfly外挂标签" class="headerlink" title="2.Butterfly外挂标签"></a>2.Butterfly外挂标签</h1><div class="note info flat"><p>这部分参考安知鱼:<a href="https://anzhiy.cn/posts/7d58.html">基于Butterfly的外挂标签引入</a></p></div><h2 id="2-1-行内文本样式-text"><a href="#2-1-行内文本样式-text" class="headerlink" title="2.1 行内文本样式 text"></a>2.1 行内文本样式 text</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">示例源码</button><button type="button" class="tab " data-href="分栏-3">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% u 文本内容 %&#125;</span><br><span class="line">&#123;% emp 文本内容 %&#125;</span><br><span class="line">&#123;% wavy 文本内容 %&#125;</span><br><span class="line">&#123;% del 文本内容 %&#125;</span><br><span class="line">&#123;% kbd 文本内容 %&#125;</span><br><span class="line">&#123;% psw 文本内容 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> 带 &#123;% u 下划线 %&#125; 的文本</span><br><span class="line"><span class="bullet">2.</span> 带 &#123;% emp 着重号 %&#125; 的文本</span><br><span class="line"><span class="bullet">3.</span> 带 &#123;% wavy 波浪线 %&#125; 的文本</span><br><span class="line"><span class="bullet">4.</span> 带 &#123;% del 删除线 %&#125; 的文本</span><br><span class="line"><span class="bullet">5.</span> 键盘样式的文本 &#123;% kbd command %&#125; + &#123;% kbd D %&#125;</span><br><span class="line"><span class="bullet">6.</span> 密码样式的文本：&#123;% psw 这里没有验证码 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-3"><ol><li>带 <u>下划线</u> 的文本</li><li>带 <emp>着重号</emp> 的文本</li><li>带 <wavy>波浪线</wavy> 的文本</li><li>带 <del>删除线</del> 的文本</li><li>键盘样式的文本 <kbd>command</kbd> + <kbd>D</kbd></li><li>密码样式的文本：<psw>这里没有验证码</psw></li></ol></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-2-行内文本-span"><a href="#2-2-行内文本-span" class="headerlink" title="2.2 行内文本 span"></a>2.2 行内文本 span</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">配置参数</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% span 样式参数(参数以空格划分), 文本内容 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>字体</code>: logo, code</li><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>大小</code>: small, h4, h3, h2, h1, large, huge, ultra</li><li><code>对齐方向</code>: left, center, right</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> 彩色文字</span><br><span class="line">在一段话中方便插入各种颜色的标签，包括：&#123;% span red, 红色 %&#125;、&#123;% span yellow, 黄色 %&#125;、&#123;% span green, 绿色 %&#125;、&#123;% span cyan, 青色 %&#125;、&#123;% span blue, 蓝色 %&#125;、&#123;% span gray, 灰色 %&#125;。</span><br><span class="line"><span class="bullet">-</span> 超大号文字</span><br><span class="line">文档「开始」页面中的标题部分就是超大号文字。</span><br><span class="line">&#123;% span center logo large, Volantis %&#125;</span><br><span class="line">&#123;% span center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><ul><li>彩色文字<br>在一段话中方便插入各种颜色的标签，包括：<span class='p red'>红色</span>、<span class='p yellow'>黄色</span>、<span class='p green'>绿色</span>、<span class='p cyan'>青色</span>、<span class='p blue'>蓝色</span>、<span class='p gray'>灰色</span>。</li><li>超大号文字<br>文档「开始」页面中的标题部分就是超大号文字。<br><span class='p center logo large'>Volantis</span><br><span class='p center small'>A Wonderful Theme for Hexo</span></li></ul></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-3-段落文本-p"><a href="#2-3-段落文本-p" class="headerlink" title="2.3 段落文本 p"></a>2.3 段落文本 p</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">配置参数</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% p 样式参数(参数以空格划分), 文本内容 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>字体</code>: logo, code</li><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>大小</code>: small, h4, h3, h2, h1, large, huge, ultra</li><li><code>对齐方向</code>: left, center, right</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> 彩色文字</span><br><span class="line">在一段话中方便插入各种颜色的标签，包括：&#123;% p red, 红色 %&#125;、&#123;% p yellow, 黄色 %&#125;、&#123;% p green, 绿色 %&#125;、&#123;% p cyan, 青色 %&#125;、&#123;% p blue, 蓝色 %&#125;、&#123;% p gray, 灰色 %&#125;。</span><br><span class="line"><span class="bullet">-</span> 超大号文字</span><br><span class="line">文档「开始」页面中的标题部分就是超大号文字。</span><br><span class="line">&#123;% p center logo large, Volantis %&#125;</span><br><span class="line">&#123;% p center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><ul><li>彩色文字<br>在一段话中方便插入各种颜色的标签，包括：<p class='p red'>红色</p>、<p class='p yellow'>黄色</p>、<p class='p green'>绿色</p>、<p class='p cyan'>青色</p>、<p class='p blue'>蓝色</p>、<p class='p gray'>灰色</p>。</li><li>超大号文字<br>文档「开始」页面中的标题部分就是超大号文字。<p class='p center logo large'>Volantis</p><p class='p center small'>A Wonderful Theme for Hexo</p></li></ul></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-4-引用note"><a href="#2-4-引用note" class="headerlink" title="2.4 引用note"></a>2.4 引用note</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">通用配置</button><button type="button" class="tab " data-href="分栏-2">语法格式</button><button type="button" class="tab " data-href="分栏-3">参数配置</button><button type="button" class="tab " data-href="分栏-4">示例源码</button><button type="button" class="tab " data-href="分栏-5">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">note:</span><br><span class="line">  # Note tag style values:</span><br><span class="line">  #  - simple    bs-callout old alert style. Default.</span><br><span class="line">  #  - modern    bs-callout new (v2-v3) alert style.</span><br><span class="line">  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span><br><span class="line">  #  - disabled  disable all CSS styles import of note tag.</span><br><span class="line">  style: simple</span><br><span class="line">  icons: false</span><br><span class="line">  border<span class="emphasis">_radius: 3</span></span><br><span class="line"><span class="emphasis">  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line"><span class="emphasis">  # Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line"><span class="emphasis">  light_</span>bg<span class="emphasis">_offset: 0</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 自带icon</span></span><br><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"><span class="section"># 外部icon</span></span><br><span class="line">&#123;% note [color] [icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-3"><p>1.自带icon</p><div class="table-container"><table><thead><tr><th>参数</th><th style="text-align:center">用法</th></tr></thead><tbody><tr><td>class</td><td style="text-align:center">【可选】标识，不同的标识有不同的配色 （ default / primary / success / info / warning / danger ）</td></tr><tr><td>no-icon</td><td style="text-align:center">【可选】不显示 icon</td></tr><tr><td>style</td><td style="text-align:center">【可选】可以覆盖配置中的 style （simple/modern/flat/disabled）</td></tr></tbody></table></div><p>2.外部icon</p><div class="table-container"><table><thead><tr><th>参数</th><th style="text-align:center">用法</th></tr></thead><tbody><tr><td>class</td><td style="text-align:center">【可选】标识，不同的标识有不同的配色 （ default / blue / pink / red / purple / orange / green ）</td></tr><tr><td>no-icon</td><td style="text-align:center">【可选】可配置自定义 icon (只支持 fontawesome 图标, 也可以配置 no-icon )</td></tr><tr><td>style</td><td style="text-align:center">【可选】可以覆盖配置中的 style （simple/modern/flat/disabled）</td></tr></tbody></table></div></div><div class="tab-item-content" id="分栏-4"><details class="folding-tag" blue><summary> 1.自带icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note simple %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><br>2.<code>modern</code>样式<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note modern %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default modern %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary modern %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success modern %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info modern %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning modern %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger modern %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></p><p>3.<code>flat</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note flat %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default flat %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary flat %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success flat %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info flat %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning flat %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger flat %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>4.<code>disabled</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note disabled %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default disabled %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary disabled %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success disabled %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info disabled %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning disabled %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger disabled %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>5.<code>no-icon</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default no-icon %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary no-icon %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success no-icon %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info no-icon %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning no-icon %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger no-icon %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" blue><summary> 2.外部icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; simple %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; simple %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; simple %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; simple%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; simple %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; simple %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; simple %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>2.<code>modern</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; modern %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; modern %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; modern%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; modern %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; modern %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; modern %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>3.<code>flat</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; flat %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; flat %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; flat%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; flat %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; flat %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>4.<code>disabled</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; disabled %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; disabled %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; disabled %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; disabled %&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; disabled %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; disabled %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; disabled %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>5.<code>no-icon</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue no-icon %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink no-icon %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red no-icon %&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange no-icon %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple no-icon %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green no-icon %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details></div><div class="tab-item-content" id="分栏-5"><details class="folding-tag" blue><summary> 1.自带icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><div class="note simple"><p>默认 提示块标签</p></div><div class="note default simple"><p>default 提示块标签</p></div><div class="note primary simple"><p>primary 提示块标签</p></div><div class="note success simple"><p>success 提示块标签</p></div><div class="note info simple"><p>info 提示块标签</p></div><div class="note warning simple"><p>warning 提示块标签</p></div><div class="note danger simple"><p>danger 提示块标签</p></div>2.`modern`样式<div class="note modern"><p>默认 提示块标签</p></div><div class="note default modern"><p>default 提示块标签</p></div><div class="note primary modern"><p>primary 提示块标签</p></div><div class="note success modern"><p>success 提示块标签</p></div><div class="note info modern"><p>info 提示块标签</p></div><div class="note warning modern"><p>warning 提示块标签</p></div><div class="note danger modern"><p>danger 提示块标签</p></div><p>3.<code>flat</code>样式</p><div class="note flat"><p>默认 提示块标签</p></div><div class="note default flat"><p>default 提示块标签</p></div><div class="note primary flat"><p>primary 提示块标签</p></div><div class="note success flat"><p>success 提示块标签</p></div><div class="note info flat"><p>info 提示块标签</p></div><div class="note warning flat"><p>warning 提示块标签</p></div><div class="note danger flat"><p>danger 提示块标签</p></div><p>4.<code>disabled</code>样式</p><div class="note disabled"><p>默认 提示块标签</p></div><div class="note default disabled"><p>default 提示块标签</p></div><div class="note primary disabled"><p>primary 提示块标签</p></div><div class="note success disabled"><p>success 提示块标签</p></div><div class="note info disabled"><p>info 提示块标签</p></div><div class="note warning disabled"><p>warning 提示块标签</p></div><div class="note danger disabled"><p>danger 提示块标签</p></div><p>5.<code>no-icon</code>样式</p><div class="note no-icon flat"><p>默认 提示块标签</p></div><div class="note default no-icon flat"><p>default 提示块标签</p></div><div class="note primary no-icon flat"><p>primary 提示块标签</p></div><div class="note success no-icon flat"><p>success 提示块标签</p></div><div class="note info no-icon flat"><p>info 提示块标签</p></div><div class="note warning no-icon flat"><p>warning 提示块标签</p></div><div class="note danger no-icon flat"><p>danger 提示块标签</p></div>              </div>            </details><details class="folding-tag" blue><summary> 2.外部icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding simple"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding simple"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding simple"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>2.<code>modern</code>样式</p><div class="note icon-padding modern"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding modern"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding modern"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>3.<code>flat</code>样式</p><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>4.<code>disabled</code>样式</p><div class="note icon-padding disabled"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding disabled"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding disabled"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding disabled"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding disabled"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding disabled"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>5.<code>no-icon</code>样式</p><div class="note no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue no-icon flat"><p>2021年快到了….</p></div><div class="note pink no-icon flat"><p>小心开车 安全至上</p></div><div class="note red no-icon flat"><p>这是三片呢？还是四片？</p></div><div class="note orange no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple no-icon flat"><p>剪刀石头布</p></div><div class="note green no-icon flat"><p>前端最讨厌的浏览器</p></div>              </div>            </details></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-5-上标标签-tip"><a href="#2-5-上标标签-tip" class="headerlink" title="2.5 上标标签 tip"></a>2.5 上标标签 tip</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">配置参数</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip [参数，可选] %&#125;文本内容&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>样式</code>: success,error,warning,bolt,ban,home,sync,cogs,key,bell</li><li><code>自定义图标</code>: 支持fontawesome。</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip %&#125;default&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip info %&#125;info&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip success %&#125;success&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip error %&#125;error&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip warning %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bolt %&#125;bolt&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban %&#125;ban&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip home %&#125;home&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip sync %&#125;sync&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip cogs %&#125;cogs&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip key %&#125;key&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bell %&#125;bell&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip fa-atom %&#125;自定义font awesome图标&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><div class="tip "><p>default</p></div><div class="tip info"><p>info</p></div><div class="tip success"><p>success</p></div><div class="tip error"><p>error</p></div><div class="tip warning"><p>warning</p></div><div class="tip bolt"><p>bolt</p></div><div class="tip ban"><p>ban</p></div><div class="tip home"><p>home</p></div><div class="tip sync"><p>sync</p></div><div class="tip cogs"><p>cogs</p></div><div class="tip key"><p>key</p></div><div class="tip bell"><p>bell</p></div><div class="tip fa-atom"><p>自定义font awesome图标</p></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-6-动态标签-anima"><a href="#2-6-动态标签-anima" class="headerlink" title="2.6 动态标签 anima"></a>2.6 动态标签 anima</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">配置参数</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip [参数，可选] %&#125;文本内容&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><div class="note info flat"><ol><li>将所需的CSS类添加到图标（或DOM中的任何元素）。</li><li>对于父级悬停样式，需要给目标元素添加指定CSS类，同时还要给目标元素的父级元素添加CSS类<code>faa-parent animated-hover</code>。（详情见示例及示例源码）<br>You can regulate the speed of the animation by adding the CSS class or . faa-fastfaa-slow</li><li>可以通过给目标元素添加CSS类<code>faa-fast</code>或<code>faa-slow</code>来控制动画快慢。</li></ol></div></div><div class="tab-item-content" id="分栏-3"><p>   1.On DOM load（当页面加载时显示动画）</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>2.调整动画速度<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated faa-fast %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated faa-slow %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><br>3.On hover（当鼠标悬停时显示动画）<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated-hover %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated-hover %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><br>4.On parent hover（当鼠标悬停在父级元素时显示动画）<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-horizontal&quot;</span>&gt;</span></span>warning<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-flash&quot;</span>&gt;</span></span>ban<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></p></div><div class="tab-item-content" id="分栏-4"><p>1.On DOM load（当页面加载时显示动画）</p><div class="tip warning faa-horizontal animated"><p>warning</p></div><div class="tip ban faa-flash animated"><p>ban</p></div>2.调整动画速度<div class="tip warning faa-horizontal animated faa-fast"><p>warning</p></div><div class="tip ban faa-flash animated faa-slow"><p>ban</p></div>3.On hover（当鼠标悬停时显示动画）<div class="tip warning faa-horizontal animated-hover"><p>warning</p></div><div class="tip ban faa-flash animated-hover"><p>ban</p></div>4.On parent hover（当鼠标悬停在父级元素时显示动画）<div class="tip warning faa-parent animated-hover"><p class="faa-horizontal">warning</p></div><div class="tip ban faa-parent animated-hover"><p class="faa-flash">ban</p></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-7-复选列表-checkbox"><a href="#2-7-复选列表-checkbox" class="headerlink" title="2.7 复选列表 checkbox"></a>2.7 复选列表 checkbox</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">配置参数</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>样式</code>: plus, minus, times</li><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>选中状态</code>: checked</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 纯文本测试 %&#125;</span><br><span class="line">&#123;% checkbox checked, 支持简单的 [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) 语法 %&#125;</span><br><span class="line">&#123;% checkbox red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% checkbox green checked, 绿色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox yellow checked, 黄色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox cyan checked, 青色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox blue checked, 蓝色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox plus green checked, 增加 %&#125;</span><br><span class="line">&#123;% checkbox minus yellow checked, 减少 %&#125;</span><br><span class="line">&#123;% checkbox times red checked, 叉 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><div class='checkbox'><input type="checkbox" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>支持自定义颜色</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>绿色 + 默认选中</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>黄色 + 默认选中</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>青色 + 默认选中</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>蓝色 + 默认选中</p>            </div><div class='checkbox plus green checked'><input type="checkbox" checked="checked"/>            <p>增加</p>            </div><div class='checkbox minus yellow checked'><input type="checkbox" checked="checked"/>            <p>减少</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>叉</p>            </div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-8-单选列表-radio"><a href="#2-8-单选列表-radio" class="headerlink" title="2.8 单选列表 radio"></a>2.8 单选列表 radio</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">配置参数</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>选中状态</code>: checked</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio 纯文本测试 %&#125;</span><br><span class="line">&#123;% radio checked, 支持简单的 [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) 语法 %&#125;</span><br><span class="line">&#123;% radio red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% radio green, 绿色 %&#125;</span><br><span class="line">&#123;% radio yellow, 黄色 %&#125;</span><br><span class="line">&#123;% radio cyan, 青色 %&#125;</span><br><span class="line">&#123;% radio blue, 蓝色 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><div class='checkbox'><input type="radio" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="radio" />            <p>支持自定义颜色</p>            </div><div class='checkbox green'><input type="radio" />            <p>绿色</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>黄色</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>青色</p>            </div><div class='checkbox blue'><input type="radio" />            <p>蓝色</p>            </div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-9-时间轴-timeline"><a href="#2-9-时间轴-timeline" class="headerlink" title="2.9 时间轴 timeline"></a>2.9 时间轴 timeline</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">配置参数</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline 时间线标题（可选）[,color] %&#125;</span><br><span class="line">&lt;!-- timeline 时间节点（标题） --&gt;</span><br><span class="line">正文内容</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline 时间节点（标题） --&gt;</span><br><span class="line">正文内容</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>title</code>:标题/时间线</li><li><code>color</code>:<code>timeline</code>颜色:default(留空) / blue / pink / red / purple / orange / green</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline 时间轴样式,blue %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-07-24 [<span class="string">2.6.6 -&gt; 3.0</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 如果有 <span class="code">`hexo-lazyload-image`</span> 插件，需要删除并重新安装最新版本，设置 <span class="code">`lazyload.isSPA: true`</span>。</span><br><span class="line"><span class="bullet">2.</span> 2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <span class="code">`use_cdn: true`</span> 则需要删除。</span><br><span class="line"><span class="bullet">3.</span> 2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</span><br><span class="line"><span class="bullet">4.</span> 2.x 版本的置顶 <span class="code">`top: true`</span> 改为了 <span class="code">`pin: true`</span>，并且同样适用于 <span class="code">`layout: page`</span> 的页面。</span><br><span class="line"><span class="bullet">5.</span> 如果使用了 <span class="code">`hexo-offline`</span> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-05-15 [<span class="string">2.6.3 -&gt; 2.6.6</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6</span>) --&gt;</span><br><span class="line"></span><br><span class="line">不需要额外处理。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-04-20 [<span class="string">2.6.2 -&gt; 2.6.3</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 全局搜索 <span class="code">`seotitle`</span> 并替换为 <span class="code">`seo_title`</span>。</span><br><span class="line"><span class="bullet">2.</span> group 组件的索引规则有变，使用 group 组件的文章内，<span class="code">`group: group_name`</span> 对应的组件名必须是 <span class="code">`group_name`</span>。</span><br><span class="line"><span class="bullet">2.</span> group 组件的列表名优先显示文章的 <span class="code">`short_title`</span> 其次是 <span class="code">`title`</span>。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>时间轴样式</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></div></div><div class='timeline-item-content'><ol><li>如果有 <code>hexo-lazyload-image</code> 插件，需要删除并重新安装最新版本，设置 <code>lazyload.isSPA: true</code>。</li><li>2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <code>use_cdn: true</code> 则需要删除。</li><li>2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</li><li>2.x 版本的置顶 <code>top: true</code> 改为了 <code>pin: true</code>，并且同样适用于 <code>layout: page</code> 的页面。</li><li>如果使用了 <code>hexo-offline</code> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></div></div><div class='timeline-item-content'><p>不需要额外处理。</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></div></div><div class='timeline-item-content'><ol><li>全局搜索 <code>seotitle</code> 并替换为 <code>seo_title</code>。</li><li>group 组件的索引规则有变，使用 group 组件的文章内，<code>group: group_name</code> 对应的组件名必须是 <code>group_name</code>。</li><li>group 组件的列表名优先显示文章的 <code>short_title</code> 其次是 <code>title</code>。</li></ol></div></div></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-10-链接卡片-link"><a href="#2-10-链接卡片-link" class="headerlink" title="2.10 链接卡片 link"></a>2.10 链接卡片 link</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">示例源码</button><button type="button" class="tab " data-href="分栏-3">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link 标题, 链接, 图片链接（可选） %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link 糖果屋教程贴, https://akilar.top/posts/615e2dec/, https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-3"><div class="tag link"><a class="link-card" title="糖果屋教程贴" href="https://akilar.top/posts/615e2dec/"><div class="left"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico"/></div><div class="right"><p class="text">糖果屋教程贴</p><p class="url">https://akilar.top/posts/615e2dec/</p></div></a></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-11-按钮-btns"><a href="#2-11-按钮-btns" class="headerlink" title="2.11 按钮 btns"></a>2.11 按钮 btns</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns 样式参数 %&#125;</span><br><span class="line">&#123;% cell 标题, 链接, 图片或者图标 %&#125;</span><br><span class="line">&#123;% cell 标题, 链接, 图片或者图标 %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li>圆角样式：rounded, circle</li><li>增加文字样式：可以在容器内增加 <code>&lt;b&gt;</code>标题<code>&lt;/b&gt;</code>和<code>&lt;p&gt;</code>描述文字<code>&lt;/p&gt;</code></li><li>布局方式：<br>默认为自动宽度，适合视野内只有一两个的情况。</li></ol><div class="table-container"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>wide</td><td>宽一点的按钮</td></tr><tr><td>fill</td><td>填充布局，自动铺满至少一行，多了会换行</td></tr><tr><td>center</td><td>居中，按钮之间是固定间距</td></tr><tr><td>around</td><td>居中分散</td></tr><tr><td>grid2</td><td>等宽最多2列，屏幕变窄会适当减少列数</td></tr><tr><td>grid3</td><td>等宽最多3列，屏幕变窄会适当减少列数</td></tr><tr><td>grid4</td><td>等宽最多4列，屏幕变窄会适当减少列数</td></tr><tr><td>grid5</td><td>等宽最多5列，屏幕变窄会适当减少列数</td></tr></tbody></table></div></div><div class="tab-item-content" id="分栏-3"><p>1.如果需要显示类似「团队成员」之类的一组含有头像的链接</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle grid5 %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>2.或者含有图标的按钮<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns rounded grid5 %&#125;</span><br><span class="line">&#123;% cell 下载源码, /, fas fa-download %&#125;</span><br><span class="line">&#123;% cell 查看文档, /, fas fa-book-open %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure></p><p>3.圆形图标 + 标题 + 描述 + 图片 + 网格5列 + 居中<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle center grid5 %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>心率管家<span class="language-xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p red, 专业版 %&#125;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_pro.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>心率管家<span class="language-xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p green, 免费版 %&#125;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_lite.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure></p></div><div class="tab-item-content" id="分栏-4"><p>1.如果需要显示类似「团队成员」之类的一组含有头像的链接</p><div class="btns circle grid5">            <a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a>          </div>2.或者含有图标的按钮<div class="btns rounded grid5">            <a class="button" href='/' title='下载源码'><i class='fas fa-download'></i>下载源码</a><a class="button" href='/' title='查看文档'><i class='fas fa-book-open'></i>查看文档</a>          </div>3.圆形图标 + 标题 + 描述 + 图片 + 网格5列 + 居中<div class="btns circle center grid5">            <a href='https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1'>  <i class='fab fa-apple'></i>  <b>心率管家</b>  <p class='p red'>专业版</p>  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_pro.png'></a><a href='https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1'>  <i class='fab fa-apple'></i>  <b>心率管家</b>  <p class='p green'>免费版</p>  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_lite.png'></a>          </div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-12-github卡片-ghcard"><a href="#2-12-github卡片-ghcard" class="headerlink" title="2.12 github卡片 ghcard"></a>2.12 github卡片 ghcard</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% ghcard 用户名, 其它参数（可选） %&#125;</span><br><span class="line">&#123;% ghcard 用户名/仓库, 其它参数（可选） %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><p>使用<code>,</code>分割各个参数。写法为：<code>参数名=参数值</code><br>以下只写几个常用参数值。</p><div class="table-container"><table><thead><tr><th><strong>参数名</strong></th><th>取值</th><th>释义</th></tr></thead><tbody><tr><td>hide</td><td>stars,commits,prs,issues,contribs</td><td>隐藏指定统计</td></tr><tr><td>count_private</td><td>true</td><td>将私人项目贡献添加到总提交计数中</td></tr><tr><td>show_icons</td><td>true</td><td>显示图标</td></tr><tr><td>theme</td><td>查阅:<a href="https://github.com/anuraghazra/github-readme-stats/blob/master/themes/README.md">Available Themes</a></td><td>主题</td></tr></tbody></table></div></div><div class="tab-item-content" id="分栏-3"><p>1.用户信息卡片</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| &#123;% ghcard fomalhaut1998 %&#125; | &#123;% ghcard fomalhaut1998, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=buefy %&#125; | &#123;% ghcard fomalhaut1998, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=onedark %&#125; | &#123;% ghcard fomalhaut1998, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=algolia %&#125; | &#123;% ghcard fomalhaut1998, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><p>2.仓库信息卡片</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=buefy %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=onedark %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=algolia %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=calm %&#125; |</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><p>1.用户信息卡片</p><div class="table-container"><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=calm&show_owner=true"/></a></td></tr></tbody></table></div><p>2.仓库信息卡片</p><div class="table-container"><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=calm&show_owner=true"/></a></td></tr></tbody></table></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-13-github徽标-ghbdage"><a href="#2-13-github徽标-ghbdage" class="headerlink" title="2.13 github徽标 ghbdage"></a>2.13 github徽标 ghbdage</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">配置参数</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage [right],[left],[logo]||[color],[link],[title]||[option] %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>left</code>：徽标左边的信息，必选参数。</li><li><code>right</code>: 徽标右边的信息，必选参数，</li><li><code>logo</code>：徽标图标，图标名称详见<a href="https://simpleicons.org/">simpleicons</a>，可选参数。</li><li><code>color</code>：徽标右边的颜色，可选参数。</li><li><code>link</code>：指向的链接，可选参数。</li><li><code>title</code>：徽标的额外信息，可选参数。主要用于优化SEO，但<code>object</code>标签不会像<code>a</code>标签一样在鼠标悬停显示<code>title</code>信息。</li><li><code>option</code>：自定义参数，支持<a href="https://shields.io/">shields.io</a>的全部API参数支持，具体参数可以参看上文中的拓展写法示例。形式为<code>name1=value2&amp;name2=value2</code>。</li></ol></div><div class="tab-item-content" id="分栏-3"><p>1.基本参数,定义徽标左右文字和图标</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage Theme,Butterfly %&#125;</span><br><span class="line">&#123;% bdage Frame,Hexo,hexo %&#125;</span><br></pre></td></tr></table></figure><p>2.信息参数，定义徽标右侧内容背景色，指向链接</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage CDN,JsDelivr,jsDelivr||abcdef,https://metroui.org.ua/index.html,本站使用JsDelivr为静态资源提供CDN加速 %&#125;</span><br><span class="line">//如果是跨顺序省略可选参数，仍然需要写个逗号,用作分割</span><br><span class="line">&#123;% bdage Source,GitHub,GitHub||,https://github.com/ %&#125;</span><br></pre></td></tr></table></figure><p>3.拓展参数，支持shields的API的全部参数内容</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage Hosted,Vercel,Vercel||brightgreen,https://vercel.com/,本站采用双线部署，默认线路托管于Vercel||style=social&amp;logoWidth=20 %&#125;</span><br><span class="line">//如果是跨顺序省略可选参数组，仍然需要写双竖线||用作分割</span><br><span class="line">&#123;% bdage Hosted,Vercel,Vercel||||style=social&amp;logoWidth=20&amp;logoColor=violet %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><p>1.基本参数,定义徽标左右文字和图标</p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Butterfly-Theme-orange?logo=&color=orange&link=&"></object><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Hexo-Frame-orange?logo=hexo&color=orange&link=&"></object><p>2.信息参数，定义徽标右侧内容背景色，指向链接</p><object class="ghbdage" style="margin-inline:5px" title="本站使用JsDelivr为静态资源提供CDN加速" standby="loading..." data="https://img.shields.io/badge/JsDelivr-CDN-orange?logo=jsDelivr&color=abcdef&link=https://metroui.org.ua/index.html&"></object>//如果是跨顺序省略可选参数，仍然需要写个逗号,用作分割<object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/GitHub-Source-orange?logo=GitHub&color=orange&link=https://github.com/&"></object><p>3.拓展参数，支持shields的API的全部参数内容</p><object class="ghbdage" style="margin-inline:5px" title="本站采用双线部署，默认线路托管于Vercel" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=brightgreen&link=https://vercel.com/&style=social&logoWidth=20"></object>//如果是跨顺序省略可选参数组，仍然需要写双竖线||用作分割<object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=orange&link=&style=social&logoWidth=20&logoColor=violet"></object></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-14-网站卡片-sites"><a href="#2-14-网站卡片-sites" class="headerlink" title="2.14 网站卡片 sites"></a>2.14 网站卡片 sites</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">示例源码</button><button type="button" class="tab " data-href="分栏-3">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site xaoxuu, url=https://xaoxuu.com, screenshot=https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg, avatar=https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/avatar/avatar.png, description=简约风格 %&#125;</span><br><span class="line">&#123;% site inkss, url=https://inkss.cn, screenshot=https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg, avatar=https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site MHuiG, url=https://blog.mhuig.top, screenshot=https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png, avatar=https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site Colsrch, url=https://colsrch.top, screenshot=https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site Linhk1606, url=https://linhk1606.github.io, screenshot=https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png, avatar=https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-3"><div class="site-card-group"><a class="site-card" href="https://fomalhaut1998.com"><div class="img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg"/></div><div class="info"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/avatar/avatar.png"/><span class="title">fomalhaut1998</span><span class="desc">简约风格</span></div></a><a class="site-card" href="https://inkss.cn"><div class="img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg"/></div><div class="info"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg"/><span class="title">inkss</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://blog.mhuig.top"><div class="img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png"/></div><div class="info"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png"/><span class="title">MHuiG</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://colsrch.top"><div class="img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png"/></div><div class="info"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg"/><span class="title">Colsrch</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://linhk1606.github.io"><div class="img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png"/></div><div class="info"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png"/><span class="title">Linhk1606</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-15-行内图片-inlineimage"><a href="#2-15-行内图片-inlineimage" class="headerlink" title="2.15 行内图片 inlineimage"></a>2.15 行内图片 inlineimage</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% inlineimage 图片链接, height=高度（可选） %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>高度</code>：height=20px</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这是 &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif %&#125; 一段话。</span><br><span class="line"></span><br><span class="line">这又是 &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif, height=40px %&#125; 一段话。</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><p>这是 <img no-lazy class="inline" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif" style="height:1.5em"/> 一段话。</p><p>这又是 <img no-lazy class="inline" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif" style="height:40px;"/> 一段话。</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-16-单张图片-image"><a href="#2-16-单张图片-image" class="headerlink" title="2.16 单张图片 image"></a>2.16 单张图片 image</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image 链接, width=宽度（可选）, height=高度（可选）, alt=描述（可选）, bg=占位颜色（可选） %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li>图片宽度高度：width=300px, height=32px</li><li>图片描述：alt=图片描述（butterfly需要在主题配置文件中开启图片描述）</li><li>占位背景色：bg=#f2f2f2</li></ol></div><div class="tab-item-content" id="分栏-3"><p>1.添加描述：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, alt=每天下课回宿舍的路，没有什么故事。 %&#125;</span><br></pre></td></tr></table></figure><br>2.指定宽度<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px %&#125;</span><br></pre></td></tr></table></figure><br>3.指定宽度并添加描述：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, alt=每天下课回宿舍的路，没有什么故事。 %&#125;</span><br></pre></td></tr></table></figure><br>4.设置占位背景色：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, bg=#1D0C04, alt=优化不同宽度浏览的观感 %&#125;</span><br></pre></td></tr></table></figure></p></div><div class="tab-item-content" id="分栏-4"><p>1.添加描述：</p><div class="img-wrap"><div class="img-bg"><img class="img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="每天下课回宿舍的路，没有什么故事。"/></div><span class="image-caption">每天下课回宿舍的路，没有什么故事。</span></div>2..指定宽度<div class="img-wrap"><div class="img-bg"><img class="img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" style="width:400px;"/></div></div>3.指定宽度并添加描述：<div class="img-wrap"><div class="img-bg"><img class="img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="每天下课回宿舍的路，没有什么故事。" style="width:400px;"/></div><span class="image-caption">每天下课回宿舍的路，没有什么故事。</span></div>4.设置占位背景色：<div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="优化不同宽度浏览的观感" style="width:400px;"/></div><span class="image-caption">优化不同宽度浏览的观感</span></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-17-音频-audio"><a href="#2-17-音频-audio" class="headerlink" title="2.17 音频 audio"></a>2.17 音频 audio</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">示例源码</button><button type="button" class="tab " data-href="分栏-3">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio 音频链接 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-3"><div class="audio"><audio controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-18-视频-video"><a href="#2-18-视频-video" class="headerlink" title="2.18 视频 video"></a>2.18 视频 video</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">标签语法</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video 视频链接 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>对齐方向</code>：left, center, right</li><li><code>列数</code>：逗号后面直接写列数，支持 1 ～ 4 列。</li></ol></div><div class="tab-item-content" id="分栏-3"><p>1.100%宽度</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br></pre></td></tr></table></figure><p>2.50%宽度<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% videos, 2 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><br>3.25%宽度</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% videos, 4 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><p>1.100%宽度</p><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div>2.50%宽度<div class="videos" col='2'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div>3.25%宽度<div class="videos" col='4'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-19-相册-gallery"><a href="#2-19-相册-gallery" class="headerlink" title="2.19 相册 gallery"></a>2.19 相册 gallery</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><p>1.gallerygroup 相册图库<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><br>2.gallery 相册<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 圖片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure></p></div><div class="tab-item-content" id="分栏-2"><ul><li>gallerygroup 相册图库</li></ul><div class="table-container"><table><thead><tr><th>参数名</th><th>释义</th></tr></thead><tbody><tr><td>name</td><td>图库名字</td></tr><tr><td>description</td><td>图库描述</td></tr><tr><td>link</td><td>链接到对应相册的地址</td></tr><tr><td>img-url</td><td>图库封面</td></tr></tbody></table></div><ul><li><p>gallery 相册</p><p>区别于旧版的Gallery相册,新的Gallery相册会自动根据图片长度进行排版，书写也更加方便，与markdown格式一样。可根据需要插入到相应的md。无需再自己配置长宽。<strong>建议在粘贴时故意使用长短、大小、横竖不一的图片</strong>，会有更好的效果。（尺寸完全相同的图片只会平铺输出，效果很糟糕）</p></li></ul></div><div class="tab-item-content" id="分栏-3"><p>1.gallerygroup 相册图库</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup MC 在Rikkaの六花服务器里留下的足迹 &#x27;/gallery/MC/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg %&#125;</span><br><span class="line">&#123;% galleryGroup Gundam 哦咧哇gundam哒！ &#x27;/gallery/Gundam/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png %&#125;</span><br><span class="line">&#123;% galleryGroup I-am-Akilar 某种意义上也算自拍吧 &#x27;/gallery/I-am-Akilar/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2.gallery 相册</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg</span>)</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><p>1.gallerygroup 相册图库</p><div class="gallery-group-main"><figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">MC</div>  <p>在Rikkaの六花服务器里留下的足迹</p>  <a href='/gallery/MC/'></a>  </figcaption>  </figure><figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">Gundam</div>  <p>哦咧哇gundam哒！</p>  <a href='/gallery/Gundam/'></a>  </figcaption>  </figure><figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">I-am-Akilar</div>  <p>某种意义上也算自拍吧</p>  <a href='/gallery/I-am-Akilar/'></a>  </figcaption>  </figure></div>2.gallery 相册<div class="gallery-container" data-type="data" data-button="">      <div class="gallery-data">[{"url":"https://img-blog.csdnimg.cn/img_convert/76e4842fe2aafd0c0bf0ff80a29f020c.jpeg","alt":""},{"url":"https://img-blog.csdnimg.cn/img_convert/d513f0115be92a07f3ade4b77733c62a.jpeg","alt":""}]</div>      <div class="gallery-items">      </div>    </div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-20-折叠框-folding"><a href="#2-20-折叠框-folding" class="headerlink" title="2.20 折叠框 folding"></a>2.20 折叠框 folding</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">示例源码</button><button type="button" class="tab " data-href="分栏-3">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><p>1.gallerygroup 相册图库<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding 参数（可选）, 标题 %&#125;</span><br><span class="line">![](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><br><!-- tab 参数配置 --></p><ol><li><p><code>颜色</code>：blue, cyan, green, yellow, red</p></li><li><p><code>状态</code>：状态填写 open 代表默认打开。</p></li></ol></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding 查看图片测试 %&#125;</span><br><span class="line"></span><br><span class="line">![](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding cyan open, 查看默认打开的折叠框 %&#125;</span><br><span class="line"></span><br><span class="line">这是一个默认打开的折叠框。</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding green, 查看代码测试 %&#125;</span><br><span class="line">假装这里有代码块（代码块没法嵌套代码块）</span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow, 查看列表测试 %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> haha</span><br><span class="line"><span class="bullet">-</span> hehe</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding red, 查看嵌套测试 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding blue, 查看嵌套测试2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding 查看嵌套测试3 %&#125;</span><br><span class="line"></span><br><span class="line">hahaha <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height:24px&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-3"><details class="folding-tag" ><summary> 查看图片测试 </summary>              <div class='content'>              <p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/784555644165a68cda383eca6b2da272.jpeg" alt=""></p>              </div>            </details><details class="folding-tag" cyan open><summary> 查看默认打开的折叠框 </summary>              <div class='content'>              <p>这是一个默认打开的折叠框。</p>              </div>            </details><details class="folding-tag" green><summary> 查看代码测试 </summary>              <div class='content'>              <p>假装这里有代码块（代码块没法嵌套代码块）</p>              </div>            </details><details class="folding-tag" yellow><summary> 查看列表测试 </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details class="folding-tag" red><summary> 查看嵌套测试 </summary>              <div class='content'>              <details class="folding-tag" blue><summary> 查看嵌套测试2 </summary>              <div class='content'>              <details class="folding-tag" ><summary> 查看嵌套测试3 </summary>              <div class='content'>              <p>hahaha <span><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-21-分栏-tab"><a href="#2-21-分栏-tab" class="headerlink" title="2.21 分栏 tab"></a>2.21 分栏 tab</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">配置参数</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><p>Unique name :</p><ul><li><p>选项卡块标签的唯一名称，不带逗号。</p></li><li><p>将在#id中用作每个标签及其索引号的前缀。</p></li><li><p>如果名称中包含空格，则对于生成#id，所有空格将由破折号代替。</p></li><li><p>仅当前帖子/页面的URL必须是唯一的！</p></li></ul></li><li><p>[index]:</p><ul><li><p>活动选项卡的索引号。</p></li><li><p>如果未指定，将选择第一个标签（1）。</p></li><li><p>如果index为-1，则不会选择任何选项卡。</p></li><li><p>可选参数。</p></li></ul></li><li><p>[Tab caption]:</p><ul><li><p>当前选项卡的标题。</p></li><li><p>如果未指定标题，则带有制表符索引后缀的唯一名称将用作制表符的标题。</p></li><li><p>如果未指定标题，但指定了图标，则标题将为空。</p></li><li><p>可选参数。</p></li></ul></li><li><p>[@icon]:</p><ul><li><p>FontAwesome图标名称（全名，看起来像“ fas fa-font”）</p></li><li><p>可以指定带空格或不带空格；</p></li><li><p>例如’Tab caption @icon’ 和 ‘Tab caption@icon’.</p></li><li><p>可选参数。</p></li></ul></li></ol></div><div class="tab-item-content" id="分栏-3"><p>1.Demo 1 - 预设选择第一个【默认】</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>2.Demo 2 - 预设选择tabs</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>3.Demo 3 - 没有预设值</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>4.Demo 4 - 自定义Tab名 + 只有icon + icon和Tab名</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab 第一个Tab --&gt;</span><br><span class="line"><span class="strong">**tab名字为第一个Tab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**只有图标 没有Tab名字**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 炸弹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**名字+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><p>1.Demo 1 - 预设选择第一个【默认】</p><div class="tabs" id="test1"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="test1-1">test1 1</button><button type="button" class="tab " data-href="test1-2">test1 2</button><button type="button" class="tab " data-href="test1-3">test1 3</button></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><p>2.Demo 2 - 预设选择tabs</p><div class="tabs" id="test2"><ul class="nav-tabs"><button type="button" class="tab " data-href="test2-1">test2 1</button><button type="button" class="tab " data-href="test2-2">test2 2</button><button type="button" class="tab  active" data-href="test2-3">test2 3</button></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><p>3.Demo 3 - 没有预设值</p><div class="tabs" id="test3"><ul class="nav-tabs no-default"><button type="button" class="tab " data-href="test3-1">test3 1</button><button type="button" class="tab " data-href="test3-2">test3 2</button><button type="button" class="tab " data-href="test3-3">test3 3</button></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><p>4.Demo 4 - 自定义Tab名 + 只有icon + icon和Tab名</p><div class="tabs" id="test4"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="test4-1">第一个Tab</button><button type="button" class="tab " data-href="test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button><button type="button" class="tab " data-href="test4-3"><i class="fas fa-bomb"></i>炸弹</button></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tab名字为第一个Tab</strong></p></div><div class="tab-item-content" id="test4-2"><p><strong>只有图标 没有Tab名字</strong></p></div><div class="tab-item-content" id="test4-3"><p><strong>名字+icon</strong></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-22-诗词标签-poem"><a href="#2-22-诗词标签-poem" class="headerlink" title="2.22 诗词标签 poem"></a>2.22 诗词标签 poem</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">参数配置</button><button type="button" class="tab " data-href="分栏-2">示例源码</button><button type="button" class="tab " data-href="分栏-3">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><ol><li><code>title</code>：诗词标题</li><li><code>author</code>：作者，可以不写</li></ol></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% poem 水调歌头,苏轼 %&#125;</span><br><span class="line">丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。</span><br><span class="line">明月几时有？把酒问青天。</span><br><span class="line">不知天上宫阙，今夕是何年？</span><br><span class="line">我欲乘风归去，又恐琼楼玉宇，高处不胜寒。</span><br><span class="line">起舞弄清影，何似在人间？</span><br><span class="line"></span><br><span class="line">转朱阁，低绮户，照无眠。</span><br><span class="line">不应有恨，何事长向别时圆？</span><br><span class="line">人有悲欢离合，月有阴晴圆缺，此事古难全。</span><br><span class="line">但愿人长久，千里共婵娟。</span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-3"><div class='poem'><div class='poem-title'>水调歌头</div><div class='poem-author'>苏轼</div><p>丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。<br>明月几时有？把酒问青天。<br>不知天上宫阙，今夕是何年？<br>我欲乘风归去，又恐琼楼玉宇，高处不胜寒。<br>起舞弄清影，何似在人间？</p><p>转朱阁，低绮户，照无眠。<br>不应有恨，何事长向别时圆？<br>人有悲欢离合，月有阴晴圆缺，此事古难全。<br>但愿人长久，千里共婵娟。</p></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-23-阿里图标-icon"><a href="#2-23-阿里图标-icon" class="headerlink" title="2.23 阿里图标 icon"></a>2.23 阿里图标 icon</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% icon [icon-xxxx],[font-size] %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>icon-xxxx</code>：表示图标<code>font-class</code>,可以在自己的阿里矢量图标库项目的<code>font-class</code>引用方案内查询并复制。</li><li><code>font-size</code>：表示图标大小，直接填写数字即可，单位为<code>em</code>。图标大小默认值为<code>1em</code>。</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;% icon icon-rat<span class="emphasis">_zi %&#125;&#123;% icon icon-rat,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-ox_</span>chou,3 %&#125;&#123;% icon icon-ox,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-tiger<span class="emphasis">_yin,5 %&#125;&#123;% icon icon-tiger,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rabbit_</span>mao,1 %&#125;&#123;% icon icon-rabbit,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dragon<span class="emphasis">_chen,3 %&#125;&#123;% icon icon-dragon,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-snake_</span>si,5 %&#125;&#123;% icon icon-snake,6 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-horse<span class="emphasis">_wu %&#125;&#123;% icon icon-horse,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-goat_</span>wei,3 %&#125;&#123;% icon icon-goat,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-monkey<span class="emphasis">_shen,5 %&#125;&#123;% icon icon-monkey,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rooster_</span>you %&#125;&#123;% icon icon-rooster,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dog<span class="emphasis">_xu,3 %&#125;&#123;% icon icon-dog,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-boar_</span>hai,5 %&#125;&#123;% icon icon-boar,6 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rat_zi"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rat"></use></svg><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-ox_chou"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-ox"></use></svg><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-tiger_yin"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-tiger"></use></svg><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rabbit_mao"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rabbit"></use></svg><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dragon_chen"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dragon"></use></svg><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-snake_si"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-snake"></use></svg><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-horse_wu"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-horse"></use></svg><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-goat_wei"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-goat"></use></svg><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-monkey_shen"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-monkey"></use></svg><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rooster_you"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rooster"></use></svg><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dog_xu"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dog"></use></svg><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-boar_hai"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-boar"></use></svg></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-24-特效标签wow"><a href="#2-24-特效标签wow" class="headerlink" title="2.24 特效标签wow"></a>2.24 特效标签wow</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">示例源码</button><button type="button" class="tab " data-href="分栏-2">渲染演示</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow [animete],[duration],[delay],[offset],[iteration] %&#125;</span><br><span class="line">内容</span><br><span class="line">&#123;% endwow %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>animate</code>: 动画样式，效果详见<a href="https://animate.style/">animate.css参考文档</a></li><li><code>duration</code>: 选填项，动画持续时间，单位可以是<code>ms</code>也可以是<code>s</code>。例如<code>3s</code>，<code>700ms</code>。</li><li><code>delay</code>: 选填项，动画开始的延迟时间，单位可以是<code>ms</code>也可以是<code>s</code>。例如<code>3s</code>，<code>700ms</code>。</li><li><code>offset</code>: 选填项，开始动画的距离（相对浏览器底部）</li><li><code>iteration</code>: 选填项，动画重复的次数</li></ol></div><div class="tab-item-content" id="分栏-3"><p>1.flip动画效果。<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`动画效果，持续`5s`，延时`5s`，离底部`100`距离时启动，重复`10`次</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><br>2.zoomIn动画效果，持续5s，延时5s，离底部100距离时启动，重复10次<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`动画效果，持续`5s`，延时`5s`，离底部`100`距离时启动，重复`10`次</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><br>3.slideInRight动画效果，持续5s，延时5s<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__slideInRight,5s,5s %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note orange &#x27;fas fa-car&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`slideInRight`动画效果，持续`5s`，延时`5s`。</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><br>4.heartBeat动画效果，延时5s，重复10次。此处注意不用的参数位置要留空，用逗号间隔。<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__heartBeat,,5s,,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note red &#x27;fas fa-battery-half&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`heartBeat`动画效果，延时`5s`，重复`10`次。</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure></p></div><div class="tab-item-content" id="分栏-4"><p>1.flip动画效果。</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>动画效果，持续<code>5s</code>，延时<code>5s</code>，离底部<code>100</code>距离时启动，重复<code>10</code>次</p></div></div><p>2.zoomIn动画效果，持续5s，延时5s，离底部100距离时启动，重复10次</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>动画效果，持续<code>5s</code>，延时<code>5s</code>，离底部<code>100</code>距离时启动，重复<code>10</code>次</p></div></div><p>3.slideInRight动画效果，持续5s，延时5s</p><div class='wow animate__slideInRight' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-car"></i><p><code>slideInRight</code>动画效果，持续<code>5s</code>，延时<code>5s</code>。</p></div></div><p>4.heartBeat动画效果，延时5s，重复10次。此处注意不用的参数位置要留空，用逗号间隔。</p><div class='wow animate__heartBeat' data-wow-duration='' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='10' ><div class="note red icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p><code>heartBeat</code>动画效果，延时<code>5s</code>，重复<code>10</code>次。</p></div></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-25-进度条-progress"><a href="#2-25-进度条-progress" class="headerlink" title="2.25  进度条 progress"></a>2.25  进度条 progress</h2><div class="note info flat"><p>进度条标签参考<a href="https://rongbuqiu.com/jdt.html">沂佰孜猫-给HEXO文章添加彩色进度条</a>。<br>源样式提取自<a href="https://zwying0814.gitbook.io/cuteen/">Cuteen</a>主题。</p></div><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">参数配置</button><button type="button" class="tab " data-href="分栏-2">标签语法</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress [width] [color] [text] %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>width</code>: 0到100的阿拉伯数字</li><li><code>color</code>: 颜色，取值有red,yellow,green,cyan,blue,gray</li><li><code>text</code>:进度条上的文字内容</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress 10 red 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 30 yellow 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 50 green 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 70 cyan 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 90 blue 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 100 gray 进度条样式预览 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-red"  style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-yellow"  style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-green"  style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-cyan"  style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-blue"  style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-gray"  style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-26-注释-notation"><a href="#2-26-注释-notation" class="headerlink" title="2.26 注释 notation"></a>2.26 注释 notation</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% nota [label] , [text] %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><p><code>label</code>: 注释词汇</p></li><li><p><code>text</code>: 悬停显示的注解内容</p></li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% nota 把鼠标移动到我上面试试 ,可以看到注解内容出现在顶栏 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><p><span class='nota' data-nota='可以看到注解内容出现在顶栏'>把鼠标移动到我上面试试</span></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-27-气泡注释-bubble"><a href="#2-27-气泡注释-bubble" class="headerlink" title="2.27 气泡注释 bubble"></a>2.27 气泡注释 bubble</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bubble [content] , [notation] ,[background-color] %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>content</code>: 注释词汇</li><li><code>notation</code>: 悬停显示的注解内容</li><li><code>background-color</code>: 可选，气泡背景色。默认为“#71a4e3”</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">最近我学到了不少新玩意儿（虽然对很多大佬来说这些已经是旧技术了），比如CSS的&#123;% bubble 兄弟相邻选择器,&quot;例如 h1 + p &#123;margin-top:50px;&#125;&quot; %&#125;，&#123;% bubble flex布局,&quot;Flex 是 Flexible Box 的缩写，意为&quot;弹性布局&quot;，用来为盒状模型提供最大的灵活性&quot;,&quot;#ec5830&quot; %&#125;，&#123;% bubble transform变换,&quot;transform 属性向元素应用 2D 或 3D 转换。该属性允许我们对元素进行旋转、缩放、移动或倾斜。&quot;,&quot;#1db675&quot; %&#125;，animation的&#123;% bubble 贝塞尔速度曲线,&quot;贝塞尔曲线(Bézier curve)，又称贝兹曲线或贝济埃曲线，是应用于二维图形应用程序的数学曲线。一般的矢量图形软件通过它来精确画出曲线，贝兹曲线由线段与节点组成，节点是可拖动的支点，线段像可伸缩的皮筋&quot;,&quot;#de4489&quot; %&#125;写法，还有今天刚看到的&#123;% bubble clip-path,&quot;clip-path属性使用裁剪方式创建元素的可显示区域。区域内的部分显示，区域外的隐藏。&quot;,&quot;#868fd7&quot; %&#125;属性。这些对我来说很新颖的概念狠狠的冲击着我以前积累起来的设计思路。</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><p>最近我学到了不少新玩意儿（虽然对很多大佬来说这些已经是旧技术了），比如CSS的<span class="bubble-content">兄弟相邻选择器</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;">例如 h1 + p {margin-top:50px;}</span>&lt;/span&gt;，<span class="bubble-content">flex布局</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#ec5830;">Flex 是 Flexible Box 的缩写，意为弹性布局”，用来为盒状模型提供最大的灵活性”</span>&lt;/span&gt;，<span class="bubble-content">transform变换</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#1db675;">transform 属性向元素应用 2D 或 3D 转换。该属性允许我们对元素进行旋转、缩放、移动或倾斜。</span>&lt;/span&gt;，animation的<span class="bubble-content">贝塞尔速度曲线</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#de4489;">贝塞尔曲线(Bézier curve)，又称贝兹曲线或贝济埃曲线，是应用于二维图形应用程序的数学曲线。一般的矢量图形软件通过它来精确画出曲线，贝兹曲线由线段与节点组成，节点是可拖动的支点，线段像可伸缩的皮筋</span>&lt;/span&gt;写法，还有今天刚看到的<span class="bubble-content">clip-path</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#868fd7;">clip-path属性使用裁剪方式创建元素的可显示区域。区域内的部分显示，区域外的隐藏。</span>&lt;/span&gt;属性。这些对我来说很新颖的概念狠狠的冲击着我以前积累起来的设计思路。</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-28-引用文献-reference"><a href="#2-28-引用文献-reference" class="headerlink" title="2.28 引用文献 reference"></a>2.28 引用文献 reference</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% referto [id] , [literature] %&#125;</span><br><span class="line">&#123;% referfrom [id] , [literature] , [url] %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><p>referto 引用上标</p><ul><li><p><code>id</code>: 上标序号内容，需与referfrom标签的id对应才能实现跳转</p></li><li><p><code>literature</code>: 引用的参考文献名称</p></li></ul></li><li><p>referfrom 引用出处</p><ul><li><p><code>id</code>: 序号内容，需与referto标签的id对应才能实现 跳转</p></li><li><p><code>literature</code>: 引用的参考文献名称</p></li><li><p><code>url</code>: 引用的参考文献链接，可省略</p></li></ul></li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Akilarの糖果屋(akilar.top)是一个私人性质的博客&#123;% referto &#x27;[1]&#x27;,&#x27;Akilarの糖果屋群聊简介&#x27; %&#125;，从各类教程至生活点滴，无话不谈。建群的目的是提供一个闲聊的场所。博客采用Hexo框架&#123;% referto &#x27;[2]&#x27;,&#x27;Hexo中文文档&#x27; %&#125;，Butterfly主题&#123;% referto &#x27;[3]&#x27;,&#x27;Butterfly 安装文档(一) 快速开始&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">本项目参考了Volantis&#123;% referto &#x27;[4]&#x27;,&#x27;hexo-theme-volantis 标签插件&#x27; %&#125;的标签样式。引入<span class="code">`[tag].js`</span>，并针对<span class="code">`butterfly`</span>主题修改了相应的<span class="code">`[tag].styl`</span>。在此鸣谢<span class="code">`Volantis`</span>主题众开发者。</span><br><span class="line">主要参考内容包括各个volantis的内置标签插件文档&#123;% referto &#x27;[5]&#x27;,&#x27;Volantis文档:内置标签插件&#x27; %&#125;</span><br><span class="line">Butterfly主题的各个衍生魔改&#123;% referto &#x27;[6]&#x27;,&#x27;Butterfly 安装文档:标签外挂（Tag Plugins&#x27; %&#125;&#123;% referto &#x27;[7]&#x27;,&#x27;小弋の生活馆全样式预览&#x27; %&#125;&#123;% referto &#x27;[8]&#x27;,&#x27;l-lin-font-awesome-animation&#x27; %&#125;&#123;% referto &#x27;[9]&#x27;,&#x27;小康的butterfly主题使用文档&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% referfrom &#x27;[1]&#x27;,&#x27;Akilarの糖果屋群聊简介&#x27;,&#x27;https://jq.qq.com/?<span class="emphasis">_wv=1027&amp;k=pGLB2C0N&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[2]&#x27;,&#x27;Hexo中文文档&#x27;,&#x27;https://hexo.io/zh-cn/docs/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[3]&#x27;,&#x27;Butterfly 安装文档(一) 快速开始&#x27;,&#x27;https://butterfly.js.org/posts/21cfbf15/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[4]&#x27;,&#x27;hexo-theme-volantis 标签插件&#x27;,&#x27;https://volantis.js.org/v5/tag-plugins/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[5]&#x27;,&#x27;Volantis文档:内置标签插件&#x27;,&#x27;https://volantis.js.org/tag-plugins/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[6]&#x27;,&#x27;Butterfly 安装文档:标签外挂（Tag Plugins&#x27;,&#x27;https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[7]&#x27;,&#x27;小弋の生活馆全样式预览&#x27;,&#x27;https://lovelijunyi.gitee.io/posts/c898.html&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[8]&#x27;,&#x27;l-lin-font-awesome-animation&#x27;,&#x27;https://github.com/l-lin/font-awesome-animation&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[9]&#x27;,&#x27;小康的butterfly主题使用文档&#x27;,&#x27;https://www.antmoe.com/posts/3b43914f/&#x27; %&#125;</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><p>Akilarの糖果屋(akilar.top)是一个私人性质的博客<span class="hidden-anchor" id="referto_[1]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[1]">[1]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Akilarの糖果屋群聊简介</span><span class="reference-title">参考资料</span>&lt;/span&gt;&lt;/span&gt;，从各类教程至生活点滴，无话不谈。建群的目的是提供一个闲聊的场所。博客采用Hexo框架<span class="hidden-anchor" id="referto_[2]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[2]">[2]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Hexo中文文档</span><span class="reference-title">参考资料</span>&lt;/span&gt;&lt;/span&gt;，Butterfly主题<span class="hidden-anchor" id="referto_[3]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[3]">[3]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly 安装文档(一) 快速开始</span><span class="reference-title">参考资料</span>&lt;/span&gt;&lt;/span&gt;</p><p>本项目参考了Volantis<span class="hidden-anchor" id="referto_[4]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[4]">[4]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">hexo-theme-volantis 标签插件</span><span class="reference-title">参考资料</span>&lt;/span&gt;&lt;/span&gt;的标签样式。引入<code>[tag].js</code>，并针对<code>butterfly</code>主题修改了相应的<code>[tag].styl</code>。在此鸣谢<code>Volantis</code>主题众开发者。<br>主要参考内容包括各个volantis的内置标签插件文档<span class="hidden-anchor" id="referto_[5]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[5]">[5]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Volantis文档:内置标签插件</span><span class="reference-title">参考资料</span>&lt;/span&gt;&lt;/span&gt;<br>Butterfly主题的各个衍生魔改<span class="hidden-anchor" id="referto_[6]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[6]">[6]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly 安装文档:标签外挂（Tag Plugins</span><span class="reference-title">参考资料</span>&lt;/span&gt;&lt;/span&gt;<span class="hidden-anchor" id="referto_[7]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[7]">[7]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">小弋の生活馆全样式预览</span><span class="reference-title">参考资料</span>&lt;/span&gt;&lt;/span&gt;<span class="hidden-anchor" id="referto_[8]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[8]">[8]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">l-lin-font-awesome-animation</span><span class="reference-title">参考资料</span>&lt;/span&gt;&lt;/span&gt;<span class="hidden-anchor" id="referto_[9]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[9]">[9]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">小康的butterfly主题使用文档</span><span class="reference-title">参考资料</span>&lt;/span&gt;&lt;/span&gt;</p><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://jq.qq.com/?_wv=1027&k=pGLB2C0N">Akilarの糖果屋群聊简介</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://hexo.io/zh-cn/docs/">Hexo中文文档</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[3]"></span><a class="reference-anchor" href="#referto_[3]">[3]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/21cfbf15/">Butterfly 安装文档(一) 快速开始</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[4]"></span><a class="reference-anchor" href="#referto_[4]">[4]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/v5/tag-plugins/">hexo-theme-volantis 标签插件</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[5]"></span><a class="reference-anchor" href="#referto_[5]">[5]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/tag-plugins/">Volantis文档:内置标签插件</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[6]"></span><a class="reference-anchor" href="#referto_[6]">[6]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89">Butterfly 安装文档:标签外挂（Tag Plugins</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[7]"></span><a class="reference-anchor" href="#referto_[7]">[7]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://lovelijunyi.gitee.io/posts/c898.html">小弋の生活馆全样式预览</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[8]"></span><a class="reference-anchor" href="#referto_[8]">[8]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://github.com/l-lin/font-awesome-animation">l-lin-font-awesome-animation</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[9]"></span><a class="reference-anchor" href="#referto_[9]">[9]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.antmoe.com/posts/3b43914f/">小康的butterfly主题使用文档</a></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-29-PDF展示"><a href="#2-29-PDF展示" class="headerlink" title="2.29 PDF展示"></a>2.29 PDF展示</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf 文件路径 %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li><code>文件路径</code>: 可以是相对路径或者是在线链接</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.本地文件:在md文件路径下创建一个同名文件夹，其内放pdf文件名为xxx.pdf的文件</span></span><br><span class="line">&#123;% pdf xxx.pdf %&#125;</span><br><span class="line"><span class="section"># 2.在线链接</span></span><br><span class="line">&#123;% pdf https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/pdf/小作文讲义.pdf %&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-30-Hexo-tag-map-插件"><a href="#2-30-Hexo-tag-map-插件" class="headerlink" title="2.30 Hexo-tag-map 插件"></a>2.30 Hexo-tag-map 插件</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% + 标签值 + 经度 + 纬度 + 文本 + 缩放等级 + 宽 + 高 + 默认图层 + %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><div class="table-container"><table><thead><tr><th style="text-align:center">地图名</th><th style="text-align:center">标签值 &lt;必填&gt;</th><th style="text-align:center">宽 (默认 100%) / 高 (默认 360px)</th><th style="text-align:center">缩放等级 (默认 14)</th><th style="text-align:center">宽 (默认 100%) / 高 (默认 360px)</th><th style="text-align:center">默认图层 (默认 1)</th></tr></thead><tbody><tr><td style="text-align:center">混合地图</td><td style="text-align:center">map</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 3~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~7</td></tr><tr><td style="text-align:center">谷歌地图</td><td style="text-align:center">googleMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~20</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~3</td></tr><tr><td style="text-align:center">高德地图</td><td style="text-align:center">gaodeMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 3~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~3</td></tr><tr><td style="text-align:center">百度地图</td><td style="text-align:center">baiduMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 4~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~2</td></tr><tr><td style="text-align:center">Geoq 地图</td><td style="text-align:center">geoqMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~5</td></tr><tr><td style="text-align:center">openstreet 地图</td><td style="text-align:center">openstreetMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">不支持此参数</td></tr></tbody></table></div><ol><li>参数之间，用英文逗号相隔</li><li>参数必须按上述事例顺序输入，不得为空</li><li>同一个页面，同一组经纬度值，只能插入一个相同标签值的地图 (若有需要，可以将第二个地图上，经度或纬度末尾删除一两个数)</li><li>参数取值必须在上述范围内</li><li>默认图层：即地图叠加层的值，默认常规地图还是卫星地图，可按地图显示顺序取值</li><li>缩放等级，数字越大，地图比例尺越小，显示的越精细</li><li>除标签值外，其他参数选填，但 每个参数的左边的参数必填</li><li>谷歌地图需要外网才能加载查看</li></ol><p>坐标获取：<a href="https://lbs.amap.com/tools/picker">高德地图坐标拾取系统</a> 、<a href="https://api.map.baidu.com/lbsapi/getpoint/index.html">百度地图坐标拾取系统</a></p></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% map 120.101101,30.239119 %&#125;</span><br><span class="line">&#123;% googleMap 120.101101,30.239119, 这里是西湖灵隐寺，据说求姻缘很灵验哦！ %&#125;</span><br><span class="line">&#123;% geoqMap 120.101101,30.239119, 这里是西湖灵隐寺，据说求姻缘很灵验哦！, 13, 90%, 320px, 3 %&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="2-31-隐藏块"><a href="#2-31-隐藏块" class="headerlink" title="2.31 隐藏块"></a>2.31 隐藏块</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="分栏-1">标签语法</button><button type="button" class="tab " data-href="分栏-2">参数配置</button><button type="button" class="tab " data-href="分栏-3">示例源码</button><button type="button" class="tab " data-href="分栏-4">渲染演示</button></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-2"><ol><li>content：要隐藏的内容</li><li>display：展示前按钮显示的文字（可选）</li><li>bg：按钮的背景颜色（可选）</li><li>color：按钮显示的文字的颜色（可选）</li></ol></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock 点我预览, blue %&#125;</span><br><span class="line">这里有张图片：</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;image (1)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:67%;&quot;</span> /&gt;</span></span></span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="分栏-4"><div class="hide-block"><button type="button" class="hide-button" style="background-color:  blue;">点我预览    </button><div class="hide-content"><p>这里有张图片：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb" alt="image (1)" style="zoom:67%;" /></p></div></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> 外挂标签 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>魔改教程总结（三）</title>
      <link href="/post/518d920.html"/>
      <url>/post/518d920.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>前言</strong>📇</p><ol><li>本文参考<a href="https://www.fomal.cc/posts/eec9786.html">博客魔改教程总结(一)</a>、<a href="https://www.fomal.cc/posts/5389e93f.html">博客魔改教程总结(二)</a>、<a href="https://akilar.top/posts/d2ebecef/">Iconfont Inject</a>、<a href="https://akilar.top/posts/23fdf850/">糖果屋微调合集</a></li><li>本系列基本上都是各位大佬造好的轮子，具体参考 <a href="https://www.fomal.cc/">Fomalhaut大佬</a>。其目的在于防止各位大佬的链接失效，且个人复习总结使用，如有侵权请联系删除。</li><li>本系列起始空白的虚拟机，一步一步搭建魔改页面，使用本地端口。若想部署在其它平台，可自寻查找。</li><li>鉴于每个人的根目录名称都不一样，本帖<strong>博客根目录</strong>一律以<code>[BlogRoot]</code>指代。</li><li>本帖涉及魔改源码的内容，会使用<strong>diff代码块</strong>标识，复制时请<strong>不要忘记删除</strong>前面的<code>+、-</code>符号。</li><li>因为<code>.pug</code>和<code>.styl</code>以及<code>.yml</code>等对缩进要求较为严格，请尽量<strong>不要使用记事本等无法提供语法高亮的文本编辑器</strong>进行修改。</li><li>本系列基于<code>Butterfly主题</code>进行魔改方案编写，hexo 版本 <code>6.3.0</code>，Butterfly 版本 <code>4.12.0</code>。</li><li>魔改会过程常常引入<strong>自定义的css与js文件</strong>，具体方法见方法见<a href="https://b.leonus.cn/2022/custom.html">Hexo博客添加自定义css和js文件</a></li></ol></blockquote><p><strong>博客搭建与魔改系列教程导航🚥🚥🚥</strong></p><ol><li>🎀<a href="https://redbeancc.github.io/post/3324b066.html">hexo基础搭建教程（一）</a></li><li>🎆<a href="https://redbeancc.github.io/post/837c228f.html">hexo基础搭建教程（二）</a></li><li>🎇<a href="https://redbeancc.github.io/post/781096aa.html">魔改教程总结（一）</a></li><li>🧨<a href="https://redbeancc.github.io/post/48067a72.html">魔改教程总结（二）</a></li><li>✨<a href="https://redbeancc.github.io/post/518d920.html">魔改教程总结（三）</a>⬅当前位置🛸</li></ol><h1 id="文章页顶波浪线（安知鱼）"><a href="#文章页顶波浪线（安知鱼）" class="headerlink" title="文章页顶波浪线（安知鱼）"></a>文章页顶波浪线（安知鱼）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/461f1e310ad57765fdf7821d653696c2.png" alt="image-20240310214403502"></p></div></div><p>详见：<a href="https://anzhiy.cn/posts/98c4.html">butterfly文章顶部添加波浪效果</a></p><ol><li><p>修改 <code>[BlogRoor]\themes/butterfly/layout/includes/header/index.pug</code> 大概第 37 行左右</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if top_img !== false</span><br><span class="line">  if is_post()</span><br><span class="line">    include ./post-info.pug</span><br><span class="line"><span class="addition">+   section.main-hero-waves-area.waves-area</span></span><br><span class="line"><span class="addition">+     svg.waves-svg(xmlns=&#x27;http://www.w3.org/2000/svg&#x27;, xlink=&#x27;http://www.w3.org/1999/xlink&#x27;, viewBox=&#x27;0 24 150 28&#x27;, preserveAspectRatio=&#x27;none&#x27;, shape-rendering=&#x27;auto&#x27;)</span></span><br><span class="line"><span class="addition">+       defs</span></span><br><span class="line"><span class="addition">+         path#gentle-wave(d=&#x27;M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z&#x27;)</span></span><br><span class="line"><span class="addition">+       g.parallax</span></span><br><span class="line"><span class="addition">+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;0&#x27;)</span></span><br><span class="line"><span class="addition">+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;3&#x27;)</span></span><br><span class="line"><span class="addition">+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;5&#x27;)</span></span><br><span class="line"><span class="addition">+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;7&#x27;)</span></span><br><span class="line">    #post-top-cover</span><br><span class="line">      img#post-top-bg(class=&#x27;nolazyload&#x27; src=bg_img)</span><br><span class="line">  else if is_home()</span><br><span class="line">    #site-info</span><br><span class="line">      h1#site-title=site_title</span><br><span class="line">      if theme.subtitle.enable</span><br></pre></td></tr></table></figure><p>为了方便复制，提供一份需要修改的部分:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">section</span><span class="selector-class">.main-hero-waves-area</span><span class="selector-class">.waves-area</span></span><br><span class="line">  svg<span class="selector-class">.waves-svg</span>(xmlns=<span class="string">&#x27;http://www.w3.org/2000/svg&#x27;</span>, xlink=<span class="string">&#x27;http://www.w3.org/1999/xlink&#x27;</span>, viewBox=<span class="string">&#x27;0 24 150 28&#x27;</span>, preserveAspectRatio=<span class="string">&#x27;none&#x27;</span>, shape-rendering=<span class="string">&#x27;auto&#x27;</span>)</span><br><span class="line">    defs</span><br><span class="line">      path<span class="selector-id">#gentle-wave</span>(d=<span class="string">&#x27;M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z&#x27;</span>)</span><br><span class="line">    g<span class="selector-class">.parallax</span></span><br><span class="line">      <span class="built_in">use</span>(href=<span class="string">&#x27;#gentle-wave&#x27;</span>, x=<span class="string">&#x27;48&#x27;</span>, y=<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">      <span class="built_in">use</span>(href=<span class="string">&#x27;#gentle-wave&#x27;</span>, x=<span class="string">&#x27;48&#x27;</span>, y=<span class="string">&#x27;3&#x27;</span>)</span><br><span class="line">      <span class="built_in">use</span>(href=<span class="string">&#x27;#gentle-wave&#x27;</span>, x=<span class="string">&#x27;48&#x27;</span>, y=<span class="string">&#x27;5&#x27;</span>)</span><br><span class="line">      <span class="built_in">use</span>(href=<span class="string">&#x27;#gentle-wave&#x27;</span>, x=<span class="string">&#x27;48&#x27;</span>, y=<span class="string">&#x27;7&#x27;</span>)</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoor]\themes/butterfly/layout/includes/header/index.pug</code>最底下加入</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    else</span><br><span class="line">      #page-site-info</span><br><span class="line">        h1#site-title=site_title</span><br><span class="line"></span><br><span class="line"><span class="addition">+     //- 安知鱼波浪</span></span><br><span class="line"><span class="addition">+     //- 归档页，关于页等其他不是文章页的</span></span><br><span class="line"><span class="addition">+     section.main-hero-waves-area.waves-area</span></span><br><span class="line"><span class="addition">+       svg.waves-svg(xmlns=&#x27;http://www.w3.org/2000/svg&#x27;, xlink=&#x27;http://www.w3.org/1999/xlink&#x27;, viewBox=&#x27;0 24 150 28&#x27;, preserveAspectRatio=&#x27;none&#x27;, shape-rendering=&#x27;auto&#x27;)</span></span><br><span class="line"><span class="addition">+         defs</span></span><br><span class="line"><span class="addition">+           path#gentle-wave(d=&#x27;M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z&#x27;)</span></span><br><span class="line"><span class="addition">+         g.parallax</span></span><br><span class="line"><span class="addition">+           use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;0&#x27;)</span></span><br><span class="line"><span class="addition">+           use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;3&#x27;)</span></span><br><span class="line"><span class="addition">+           use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;5&#x27;)</span></span><br><span class="line"><span class="addition">+           use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;7&#x27;)</span></span><br></pre></td></tr></table></figure></li></ol><ol><li><p>然后在<code>_config.butterfly.yml</code>的 <code>[inject.head]</code> 或者自定义 css 中 引入以下 css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*-------------------------------- 文章页面波浪线 -------------------------*/</span></span><br><span class="line"><span class="comment">/* 波浪css */</span></span><br><span class="line"><span class="selector-class">.main-hero-waves-area</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">11px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.waves-area</span> <span class="selector-class">.waves-svg</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Animation */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parallax</span> &gt; use &#123;</span><br><span class="line">  <span class="attribute">animation</span>: move-forever <span class="number">25s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.55</span>, <span class="number">0.5</span>, <span class="number">0.45</span>, <span class="number">0.5</span>) infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parallax</span> &gt; use<span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">2s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">7s</span>;</span><br><span class="line">  fill: <span class="number">#f7f9febd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parallax</span> &gt; use<span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">10s</span>;</span><br><span class="line">  fill: <span class="number">#f7f9fe82</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parallax</span> &gt; use<span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">4s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">13s</span>;</span><br><span class="line">  fill: <span class="number">#f7f9fe36</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parallax</span> &gt; use<span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">5s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">20s</span>;</span><br><span class="line">  fill: <span class="number">#f7f9fe</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 黑色模式背景 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; use<span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">2s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">7s</span>;</span><br><span class="line">  fill: <span class="number">#18171dc8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; use<span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">10s</span>;</span><br><span class="line">  fill: <span class="number">#18171d80</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; use<span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">4s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">13s</span>;</span><br><span class="line">  fill: <span class="number">#18171d3e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; use<span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">5s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">20s</span>;</span><br><span class="line">  fill: <span class="number">#18171d</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> move-forever &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(-<span class="number">90px</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">85px</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*Shrinking for mobile*/</span></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.waves-area</span> <span class="selector-class">.waves-svg</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">40px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*-------------------------------- end -------------------------*/</span></span><br></pre></td></tr></table></figure></li><li><p>需要注意的是 css 中<code>fill属性</code>可以控制波浪颜色，最好使其中一个颜色与背景颜色一致，否则会显的有点奇怪，然后就是重启项目</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="渐变色版权美化（店长-微调）"><a href="#渐变色版权美化（店长-微调）" class="headerlink" title="渐变色版权美化（店长+微调）"></a>渐变色版权美化（店长+微调）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/557aef0f02fb097d484dc55edf30bba4.png" alt="image-20240310220746832"></p></div></div><p>详见：<a href="https://akilar.top/posts/8322f8e6/">（二创）Copyright-beautify</a></p><ol><li><p>修改<code>[BlogRoot]\themes\butterfly\layout\includes\post\post-copyright.pug</code>,直接复制以下内容替换原文件内容。此处多次用到了三元运算符作为默认项设置，在确保有主题配置文件的默认项的情况下，也可以在相应文章的<code>front-matter</code>中重新定义作者，原文链接，开源许可协议等内容。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> theme<span class="selector-class">.post_copyright</span><span class="selector-class">.enable</span> &amp;&amp; page<span class="selector-class">.copyright</span> !== false</span><br><span class="line">  - let author = page<span class="selector-class">.copyright_author</span> ? page<span class="selector-class">.copyright_author</span> : config<span class="selector-class">.author</span></span><br><span class="line">  - let url = page<span class="selector-class">.copyright_url</span> ? page<span class="selector-class">.copyright_url</span> : page<span class="selector-class">.permalink</span></span><br><span class="line">  - let license = page<span class="selector-class">.license</span> ? page<span class="selector-class">.license</span> : theme<span class="selector-class">.post_copyright</span><span class="selector-class">.license</span></span><br><span class="line">  - let license_url = page<span class="selector-class">.license_url</span> ? page<span class="selector-class">.license_url</span> : theme<span class="selector-class">.post_copyright</span><span class="selector-class">.license_url</span></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="selector-class">.post-copyright__title</span></span><br><span class="line">      <span class="selector-tag">span</span><span class="selector-class">.post-copyright-info</span></span><br><span class="line">        h #<span class="selector-attr">[=page.title]</span></span><br><span class="line">    <span class="selector-class">.post-copyright__type</span></span><br><span class="line">      <span class="selector-tag">span</span><span class="selector-class">.post-copyright-info</span></span><br><span class="line">        <span class="selector-tag">a</span>(href=<span class="built_in">url_for</span>(url))= theme<span class="selector-class">.post_copyright</span><span class="selector-class">.decode</span> ? <span class="built_in">decodeURI</span>(url) : url</span><br><span class="line">    <span class="selector-class">.post-copyright-m</span></span><br><span class="line">      <span class="selector-class">.post-copyright-m-info</span></span><br><span class="line">        <span class="selector-class">.post-copyright-a</span></span><br><span class="line">            h 作者</span><br><span class="line">            <span class="selector-class">.post-copyright-cc-info</span></span><br><span class="line">                h=author</span><br><span class="line">        <span class="selector-class">.post-copyright-c</span></span><br><span class="line">            h 发布于</span><br><span class="line">            <span class="selector-class">.post-copyright-cc-info</span></span><br><span class="line">                h=<span class="built_in">date</span>(page<span class="selector-class">.date</span>, config.date_format)</span><br><span class="line">        <span class="selector-class">.post-copyright-u</span></span><br><span class="line">            h 更新于</span><br><span class="line">            <span class="selector-class">.post-copyright-cc-info</span></span><br><span class="line">                h=<span class="built_in">date</span>(page<span class="selector-class">.updated</span>, config.date_format)</span><br><span class="line">        <span class="selector-class">.post-copyright-c</span></span><br><span class="line">            h 许可协议</span><br><span class="line">            <span class="selector-class">.post-copyright-cc-info</span></span><br><span class="line">                <span class="selector-tag">a</span><span class="selector-class">.icon</span>(rel=<span class="string">&#x27;noopener&#x27;</span> target=<span class="string">&#x27;_blank&#x27;</span> title=<span class="string">&#x27;Creative Commons&#x27;</span> href=<span class="string">&#x27;https://creativecommons.org/&#x27;</span>)</span><br><span class="line">                  <span class="selector-tag">i</span><span class="selector-class">.fab</span><span class="selector-class">.fa-creative-commons</span></span><br><span class="line">                <span class="selector-tag">a</span>(rel=<span class="string">&#x27;noopener&#x27;</span> target=<span class="string">&#x27;_blank&#x27;</span> title=license href=<span class="built_in">url_for</span>(license_url))=license</span><br></pre></td></tr></table></figure></li><li><p>修改<code>[BlogRoot]\themes\butterfly\source\css\_layout\post.styl</code>,直接复制以下内容，替换原文件，这个文件就是自己调节样式的。其中，<code>184</code>行是白天模式的背景色，这里默认是我网站的渐变色，大家可以根据自己的喜好调节；<code>253</code>行是夜间模式的发光光圈颜色，大家也可以自行替换成自己喜欢的颜色：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">beautify</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">headStyle</span>(fontsize)</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="built_in">unit</span>(fontsize + <span class="number">12</span>, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">margin-left</span>: <span class="built_in">unit</span>((<span class="built_in">-</span>(fontsize + <span class="number">6</span>)), <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="built_in">unit</span>(fontsize, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="built_in">unit</span>(fontsize + <span class="number">18</span>, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span>,</span><br><span class="line">  <span class="selector-tag">h2</span>,</span><br><span class="line">  <span class="selector-tag">h3</span>,</span><br><span class="line">  <span class="selector-tag">h4</span>,</span><br><span class="line">  <span class="selector-tag">h5</span>,</span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">top</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">7px</span>)</span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$title</span>-prefix-icon-color</span><br><span class="line">      <span class="attribute">content</span>: <span class="variable">$title</span>-prefix-icon</span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1</span></span><br><span class="line">      <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line">      <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h2</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h3</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h4</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h5</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">li</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::marker</span></span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">      <span class="attribute">font-weight</span>: <span class="number">600</span></span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.05em</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-pseudo">&amp;::marker</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span></span><br><span class="line">    <span class="attribute">list-style-type</span>: circle</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#article-container</span></span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">  <span class="attribute">overflow-wrap</span>: break-word</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-link-color</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">text-decoration</span>: underline</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">img</span></span><br><span class="line">    <span class="attribute">display</span>: block</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="number">20px</span></span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span></span><br><span class="line">    <span class="attribute">transition</span>: filter <span class="number">375ms</span> ease-in .<span class="number">2s</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">p</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">16px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">iframe</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;anchor&#x27;</span>)</span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.headerlink</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">        <span class="attribute">float</span>: right</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--headline-presudo)</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f0c1&#x27;</span></span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">95em</span></span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">h1</span>,</span><br><span class="line">    <span class="selector-tag">h2</span>,</span><br><span class="line">    <span class="selector-tag">h3</span>,</span><br><span class="line">    <span class="selector-tag">h4</span>,</span><br><span class="line">    <span class="selector-tag">h5</span>,</span><br><span class="line">    <span class="selector-tag">h6</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.headerlink</span></span><br><span class="line">          <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">            <span class="attribute">opacity</span>: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="selector-tag">ol</span>,</span><br><span class="line">    <span class="selector-tag">ul</span></span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">li</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.enable&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;site&#x27;</span></span><br><span class="line">      <span class="built_in">beautify</span>()</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;post&#x27;</span></span><br><span class="line">      &amp;<span class="selector-class">.post-content</span></span><br><span class="line">        <span class="built_in">beautify</span>()</span><br><span class="line"></span><br><span class="line">  &gt; <span class="selector-pseudo">:last-child</span></span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.tag_share</span></span><br><span class="line">    <span class="selector-class">.post-meta</span></span><br><span class="line">      &amp;__tag-list</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line"></span><br><span class="line">      &amp;__tags</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">12px</span></span><br><span class="line">        <span class="attribute">width</span>: fit-content</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">12px</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out</span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">          <span class="attribute">background</span>: <span class="variable">$light</span>-blue</span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--white)</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post_share</span></span><br><span class="line">      <span class="attribute">display</span>: inline-block</span><br><span class="line">      <span class="attribute">float</span>: right</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">width</span>: fit-content</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.social-share</span></span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.social-share-icon</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">4px</span></span><br><span class="line">          <span class="attribute">width</span>: w = <span class="number">1.85em</span></span><br><span class="line">          <span class="attribute">height</span>: w</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">1.2em</span></span><br><span class="line">          <span class="attribute">line-height</span>: w</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span> <span class="number">10px</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">16px</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--light-grey)</span><br><span class="line">    <span class="attribute">transition</span>: box-shadow .<span class="number">3s</span> ease-in-out</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span><span class="meta">!important</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, <span class="number">#f6d8f5</span>, <span class="number">#c2f1f0</span>, <span class="number">#f0debf</span>);</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">background</span> <span class="built_in">var</span>(--heo-post-blockquote-bg)</span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">right</span> -<span class="number">26px</span></span><br><span class="line">      <span class="attribute">top</span> -<span class="number">120px</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&#x27;\f25e&#x27;</span></span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">200px</span></span><br><span class="line">      <span class="attribute">font-family</span> <span class="string">&#x27;Font Awesome 5 Brands&#x27;</span></span><br><span class="line">      <span class="attribute">opacity</span> .<span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">6</span>), <span class="number">0</span> <span class="number">2px</span> <span class="number">4px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      &amp;-meta</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line"></span><br><span class="line">      &amp;-info</span><br><span class="line">        <span class="attribute">padding-left</span>: <span class="number">6px</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">          <span class="attribute">text-decoration</span>: none</span><br><span class="line">          <span class="attribute">word-break</span>: break-word</span><br><span class="line"></span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">            <span class="attribute">text-decoration</span>: none</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-copyright-cc-info</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-color;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-outdate-notice</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1.2em</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$noticeOutdate</span>-bg</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-color</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;noticeOutdate.style&#x27;</span>) == <span class="string">&#x27;flat&#x27;</span></span><br><span class="line">      <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">2.6em</span></span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="variable">$noticeOutdate</span>-border</span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">50%</span></span><br><span class="line">        <span class="attribute">left</span>: .<span class="number">9em</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-border</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f071&#x27;</span></span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.ads-wrap</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span></span><br><span class="line"><span class="selector-class">.post-copyright-m-info</span></span><br><span class="line">  <span class="selector-class">.post-copyright-a</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-c</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-u</span></span><br><span class="line">    <span class="attribute">display</span> inline-block</span><br><span class="line">    <span class="attribute">width</span> fit-content</span><br><span class="line">    <span class="attribute">padding</span> <span class="number">2px</span> <span class="number">5px</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line">  <span class="selector-id">#post</span></span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      <span class="attribute">background</span> <span class="number">#07080a</span></span><br><span class="line">      <span class="attribute">text-shadow</span> <span class="number">#bfbeb8</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span></span><br><span class="line">      <span class="attribute">border</span> <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">19</span> <span class="number">18</span> <span class="number">18</span> / <span class="number">35%</span>)</span><br><span class="line">      <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">var</span>(--theme-color)</span><br><span class="line">      <span class="attribute">animation</span> flashlight <span class="number">1s</span> linear infinite alternate</span><br><span class="line">  <span class="selector-class">.post-copyright-info</span></span><br><span class="line">    <span class="attribute">color</span> <span class="number">#e0e0e4</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.post-copyright__title</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">22px</span></span><br><span class="line">  <span class="selector-class">.post-copyright__notice</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">15px</span></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span></span><br></pre></td></tr></table></figure></li><li><p>默认项的配置</p><ul><li><p>作者：<code>[BlogRoot]\_config.yml</code>中的<code>author</code>配置项</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Akilarの糖果屋</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">Akilar.top</span></span><br><span class="line"><span class="attr">description:</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Akilar</span> <span class="comment">#默认作者</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>许可协议：<code>[BlogRoot]\_config.butterfly.yml</code>中的<code>license</code>和<code>license_url</code>配置项</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>页面覆写配置项，修改对应文章的<code>front-matter</code></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Copyright-beautify # 文章名称</span><br><span class="line">date: 2021-03-02 13:52:46 # 文章发布日期</span><br><span class="line">updated: 2021-03-02 13:52:46 # 文章更新日期</span><br><span class="line">copyright<span class="emphasis">_author: Nesxc # 作者覆写</span></span><br><span class="line"><span class="emphasis">copyright_</span>url: https://www.nesxc.com/post/hexocc.html # 原文链接覆写</span><br><span class="line">license: # 许可协议名称覆写</span><br><span class="line"><span class="section">license<span class="emphasis">_url: # 许可协议链接覆写</span></span></span><br><span class="line"><span class="emphasis"><span class="section">---</span></span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="文章H1-H6标题小风车转动效果"><a href="#文章H1-H6标题小风车转动效果" class="headerlink" title="文章H1~H6标题小风车转动效果"></a>文章H1~H6标题小风车转动效果</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/a6a5c822c4c6d0d8d4a32c7bdbcf52c0.png" alt="image-20240310221332401"></p></div></div><ol><li><p>修改主题配置文件<code>_config.butterfly.yml</code>文件的<code>beautify</code>配置项：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">beautify:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span> <span class="comment"># site/post</span></span><br><span class="line">  <span class="comment"># title-prefix-icon: &#x27;\f0c1&#x27; 原内容</span></span><br><span class="line">  <span class="attr">title-prefix-icon:</span> <span class="string">&#x27;\f863&#x27;</span></span><br><span class="line">  <span class="attr">title-prefix-icon-color:</span> <span class="string">&quot;#F47466&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]\source\css\custom.css</code> 中加入以下代码，可以自己调节一下转速:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 文章页H1-H6图标样式效果 */</span></span><br><span class="line"><span class="comment">/* 控制风车转动速度 4s那里可以自己调节快慢 */</span></span><br><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">h2</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">h3</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">h4</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">h5</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: ccc <span class="number">4s</span> linear infinite;</span><br><span class="line">  <span class="attribute">animation</span>: ccc <span class="number">4s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 控制风车转动方向 -1turn 为逆时针转动，1turn 为顺时针转动，相同数字部分记得统一修改 */</span></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> ccc &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">1turn</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">1turn</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> ccc &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">1turn</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">1turn</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 设置风车颜色 */</span></span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ef50a8</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1.55rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.3rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">0.23rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fb7061</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1.35rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.1rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">0.12rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffbf00</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1.22rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.95rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">0.09rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#a9e000</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1.05rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.8rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">0.09rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#57c850</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">0.9rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.7rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#5ec1e0</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">0.9rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.66rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* s设置风车hover动效 6s那里可以自己调节快慢*/</span></span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: ccc <span class="number">6s</span> linear infinite;</span><br><span class="line">  <span class="attribute">animation</span>: ccc <span class="number">6s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*--- 图片圆角 -------*/</span></span><br><span class="line"><span class="comment">/* 下一篇文章的圆角 */</span></span><br><span class="line"><span class="selector-class">.relatedPosts</span> &gt; <span class="selector-class">.relatedPosts-list</span> &gt; <span class="selector-tag">div</span>,</span><br><span class="line"><span class="selector-id">#pagination</span><span class="selector-class">.pagination-post</span>,</span><br><span class="line"><span class="selector-class">.postImgHover</span> <span class="selector-tag">img</span>,</span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.prev-post</span> <span class="selector-tag">img</span>,</span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.next-post</span> <span class="selector-tag">img</span>,</span><br><span class="line"><span class="selector-class">.relatedPosts</span> &gt; <span class="selector-class">.relatedPosts-list</span> &gt; <span class="selector-tag">div</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*--- 文章页H1-H6图标样式效果end ---*/</span></span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项进行引入（不再赘述）。</p></li></ol>              </div>            </details><h1 id="版权下面标签排列"><a href="#版权下面标签排列" class="headerlink" title="版权下面标签排列"></a>版权下面标签排列</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/7bacbe91e6b5a082ef4ef487b083e431.png" alt="image-20240310224543253"></p></div></div><ol><li><p>首先在<code>[BlogRoot]\themes\butterfly\layout\post.pug</code>中修改如下，大约在 14 行左右</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    .tag_share</span><br><span class="line">      if (theme.post_meta.post.tags)</span><br><span class="line">        .post-meta__tag-list</span><br><span class="line">          each item, index in page.tags.data</span><br><span class="line"><span class="addition">+           a(href=url_for(item.path)).post-meta__tags</span></span><br><span class="line"><span class="addition">+             .tags-punctuation</span></span><br><span class="line"><span class="addition">+               svg.faa-tada.icon(style=&quot;height:1.1em;width:1.1em;fill:currentColor;position:relative;margin-right:3px&quot; aria-hidden=&quot;true&quot;)</span></span><br><span class="line"><span class="addition">+                 use(xlink:href=&#x27;#icon-zhifeiji&#x27;)</span></span><br><span class="line"><span class="addition">+             =item.name</span></span><br><span class="line">      include includes/third-party/share/index.pug</span><br></pre></td></tr></table></figure></li><li><p>在 <code>custom.css</code> 中添加</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*-------------- 版权下面标签排列 ---------*/</span></span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.tag_share</span> <span class="selector-class">.post-meta__tag-list</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.tag_share</span> <span class="selector-class">.post-meta__tags</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.tag_share</span> <span class="selector-class">.post-meta__tags</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*-------- 版权下面标签排列end ---------*/</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="cdn-jsdelivr-net-挂载错误"><a href="#cdn-jsdelivr-net-挂载错误" class="headerlink" title="cdn.jsdelivr.net 挂载错误"></a>cdn.jsdelivr.net 挂载错误</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <blockquote><p>目前jsdelivr被墙了，即被屏蔽，这导致国内大陆地区无法访问。很多插件、开源项目用到了jsdelivr，解决方法的核心思想就是换一个服务商，换一个cdn服务提供商。解决方法：①将所有 cdn.jsdelivr.net 更换为 fastly.jsdelivr.net实例：xxxx://cdn.jsdelivr.net/npm/xxxx/src/assets/images/logo.png改成xx</p></blockquote><ol><li><p>在<code>[BlogRoot]\themes\butterfly\layout\includes\head\preconnect.pug</code>中修改</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  const providers = &#123;</span><br><span class="line"><span class="addition">+   &#x27;jsdelivr&#x27;: &#x27;//fastly.jsdelivr.net&#x27;,</span></span><br><span class="line">    &#x27;cdnjs&#x27;: &#x27;//cdnjs.cloudflare.com&#x27;,</span><br><span class="line">    &#x27;unpkg&#x27;: &#x27;//unpkg.com&#x27;,</span><br><span class="line">    &#x27;custom&#x27;: custom_format &amp;&amp; custom_format.match(/^((https?:)?(\/\/[^/]+)|([^/]+))(\/|$)/)[1]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]\themes\butterfly\scripts\events\cdn.js</code>中修改</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      const cdnSource = &#123;</span><br><span class="line">        local: cond <span class="comment">=== &#x27;internal&#x27; ? `$&#123;cdnjs_file + verType&#125;` : `/pluginsSrc/$&#123;name&#125;/$&#123;file + verType&#125;`,</span></span><br><span class="line"><span class="addition">+       jsdelivr: `https://fastly.jsdelivr.net/npm/$&#123;name&#125;$&#123;verType&#125;/$&#123;min_file&#125;`,</span></span><br><span class="line">        unpkg: `https://unpkg.com/$&#123;name&#125;$&#123;verType&#125;/$&#123;file&#125;`,</span><br><span class="line">        cdnjs: `https://cdnjs.cloudflare.com/ajax/libs/$&#123;cdnjs_name&#125;/$&#123;version&#125;/$&#123;min_cdnjs_file&#125;`,</span><br><span class="line">        custom: (CDN.custom_format || &#x27;&#x27;).replace(/\$\&#123;(.+?)\&#125;/g, (match, $1) =&gt; value[$1])</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="引入-csdn-图片错误"><a href="#引入-csdn-图片错误" class="headerlink" title="引入 csdn 图片错误"></a>引入 csdn 图片错误</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/cf4eca81433ca97ed301b79732d5a0f2.png" alt="image-20240310225826379"></p></div></div><blockquote><p>由于图床安全问题，使用 csdn 的博客图床地址，但是由于 csdn 开启了防盗链，所以直接在自己的博客网站用引用地址会报错，所以需要设置一下</p></blockquote><ol><li><p>在<code>[BlogRoot]\themes\butterfly\layout\includes\head.pug</code>中添加</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  meta(name =&quot;format-detection&quot; content=&quot;telephone=no&quot;)</span><br><span class="line">  meta(name=&quot;theme-color&quot; content=themeColor)</span><br><span class="line"><span class="addition">+ //- 取消防盗链</span></span><br><span class="line"><span class="addition">+ &lt;meta name=&quot;referrer&quot; content=&quot;never&quot; /&gt;</span></span><br><span class="line"></span><br><span class="line">  //- Open_Graph</span><br><span class="line">  include ./head/Open_Graph.pug</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="个人信息卡片背景图"><a href="#个人信息卡片背景图" class="headerlink" title="个人信息卡片背景图"></a>个人信息卡片背景图</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/6a747964cd6f327f2264a2ac6aafa4b2.png" alt="image-20240311161328128"></p></div></div><ol><li><p>在<code>custom.css</code>中加入以下样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 个人信息卡片背景图 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://sourcebucket.s3.ladydaily.com/img/snowflower.webp</span>);</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-attachment</span>: inherit;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://sourcebucket.s3.ladydaily.com/img/aurora.webp</span>);</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-attachment</span>: inherit;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里一个是白天模式，一个是夜间模式，可以根据自己的喜好选择图片，我的图片你可以下载下来，但是不能直接引用，因为开了防盗链。图片最好是下边透明，上边不透明的透明度连续渐变的形式，可以用PS制作。</p></li><li><p>制作这样的图片也不难，首先下载<code>PS</code>，以及准备好一张尺寸大概在<code>700*1000</code>的图片，用<code>PS</code>打开图片，按照以下步骤给图片添加一个渐变遮罩就可以，然后将图片另存为<code>PNG</code>格式的，然后将图片用软件压缩一下，压缩图片具体方法见[网站性能优化的一些小技巧，最后只要不是太大就可以！</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/c5bb19dc8fd8fc4959703fe66bbc6e31.webp?x-oss-process=image/format,png" alt="image-6.webp"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/1d8b4e4632911063564e90e531590544.webp?x-oss-process=image/format,png" alt="image-7.webp"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/256fdce4c836a5e5819c1dcadc39dd02.webp?x-oss-process=image/format,png" alt="image-8.webp"></p></li></ol>              </div>            </details><h1 id="控制台样式自定义（安知鱼）"><a href="#控制台样式自定义（安知鱼）" class="headerlink" title="控制台样式自定义（安知鱼）"></a>控制台样式自定义（安知鱼）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/9663a000ff7f3c89a7f9c0957f743d8d.png" alt="image-20240312102531122"></p></div></div><p>详见：<a href="https://anzhiy.cn/posts/3444.html">console的高级用法</a></p><p>ASCII字符画生成器：<a href="https://tools.miku.ac/taag/，选择">https://tools.miku.ac/taag/，选择</a> ANSI Regular</p><ol><li><p>新建js文件<code>[BlogRoot]\source\js\console.js</code>，并写入如下代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"> var now1 = new Date();</span><br><span class="line"> </span><br><span class="line"> function createtime1() &#123;</span><br><span class="line">     var grt = new Date(&quot;02/21/2024 00:00:00&quot;); //此处修改你的建站时间或者网站上线时间</span><br><span class="line">     now1.setTime(now1.getTime() + 250);</span><br><span class="line">     var days = (now1 - grt) / 1000 / 60 / 60 / 24;</span><br><span class="line">     var dnum = Math.floor(days);</span><br><span class="line"> </span><br><span class="line">     var ascll = [</span><br><span class="line">         `欢迎来到 Red Bean🌺の小家!`,</span><br><span class="line">         `Future is now 🍭🍭🍭`,</span><br><span class="line">         `</span><br><span class="line"> </span><br><span class="line">         </span><br><span class="line">██████  ███████ ██████      ██████  ███████  █████  ███    ██ </span><br><span class="line">██   ██ ██      ██   ██     ██   ██ ██      ██   ██ ████   ██ </span><br><span class="line">██████  █████   ██   ██     ██████  █████   ███████ ██ ██  ██ </span><br><span class="line">██   ██ ██      ██   ██     ██   ██ ██      ██   ██ ██  ██ ██ </span><br><span class="line">██   ██ ███████ ██████      ██████  ███████ ██   ██ ██   ████ </span><br><span class="line">                                                                       </span><br><span class="line">                                                                       </span><br><span class="line">                                                                                            </span><br><span class="line"> `,</span><br><span class="line">         &quot;小站已经苟活&quot;,</span><br><span class="line">         dnum,</span><br><span class="line">         &quot;天啦!&quot;,</span><br><span class="line">         &quot;©2024 By Red Bean&quot;,</span><br><span class="line">     ];</span><br><span class="line"> </span><br><span class="line">     setTimeout(</span><br><span class="line">         console.log.bind(</span><br><span class="line">             console,</span><br><span class="line">             `\n%c$&#123;ascll[0]&#125; %c $&#123;ascll[1]&#125; %c $&#123;ascll[2]&#125; %c$&#123;ascll[3]&#125;%c $&#123;ascll[4]&#125;%c $&#123;ascll[5]&#125;\n\n%c $&#123;ascll[6]&#125;\n`,</span><br><span class="line">             &quot;color:#39c5bb&quot;,</span><br><span class="line">             &quot;&quot;,</span><br><span class="line">             &quot;color:#39c5bb&quot;,</span><br><span class="line">             &quot;color:#39c5bb&quot;,</span><br><span class="line">             &quot;&quot;,</span><br><span class="line">             &quot;color:#39c5bb&quot;,</span><br><span class="line">             &quot;&quot;</span><br><span class="line">         )</span><br><span class="line">     );</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> createtime1();</span><br><span class="line"> </span><br><span class="line"> function createtime2() &#123;</span><br><span class="line">     var ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为「大聪明」`, `Photo captured: `, ` 🤪 `];</span><br><span class="line"> </span><br><span class="line">     setTimeout(</span><br><span class="line">         console.log.bind(</span><br><span class="line">             console,</span><br><span class="line">             `%c $&#123;ascll2[0]&#125; %c $&#123;ascll2[1]&#125; %c \n$&#123;ascll2[2]&#125; %c\n$&#123;ascll2[3]&#125;`,</span><br><span class="line">             &quot;color:white; background-color:#10bcc0&quot;,</span><br><span class="line">             &quot;&quot;,</span><br><span class="line">             &quot;&quot;,</span><br><span class="line">             &#x27;background:url(&quot;https://unpkg.zhimg.com/anzhiyu-assets@latest/image/common/tinggge.gif&quot;) no-repeat;font-size:450%&#x27;</span><br><span class="line">         )</span><br><span class="line">     );</span><br><span class="line"> </span><br><span class="line">     setTimeout(console.log.bind(console, &quot;%c WELCOME %c 欢迎光临，大聪明&quot;, &quot;color:white; background-color:#23c682&quot;, &quot;&quot;));</span><br><span class="line"> </span><br><span class="line">     setTimeout(</span><br><span class="line">         console.warn.bind(</span><br><span class="line">             console,</span><br><span class="line">             &quot;%c ⚡ Powered by Red Bean🌺 %c 你正在访问 Red Bean🌺の小家&quot;,</span><br><span class="line">             &quot;color:white; background-color:#f0ad4e&quot;,</span><br><span class="line">             &quot;&quot;</span><br><span class="line">         )</span><br><span class="line">     );</span><br><span class="line"> </span><br><span class="line">     setTimeout(console.log.bind(console, &quot;%c W23-12 %c 系统监测到你已打开控制台&quot;, &quot;color:white; background-color:#4f90d9&quot;, &quot;&quot;));</span><br><span class="line">     setTimeout(</span><br><span class="line">         console.warn.bind(console, &quot;%c S013-782 %c 你现在正处于监控中&quot;, &quot;color:white; background-color:#d9534f&quot;, &quot;&quot;)</span><br><span class="line">     );</span><br><span class="line"> &#125;</span><br><span class="line"> createtime2();</span><br><span class="line"> </span><br><span class="line"> // 重写console方法</span><br><span class="line"> console.log = function () &#123; &#125;;</span><br><span class="line"> console.error = function () &#123; &#125;;</span><br><span class="line"> console.warn = function () &#123; &#125;;</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>中引入该js文件</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject: </span><br><span class="line">  bottom: </span><br><span class="line"><span class="addition">+    - &lt;script async src=&quot;/js/console.js&quot;&gt;&lt;/script&gt; # 控制台打印</span></span><br></pre></td></tr></table></figure></li><li><p>重启项目并按f12，看看控制台那一栏就可以看见效果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="网站恶搞标题"><a href="#网站恶搞标题" class="headerlink" title="网站恶搞标题"></a>网站恶搞标题</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"></div></div><ol><li><p>新建文件<code>[BlogRoot]\source\js\title.js</code>，写入以下内容：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//动态标题</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">OriginTitile</span> = <span class="variable language_">document</span>.<span class="property">title</span>;</span><br><span class="line"><span class="keyword">var</span> titleTime;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;visibilitychange&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">hidden</span>) &#123;</span><br><span class="line">    <span class="comment">//离开当前页面时标签显示内容</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;😲(＃°Д°)网页突然崩溃了！！！&#x27;</span>;</span><br><span class="line">    <span class="built_in">clearTimeout</span>(titleTime);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//返回当前页面时标签显示内容</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;😝ヾ(≧▽≦*)o又好了&#x27;</span>;</span><br><span class="line">    <span class="comment">//两秒后变回正常标题</span></span><br><span class="line">    titleTime = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">title</span> = <span class="title class_">OriginTitile</span>;</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>引入该文件：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject: </span><br><span class="line">  bottom: </span><br><span class="line"><span class="addition">+    - &lt;script async src=&quot;/js/title.js&quot;&gt;&lt;/script&gt; # 网站恶搞标题</span></span><br></pre></td></tr></table></figure></li><li><p>重启项目：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="Hexo-迁移到新电脑"><a href="#Hexo-迁移到新电脑" class="headerlink" title="Hexo 迁移到新电脑"></a>Hexo 迁移到新电脑</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>参考教程：<a href="https://blog.csdn.net/qq_43698421/article/details/120407042">CSDN:Hexo博客迁移到新电脑</a></p><ol><li><p>在新电脑行进行环境准备工作，具体的步骤和<a href="https://www.fomal.cc/posts/e593433d.html">Hexo博客搭建基础教程(一)</a>的第1-7步一模一样，大家在新电脑上跟着做即可（注意千万不要做第8步，<code>hexo init blog-demo</code>这一步会覆盖并还原你原本的的源码文件）</p></li><li><p>这时候新建一个文件夹<code>new-blog</code>，用来装你的新博客源码的，进入这个文件夹，准备复制我们旧的博客源码进来，我们可以看到旧的博客项目结构是如下样子的：</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/5b014880cb9aa7aeeca4519465207997.png" alt="image-20240312105319614"></p><p>这里红框内的都是需要复制迁移到新的博客的，具体的要不要保留见下表：</p><p>|                          需要复制的                          |                          需要删除的                          |<br>| :—————————————————————————————: | :—————————————————————————————: |<br>|                  _config.yml：站点配置文件                   | .git：无论是在站点根目录下，还是主题目录下的.git文件，都可以删掉 |<br>| _config.butterfly.yml：主题配置文件，为了方便主题升级剥离出来的配置文件 |      node_modules：<code>npm install</code>会根据package.json生成       |<br>|               package.json：说明使用哪些依赖包               |                public：<code>hexo g</code>会重新编译生成                |<br>|                    scaffolds：文章的模板                     |          .deploy_git：在使用<code>hexo d</code>时也会重新生成           |<br>|                   source：自己写的博客源码                   |          db.json文件：<code>hexo s</code>快速启动所需的数据库           |<br>|             themes：主题文件夹（魔改都在里面啦）             | package-lock.json：记录依赖之间的内部依赖关系，可以根据<code>package.json</code>重新生成 |<br>|           .gitignore：说明在提交时哪些文件可以忽略           |                                                              |</p></li><li><p>复制所需的文件到新电脑的文件夹之后，在<code>git bash</code>中切换目录到新拷贝的文件夹里，使用<code>npm install</code> 命令，进行模块安装。这里绝对不能使用<code>hexo init</code>初始化，因为有的文件我们已经拷贝生成过来了，所以不必用<code>hexo init</code>去整体初始化，如果不慎用了，则站点的配置文件<code>_config.yml</code>里面内容会被重置，所以这一步一定要慎重：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i</span><br></pre></td></tr></table></figure></li><li><p>执行以下命令情况并启动项目，进入<code>localhost:4000</code>进行验证：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li><li><p>当本地能成功启动，之后就可以部署到Github，执行以下代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>如果出现<code>Deploy done</code>，则说明部署成功，稍等两分钟，打开浏览器访问之前的域名就可以看到之前的博客，以后你可以在这台新电脑上魔改和写文章了~</p></li></ol>              </div>            </details><h1 id="文章加密插件"><a href="#文章加密插件" class="headerlink" title="文章加密插件"></a>文章加密插件</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/dc81084480bdf6d5da6ba9e1617eb10d.png" alt="image-20240312114449052"></p></div></div><ol><li><p>在根目录执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure></li><li><p>Front matter配置方法</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">-</span> 作为日记加密</span><br><span class="line">date: 2016-03-30 21:12:21</span><br><span class="line">password: mikemessi</span><br><span class="line">abstract: 有东西被加密了, 请输入密码查看.</span><br><span class="line">message: 您好, 这里需要密码.</span><br><span class="line">theme: xray</span><br><span class="line">wrong<span class="emphasis">_pass_</span>message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class="line"><span class="section">wrong<span class="emphasis">_hash_</span>message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure></li><li><p>配置文件<code>[BlogRoot]\_config.yml</code>中针对tags的加密</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Security</span></span><br><span class="line"><span class="attr">encrypt:</span> <span class="comment"># hexo-blog-encrypt</span></span><br><span class="line">  <span class="attr">abstract:</span> <span class="string">有东西被加密了,</span> <span class="string">请输入密码查看.</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">您好,</span> <span class="string">这里需要密码.</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">tagName</span>, <span class="attr">password:</span> <span class="string">密码A</span>&#125;</span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">tagName</span>, <span class="attr">password:</span> <span class="string">密码B</span>&#125;</span><br><span class="line">  <span class="attr">theme:</span> <span class="string">xray</span></span><br><span class="line">  <span class="attr">wrong_pass_message:</span> <span class="string">抱歉,</span> <span class="string">这个密码看着不太对,</span> <span class="string">请再试试.</span></span><br><span class="line">  <span class="attr">wrong_hash_message:</span> <span class="string">抱歉,</span> <span class="string">这个文章不能被校验,</span> <span class="string">不过您还是能看看解密后的内容.</span></span><br></pre></td></tr></table></figure></li><li><p>你可以在线挑选你喜欢的主题,并应用到你的博客中:</p><ul><li><a href="https://mhexo.github.io/2020/12/23/Theme-Test-Default/">default</a></li><li><a href="https://mhexo.github.io/2020/12/23/Theme-Test-Blink/">blink</a></li><li><a href="https://mhexo.github.io/2020/12/23/Theme-Test-Shrink/">shrink</a></li><li><a href="https://mhexo.github.io/2020/12/23/Theme-Test-Flip/">flip</a></li><li><a href="https://mhexo.github.io/2020/12/23/Theme-Test-Up/">up</a></li><li><a href="https://mhexo.github.io/2020/12/23/Theme-Test-Surge/">surge</a></li><li><a href="https://mhexo.github.io/2020/12/23/Theme-Test-Wave/">wave</a></li><li><a href="https://mhexo.github.io/2020/12/23/Theme-Test-Xray/">xray</a></li></ul></li><li><p>重启项目进入对应的文章页面即可看到加密效果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol><div class="note warning flat"><ol><li>采用 https 协议</li><li>本地部署可以看到效果，如果部署到云服务器需要购买 ssl 证书</li></ol></div>              </div>            </details><h1 id="使用第三方托管平台部署博客"><a href="#使用第三方托管平台部署博客" class="headerlink" title="使用第三方托管平台部署博客"></a>使用第三方托管平台部署博客</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/812734f8/">使用第三方托管平台部署博客</a></p>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>魔改教程总结（二）</title>
      <link href="/post/48067a72.html"/>
      <url>/post/48067a72.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>前言</strong>📇</p><ol><li>本文参考<a href="https://www.fomal.cc/posts/eec9786.html">博客魔改教程总结(一)</a>、<a href="https://www.fomal.cc/posts/5389e93f.html">博客魔改教程总结(二)</a>、<a href="https://akilar.top/posts/d2ebecef/">Iconfont Inject</a>、<a href="https://akilar.top/posts/23fdf850/">糖果屋微调合集</a></li><li>本系列基本上都是各位大佬造好的轮子，具体参考 <a href="https://www.fomal.cc/">Fomalhaut大佬</a>。其目的在于防止各位大佬的链接失效，且个人复习总结使用，如有侵权请联系删除。</li><li>本系列起始空白的虚拟机，一步一步搭建魔改页面，使用本地端口。若想部署在其它平台，可自寻查找。</li><li>鉴于每个人的根目录名称都不一样，本帖<strong>博客根目录</strong>一律以<code>[BlogRoot]</code>指代。</li><li>本帖涉及魔改源码的内容，会使用<strong>diff代码块</strong>标识，复制时请<strong>不要忘记删除</strong>前面的<code>+、-</code>符号。</li><li>因为<code>.pug</code>和<code>.styl</code>以及<code>.yml</code>等对缩进要求较为严格，请尽量<strong>不要使用记事本等无法提供语法高亮的文本编辑器</strong>进行修改。</li><li>本系列基于<code>Butterfly主题</code>进行魔改方案编写，hexo 版本 <code>6.3.0</code>，Butterfly 版本 <code>4.12.0</code>。</li><li>魔改会过程常常引入<strong>自定义的css与js文件</strong>，具体方法见方法见<a href="https://b.leonus.cn/2022/custom.html">Hexo博客添加自定义css和js文件</a></li></ol></blockquote><p><strong>博客搭建与魔改系列教程导航🚥🚥🚥</strong></p><ol><li>🎀<a href="https://redbeancc.github.io/post/3324b066.html">hexo基础搭建教程（一）</a></li><li>🎆<a href="https://redbeancc.github.io/post/837c228f.html">hexo基础搭建教程（二）</a></li><li>🎇<a href="https://redbeancc.github.io/post/781096aa.html">魔改教程总结（一）</a></li><li>🧨<a href="https://redbeancc.github.io/post/48067a72.html">魔改教程总结（二）</a>⬅当前位置🛸</li><li>✨<a href="https://redbeancc.github.io/post/518d920.html">魔改教程总结（三）</a></li></ol><h1 id="外挂标签的引入（店长）"><a href="#外挂标签的引入（店长）" class="headerlink" title="外挂标签的引入（店长）"></a>外挂标签的引入（店长）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/397cf1fe8c39e791f5f69afd72faac42.png" alt="image-20240303171305511"></p></div></div><p>详见：<a href="https://akilar.top/posts/615e2dec/">Tag Plugins Plus</a></p><ol><li><p>安装插件,在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-tag-plugins-plus --save</span><br></pre></td></tr></table></figure><p>考虑到hexo自带的markdown渲染插件<code>hexo-renderer-marked</code>与外挂标签语法的兼容性较差，建议您将其替换成<a href="https://www.npmjs.com/package/hexo-renderer-kramed">hexo-renderer-kramed</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure></li><li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tag-plugins-plus</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/615e2dec/</span></span><br><span class="line"><span class="attr">tag_plugins:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">issues:</span> <span class="literal">false</span> <span class="comment">#issues标签依赖注入开关</span></span><br><span class="line">  <span class="attr">link:</span></span><br><span class="line">    <span class="attr">placeholder:</span> <span class="string">/img/link.png</span> <span class="comment">#link_card标签默认的图标图片</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br><span class="line">    <span class="attr">anima:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css</span> <span class="comment">#动画标签anima的依赖</span></span><br><span class="line">    <span class="attr">jquery:</span> <span class="string">https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js</span> <span class="comment">#issues标签依赖</span></span><br><span class="line">    <span class="attr">issues:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/issues.js</span> <span class="comment">#issues标签依赖</span></span><br><span class="line">    <span class="attr">iconfont:</span> <span class="string">//at.alicdn.com/t/c/fonxxxx.js</span> <span class="comment">#参看https://akilar.top/posts/d2ebecef/</span></span><br><span class="line">    <span class="attr">carousel:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js</span></span><br><span class="line">    <span class="attr">tag_plugins_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css</span></span><br></pre></td></tr></table></figure></li><li><p>参数释义</p></li></ol><div class="table-container"><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">备选值/类型</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">enable</td><td style="text-align:left">true/false</td><td style="text-align:left">【必选】控制开关</td></tr><tr><td style="text-align:left">priority</td><td style="text-align:left">number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td style="text-align:left">issues</td><td style="text-align:left">true/false</td><td style="text-align:left">【可选】issues标签控制开关，默认为false</td></tr><tr><td style="text-align:left">link.placeholder</td><td style="text-align:left">【必选】link卡片外挂标签的默认图标</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">CDN.anima</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】动画标签anima的依赖</td></tr><tr><td style="text-align:left">CDN.jquery</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】issues标签依赖</td></tr><tr><td style="text-align:left">CDN.issues</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】issues标签依赖</td></tr><tr><td style="text-align:left">CDN.iconfont</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】iconfont标签symbol样式引入，如果不想引入，则设为false</td></tr><tr><td style="text-align:left">CDN.carousel</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】carousel旋转相册标签鼠标拖动依赖，如果不想引入则设为false</td></tr><tr><td style="text-align:left">CDN.tag_plugins_css</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】外挂标签样式的CSS依赖，为避免CDN缓存延迟，建议将@latest改为具体版本号</td></tr></tbody></table></div><p>具体样式和写法可见：<a href="https://www.fomal.cc/posts/2013454d.html">Markdown语法与外挂标签写法汇总</a></p>              </div>            </details><h1 id="文章三栏（店长-微调）"><a href="#文章三栏（店长-微调）" class="headerlink" title="文章三栏（店长+微调）"></a>文章三栏（店长+微调）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/c5b53a238e4bbe6c83f9b6dbfad9c999.png" alt="image-20240305170919506"></p></div></div><div class="note warning flat"><ol><li>需要前置：页面样式调节</li></ol></div><p>参考：<a href="https://akilar.top/posts/d6b69c49/">双栏布局首页卡片魔改教程</a></p><p>本网站采用的是三栏+响应式布局的方案，也就是slidecard的方案，但是为了可拓展性，我还是把两种都搬了过来，方便大家阅读！</p><ol><li><p>修改<code>[BlogRoot]\themes\butterfly\layout\includes\mixins\post-ui.pug</code>,整个替换为下面的代码，注意，我这里用的是彩色的图标，每个<code>//- i.fas</code>那里表示我注释了黑白的额图标并换上彩色图标，彩色图标引入的具体方法见之前的教程，这里只需要替换成你自己的<code>图标名字</code>和调节相应的<code>大小</code>即可：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//- 首页三栏卡片</span></span><br><span class="line">mixin <span class="built_in">postUI</span>(posts)</span><br><span class="line">  each <span class="selector-tag">article</span> , index <span class="keyword">in</span> page<span class="selector-class">.posts</span><span class="selector-class">.data</span></span><br><span class="line">    <span class="selector-class">.recent-post-item</span></span><br><span class="line">      -</span><br><span class="line">        let link = <span class="selector-tag">article</span><span class="selector-class">.link</span> || <span class="selector-tag">article</span><span class="selector-class">.path</span></span><br><span class="line">        let title = <span class="selector-tag">article</span><span class="selector-class">.title</span> || <span class="built_in">_p</span>(<span class="string">&#x27;no_title&#x27;</span>)</span><br><span class="line">        const <span class="attribute">position</span> = theme.cover.position</span><br><span class="line">        let leftOrRight = <span class="attribute">position</span> === <span class="string">&#x27;both&#x27;</span></span><br><span class="line">          ? index%<span class="number">2</span> == <span class="number">0</span> ? <span class="string">&#x27;left&#x27;</span> : <span class="string">&#x27;right&#x27;</span></span><br><span class="line">          : <span class="attribute">position</span> === <span class="string">&#x27;left&#x27;</span> ? <span class="string">&#x27;left&#x27;</span> : <span class="string">&#x27;right&#x27;</span></span><br><span class="line">        let post_cover = <span class="selector-tag">article</span><span class="selector-class">.cover</span></span><br><span class="line">        let no_cover = <span class="selector-tag">article</span><span class="selector-class">.cover</span> === false || !theme<span class="selector-class">.cover</span><span class="selector-class">.index_enable</span> ? <span class="string">&#x27;no-cover&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">      -</span><br><span class="line">      <span class="selector-class">.recent-post-content</span>(class=leftOrRight)</span><br><span class="line">        <span class="selector-class">.recent-post-cover</span></span><br><span class="line">          <span class="selector-tag">img</span><span class="selector-class">.article-cover</span>(<span class="attribute">src</span>=<span class="built_in">url_for</span>(post_cover) onerror=`this.onerror=null;this.<span class="attribute">src</span>=<span class="string">&#x27;`+ url_for(theme.error_img.post_page) + `&#x27;</span>` alt=title)</span><br><span class="line">        <span class="selector-class">.recent-post-info</span></span><br><span class="line">          <span class="selector-tag">a</span><span class="selector-class">.article-title</span>(href=<span class="built_in">url_for</span>(link) title=title)</span><br><span class="line">            .article-title-link= title</span><br><span class="line">          <span class="selector-class">.recent-post-meta</span>                </span><br><span class="line">            <span class="selector-class">.article-meta-wrap</span></span><br><span class="line">              <span class="keyword">if</span> (<span class="built_in">is_home</span>() &amp;&amp; (<span class="selector-tag">article</span><span class="selector-class">.top</span> || <span class="selector-tag">article</span><span class="selector-class">.sticky</span> &gt; <span class="number">0</span>))</span><br><span class="line">                <span class="selector-tag">span</span><span class="selector-class">.article-meta</span></span><br><span class="line">                  <span class="comment">//- i.fas.fa-thumbtack.sticky</span></span><br><span class="line">                  svg<span class="selector-class">.meta_icon</span>(style=<span class="string">&quot;width:16px;height:16px;position:relative;top:3px&quot;</span>)<span class="selector-class">.post-ui-icon</span></span><br><span class="line">                    <span class="built_in">use</span>(xlink:href=<span class="string">&#x27;#icon-tuding&#x27;</span>)</span><br><span class="line">                  <span class="selector-tag">span</span>.sticky= <span class="built_in">_p</span>(<span class="string">&#x27;sticky&#x27;</span>)</span><br><span class="line">                  <span class="selector-tag">span</span><span class="selector-class">.article-meta-separator</span>  | </span><br><span class="line">              <span class="keyword">if</span> (theme<span class="selector-class">.post_meta</span><span class="selector-class">.page</span>.date_type)</span><br><span class="line">                <span class="selector-tag">span</span><span class="selector-class">.post-meta-date</span></span><br><span class="line">                  <span class="keyword">if</span> (theme<span class="selector-class">.post_meta</span><span class="selector-class">.page</span><span class="selector-class">.date_type</span> === <span class="string">&#x27;both&#x27;</span>)</span><br><span class="line">                    <span class="comment">//- i.far.fa-calendar-alt</span></span><br><span class="line">                    svg<span class="selector-class">.meta_icon</span>(style=<span class="string">&quot;width:21px;height:21px;position:relative;top:6px&quot;</span>)<span class="selector-class">.post-ui-icon</span></span><br><span class="line">                      <span class="built_in">use</span>(xlink:href=<span class="string">&#x27;#icon-rili&#x27;</span>)</span><br><span class="line">                    <span class="selector-tag">span</span>.article-meta-label=<span class="built_in">_p</span>(<span class="string">&#x27;post.created&#x27;</span>)</span><br><span class="line">                    <span class="selector-tag">time</span><span class="selector-class">.post-meta-date-created</span>(datetime=<span class="built_in">date_xml</span>(<span class="selector-tag">article</span>.date) title=<span class="built_in">_p</span>(<span class="string">&#x27;post.created&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + <span class="built_in">full_date</span>(<span class="selector-tag">article</span>.date))=<span class="built_in">date</span>(<span class="selector-tag">article</span><span class="selector-class">.date</span>, config.date_format)</span><br><span class="line">                    <span class="selector-tag">span</span><span class="selector-class">.article-meta-separator</span>  | </span><br><span class="line">                    <span class="comment">//- i.fas.fa-history</span></span><br><span class="line">                    svg<span class="selector-class">.meta_icon</span>(style=<span class="string">&quot;width:13px;height:13px;position:relative;top:2px&quot;</span>)<span class="selector-class">.post-ui-icon</span></span><br><span class="line">                      <span class="built_in">use</span>(xlink:href=<span class="string">&#x27;#icon-gengxin_&#x27;</span>)                    </span><br><span class="line">                    <span class="selector-tag">span</span>.article-meta-label=<span class="built_in">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>) + <span class="string">&quot; &quot;</span></span><br><span class="line">                    <span class="selector-tag">time</span><span class="selector-class">.post-meta-date-updated</span>(datetime=<span class="built_in">date_xml</span>(<span class="selector-tag">article</span>.updated) title=<span class="built_in">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + <span class="built_in">full_date</span>(<span class="selector-tag">article</span>.updated))=<span class="built_in">date</span>(<span class="selector-tag">article</span><span class="selector-class">.updated</span>, config.date_format)</span><br><span class="line">                  <span class="keyword">else</span></span><br><span class="line">                    - let data_type_updated = theme<span class="selector-class">.post_meta</span><span class="selector-class">.page</span><span class="selector-class">.date_type</span> === <span class="string">&#x27;updated&#x27;</span></span><br><span class="line">                    - let date_type = data_type_updated ? <span class="string">&#x27;updated&#x27;</span> : <span class="string">&#x27;date&#x27;</span></span><br><span class="line">                    - let date_icon = data_type_updated ? <span class="string">&#x27;fas fa-history&#x27;</span> :<span class="string">&#x27;far fa-calendar-alt&#x27;</span></span><br><span class="line">                    - let date_title = data_type_updated ? <span class="built_in">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>) : <span class="built_in">_p</span>(<span class="string">&#x27;post.created&#x27;</span>)</span><br><span class="line">                    <span class="selector-tag">i</span>(class=date_icon)</span><br><span class="line">                    <span class="selector-tag">span</span>.article-meta-label=date_title</span><br><span class="line">                    <span class="selector-tag">time</span>(datetime=<span class="built_in">date_xml</span>(<span class="selector-tag">article</span><span class="selector-attr">[date_type]</span>) title=date_title + <span class="string">&#x27; &#x27;</span> + <span class="built_in">full_date</span>(<span class="selector-tag">article</span><span class="selector-attr">[date_type]</span>))=<span class="built_in">date</span>(<span class="selector-tag">article</span><span class="selector-attr">[date_type]</span>, config.date_format)</span><br><span class="line">              <span class="keyword">if</span> (theme<span class="selector-class">.post_meta</span><span class="selector-class">.page</span><span class="selector-class">.categories</span> &amp;&amp; <span class="selector-tag">article</span><span class="selector-class">.categories</span><span class="selector-class">.data</span><span class="selector-class">.length</span> &gt; <span class="number">0</span>)</span><br><span class="line">                <span class="selector-tag">span</span><span class="selector-class">.article-meta</span></span><br><span class="line">                  <span class="selector-tag">span</span><span class="selector-class">.article-meta-separator</span>  | </span><br><span class="line">                  <span class="comment">//- i.fas.fa-inbox</span></span><br><span class="line">                  svg<span class="selector-class">.meta_icon</span>(style=<span class="string">&quot;width:12px;height:12px;position:relative;top:1px&quot;</span>)<span class="selector-class">.post-ui-icon</span></span><br><span class="line">                    <span class="built_in">use</span>(xlink:href=<span class="string">&#x27;#icon-fenlei4-copy&#x27;</span>)</span><br><span class="line">                  each item, index <span class="keyword">in</span> <span class="selector-tag">article</span><span class="selector-class">.categories</span><span class="selector-class">.data</span></span><br><span class="line">                    <span class="selector-tag">a</span>(href=<span class="built_in">url_for</span>(item.path))<span class="selector-class">.article-meta__categories</span> #<span class="selector-attr">[=item.name]</span></span><br><span class="line">                    <span class="keyword">if</span> (index &lt; <span class="selector-tag">article</span><span class="selector-class">.categories</span><span class="selector-class">.data</span><span class="selector-class">.length</span> - <span class="number">1</span>)</span><br><span class="line">                      <span class="selector-tag">i</span><span class="selector-class">.fas</span><span class="selector-class">.fa-angle-right</span><span class="selector-class">.article-meta-link</span></span><br><span class="line">              <span class="keyword">if</span> (theme<span class="selector-class">.post_meta</span><span class="selector-class">.page</span><span class="selector-class">.tags</span> &amp;&amp; <span class="selector-tag">article</span><span class="selector-class">.tags</span><span class="selector-class">.data</span><span class="selector-class">.length</span> &gt; <span class="number">0</span>)</span><br><span class="line">                <span class="selector-tag">span</span><span class="selector-class">.article-meta</span><span class="selector-class">.tags</span></span><br><span class="line">                  <span class="selector-tag">span</span><span class="selector-class">.article-meta-separator</span>  | </span><br><span class="line">                  <span class="comment">//- i.fas.fa-tag</span></span><br><span class="line">                  svg<span class="selector-class">.meta_icon</span>(style=<span class="string">&quot;width:13px;height:13px;position:relative;top:2px&quot;</span>)<span class="selector-class">.post-ui-icon</span></span><br><span class="line">                    <span class="built_in">use</span>(xlink:href=<span class="string">&#x27;#icon-biaoqian&#x27;</span>)</span><br><span class="line">                  each item, index <span class="keyword">in</span> <span class="selector-tag">article</span><span class="selector-class">.tags</span><span class="selector-class">.data</span></span><br><span class="line">                    <span class="selector-tag">a</span>(href=<span class="built_in">url_for</span>(item.path))<span class="selector-class">.article-meta__tags</span> #<span class="selector-attr">[=item.name]</span></span><br><span class="line">                    <span class="keyword">if</span> (index &lt; <span class="selector-tag">article</span><span class="selector-class">.tags</span><span class="selector-class">.data</span><span class="selector-class">.length</span> - <span class="number">1</span>)</span><br><span class="line">                      <span class="selector-tag">span</span><span class="selector-class">.article-meta-link</span> #<span class="selector-attr">[=<span class="string">&#x27; • &#x27;</span>]</span></span><br><span class="line">              </span><br><span class="line">              mixin countBlockInIndex</span><br><span class="line">                - needLoadCountJs = true</span><br><span class="line">                <span class="selector-tag">span</span><span class="selector-class">.article-meta</span></span><br><span class="line">                  <span class="selector-tag">span</span><span class="selector-class">.article-meta-separator</span>  | </span><br><span class="line">                  <span class="comment">//- i.fas.fa-comments</span></span><br><span class="line">                  svg<span class="selector-class">.meta_icon</span>(style=<span class="string">&quot;width:13px;height:13px;position:relative;top:2px&quot;</span>)<span class="selector-class">.post-ui-icon</span></span><br><span class="line">                    <span class="built_in">use</span>(xlink:href=<span class="string">&#x27;#icon-pinglun&#x27;</span>)</span><br><span class="line">                  <span class="keyword">if</span> block</span><br><span class="line">                    block</span><br><span class="line">                  <span class="selector-tag">span</span>.article-meta-label= <span class="string">&#x27; &#x27;</span> + <span class="built_in">_p</span>(<span class="string">&#x27;card_post_count&#x27;</span>)</span><br><span class="line">              </span><br><span class="line">              <span class="keyword">if</span> theme<span class="selector-class">.comments</span><span class="selector-class">.card_post_count</span></span><br><span class="line">                case theme<span class="selector-class">.comments</span><span class="selector-class">.use</span><span class="selector-attr">[0]</span></span><br><span class="line">                  when <span class="string">&#x27;Disqus&#x27;</span></span><br><span class="line">                    +countBlockInIndex</span><br><span class="line">                      <span class="selector-tag">a</span>(href=<span class="built_in">full_url_for</span>(link) + <span class="string">&#x27;#disqus_thread&#x27;</span>)</span><br><span class="line">                        <span class="selector-tag">i</span><span class="selector-class">.fa-solid</span><span class="selector-class">.fa-spinner</span><span class="selector-class">.fa-spin</span></span><br><span class="line">                  when <span class="string">&#x27;Disqusjs&#x27;</span></span><br><span class="line">                    +countBlockInIndex</span><br><span class="line">                      <span class="selector-tag">a</span>(href=<span class="built_in">full_url_for</span>(link) + <span class="string">&#x27;#disqusjs&#x27;</span>)</span><br><span class="line">                        <span class="selector-tag">span</span><span class="selector-class">.disqus-comment-count</span>(data-disqus-url=<span class="built_in">full_url_for</span>(link))</span><br><span class="line">                          <span class="selector-tag">i</span><span class="selector-class">.fa-solid</span><span class="selector-class">.fa-spinner</span><span class="selector-class">.fa-spin</span></span><br><span class="line">                  when <span class="string">&#x27;Valine&#x27;</span></span><br><span class="line">                    +countBlockInIndex</span><br><span class="line">                      <span class="selector-tag">a</span>(href=<span class="built_in">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                        <span class="selector-tag">span</span><span class="selector-class">.valine-comment-count</span>(data-xid=<span class="built_in">url_for</span>(link))</span><br><span class="line">                          <span class="selector-tag">i</span><span class="selector-class">.fa-solid</span><span class="selector-class">.fa-spinner</span><span class="selector-class">.fa-spin</span></span><br><span class="line">                  when <span class="string">&#x27;Waline&#x27;</span></span><br><span class="line">                    +countBlockInIndex</span><br><span class="line">                      <span class="selector-tag">a</span>(href=<span class="built_in">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                        <span class="selector-tag">span</span><span class="selector-class">.waline-comment-count</span>(id=<span class="built_in">url_for</span>(link))</span><br><span class="line">                          <span class="selector-tag">i</span><span class="selector-class">.fa-solid</span><span class="selector-class">.fa-spinner</span><span class="selector-class">.fa-spin</span></span><br><span class="line">                  when <span class="string">&#x27;Twikoo&#x27;</span></span><br><span class="line">                    +countBlockInIndex</span><br><span class="line">                      <span class="selector-tag">a</span><span class="selector-class">.twikoo-count</span>(href=<span class="built_in">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                        <span class="selector-tag">i</span><span class="selector-class">.fa-solid</span><span class="selector-class">.fa-spinner</span><span class="selector-class">.fa-spin</span></span><br><span class="line">                  when <span class="string">&#x27;Facebook Comments&#x27;</span></span><br><span class="line">                    +countBlockInIndex</span><br><span class="line">                      <span class="selector-tag">a</span>(href=<span class="built_in">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                        <span class="selector-tag">span</span><span class="selector-class">.fb-comments-count</span>(data-href=<span class="built_in">urlNoIndex</span>(<span class="selector-tag">article</span>.permalink))</span><br><span class="line">                  when <span class="string">&#x27;Remark42&#x27;</span></span><br><span class="line">                    +countBlockInIndex</span><br><span class="line">                      <span class="selector-tag">a</span>(href=<span class="built_in">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                        <span class="selector-tag">span</span><span class="selector-class">.remark42__counter</span>(data-url=<span class="built_in">urlNoIndex</span>(<span class="selector-tag">article</span>.permalink))</span><br><span class="line">                          <span class="selector-tag">i</span><span class="selector-class">.fa-solid</span><span class="selector-class">.fa-spinner</span><span class="selector-class">.fa-spin</span></span><br><span class="line">                  when <span class="string">&#x27;Artalk&#x27;</span></span><br><span class="line">                    +countBlockInIndex</span><br><span class="line">                      <span class="selector-tag">a</span>(href=<span class="built_in">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                        <span class="selector-tag">span</span><span class="selector-class">.artalk-count</span>(data-page-key=<span class="built_in">url_for</span>(link))</span><br><span class="line">                          <span class="selector-tag">i</span><span class="selector-class">.fa-solid</span><span class="selector-class">.fa-spinner</span><span class="selector-class">.fa-spin</span>      </span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.article-content</span>(href=<span class="built_in">url_for</span>(link) title=title)</span><br><span class="line">          <span class="comment">//- Display the article introduction on homepage</span></span><br><span class="line">          case theme<span class="selector-class">.index_post_content</span><span class="selector-class">.method</span></span><br><span class="line">            when false</span><br><span class="line">              - break</span><br><span class="line">            when <span class="number">1</span></span><br><span class="line">              .article-<span class="attribute">content</span>-text!= article.description</span><br><span class="line">            when <span class="number">2</span></span><br><span class="line">              <span class="keyword">if</span> <span class="selector-tag">article</span><span class="selector-class">.description</span></span><br><span class="line">                .article-<span class="attribute">content</span>-text!= article.description</span><br><span class="line">              <span class="keyword">else</span></span><br><span class="line">                - const <span class="attribute">content</span> = <span class="built_in">strip_html</span>(article.content)</span><br><span class="line">                - let expert = <span class="attribute">content</span>.<span class="built_in">substring</span>(<span class="number">0</span>, theme.index_post_content.length) </span><br><span class="line">                - <span class="attribute">content</span>.length &gt; theme.index_post_content.length ? expert += <span class="string">&#x27; ...&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">                .article-<span class="attribute">content</span>-text!= expert</span><br><span class="line">            default</span><br><span class="line">              - const <span class="attribute">content</span> = <span class="built_in">strip_html</span>(article.content)</span><br><span class="line">              - let expert = <span class="attribute">content</span>.<span class="built_in">substring</span>(<span class="number">0</span>, theme.index_post_content.length) </span><br><span class="line">              - <span class="attribute">content</span>.length &gt; theme.index_post_content.length ? expert += <span class="string">&#x27; ...&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">              .article-<span class="attribute">content</span>-text!= expert      </span><br><span class="line">        <span class="selector-class">.recent-post-arrow</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> theme<span class="selector-class">.ad</span> &amp;&amp; theme<span class="selector-class">.ad</span><span class="selector-class">.index</span></span><br><span class="line">      <span class="keyword">if</span> (index + <span class="number">1</span>) % <span class="number">3</span> == <span class="number">0</span></span><br><span class="line">        <span class="selector-class">.recent-post-item</span>.ads-wrap!=theme<span class="selector-class">.ad</span>.index</span><br></pre></td></tr></table></figure></li><li><p>样式方案提供两种：</p><ul><li>样式一：电脑端宽屏采用滑动卡片，平板宽度采用双栏布局，手机宽度采用单栏卡片</li><li>样式二：移除滑动卡片，按屏幕宽度依次应用三栏、双栏、单栏</li></ul><p>新建目录<code>[BlogRoot]\themes\butterfly\source\css\_index_card_style\</code>,并在下面新建对应的文件<code>slidecard.styl</code>和<code>multicard.styl</code>并分别填入以下内容，第一个滑动卡片的是店长原版的，我微调一下第二个的样式，大家可以根据自己的选择进行修改：</p><div class="tabs" id="indexcard"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="indexcard-1">slidecard</button><button type="button" class="tab " data-href="indexcard-2">multicard</button></ul><div class="tab-contents"><div class="tab-item-content active" id="indexcard-1"><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//default color:</span></span><br><span class="line"><span class="selector-pseudo">:root</span></span><br><span class="line">  <span class="attr">--recent-post-bgcolor</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.9</span>)  <span class="comment">//默认背景</span></span><br><span class="line">  <span class="attr">--article-content-bgcolor</span>: <span class="number">#49b1f5</span> <span class="comment">//描述版块背景</span></span><br><span class="line">  <span class="attr">--recent-post-arrow</span>: <span class="number">#ffffff</span> <span class="comment">//箭头配色</span></span><br><span class="line">  <span class="attr">--recent-post-cover-shadow</span>: <span class="number">#ffffff</span> <span class="comment">//封面遮罩层配色，建议和默认值的颜色相对应。</span></span><br><span class="line">  <span class="attr">--recent-post-transition</span>: <span class="attribute">all</span> <span class="number">0.5s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.59</span>, <span class="number">0.01</span>, <span class="number">0.48</span>, <span class="number">1.17</span>)  //动画效果。不了解的不要改动</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line">  <span class="attr">--recent-post-bgcolor</span>: <span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">35</span>,<span class="number">35</span>,<span class="number">0.5</span>)</span><br><span class="line">  <span class="attr">--article-content-bgcolor</span>: <span class="number">#99999a</span></span><br><span class="line">  <span class="attr">--recent-post-arrow</span>: <span class="number">#37e2dd</span></span><br><span class="line">  <span class="attr">--recent-post-cover-shadow</span>: <span class="number">#232323</span></span><br><span class="line"><span class="comment">// 默认的首页卡片容器布局</span></span><br><span class="line"><span class="selector-class">.recent-posts</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">0</span> <span class="number">15px</span> <span class="number">0</span> <span class="number">15px</span></span><br><span class="line">  <span class="attribute">height</span> fit-content</span><br><span class="line">  <span class="selector-class">.recent-post-item</span></span><br><span class="line">    <span class="attribute">margin-bottom</span> <span class="number">15px</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">background</span> <span class="built_in">var</span>(--recent-post-bgcolor)</span><br><span class="line">    <span class="attribute">overflow</span> hidden</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">15px</span></span><br><span class="line">    <span class="selector-class">.recent-post-content</span></span><br><span class="line">      <span class="attribute">display</span> flex</span><br><span class="line">      <span class="attribute">background</span> <span class="built_in">var</span>(--recent-post-bgcolor)</span><br><span class="line">      <span class="attribute">position</span> relative</span><br><span class="line">      <span class="selector-class">.recent-post-cover</span></span><br><span class="line">        <span class="attribute">display</span> flex</span><br><span class="line">        <span class="attribute">background</span> transparent</span><br><span class="line">      <span class="selector-class">.recent-post-info</span></span><br><span class="line">        <span class="attribute">display</span> flex</span><br><span class="line">        <span class="attribute">background</span> transparent</span><br><span class="line">        <span class="attribute">flex-direction</span> column</span><br><span class="line">        <span class="attribute">justify-content</span> center</span><br><span class="line">        <span class="attribute">align-items</span> center</span><br><span class="line">        <span class="selector-class">.article-title</span></span><br><span class="line">          <span class="attribute">height</span> <span class="number">50%</span></span><br><span class="line">          <span class="attribute">display</span>: flex</span><br><span class="line">          <span class="attribute">text-align</span>: center</span><br><span class="line">          <span class="attribute">align-items</span>: center</span><br><span class="line">          <span class="attribute">justify-content</span>: flex-end</span><br><span class="line">          <span class="attribute">flex-direction</span>: column</span><br><span class="line">          <span class="selector-class">.article-title-link</span></span><br><span class="line">            <span class="attribute">color</span>: <span class="built_in">var</span>(--text-highlight-color)</span><br><span class="line">            <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out</span><br><span class="line">            <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">            -webkit-box-orient: vertical;</span><br><span class="line">            <span class="attribute">overflow</span>: hidden;</span><br><span class="line">            <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">              <span class="attribute">color</span>: <span class="variable">$text</span>-hover</span><br><span class="line">        <span class="selector-class">.recent-post-meta</span></span><br><span class="line">          <span class="attribute">height</span> <span class="number">50%</span></span><br><span class="line">          <span class="attribute">display</span>: flex</span><br><span class="line">          <span class="attribute">text-align</span>: center</span><br><span class="line">          <span class="attribute">align-items</span>: center</span><br><span class="line">          <span class="attribute">justify-content</span>: flex-start</span><br><span class="line">          <span class="attribute">flex-direction</span>: column</span><br><span class="line">          <span class="selector-class">.article-meta-wrap</span></span><br><span class="line">            <span class="attribute">color</span> <span class="number">#969797</span></span><br><span class="line">            <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">            -webkit-box-orient: vertical;</span><br><span class="line">            <span class="attribute">overflow</span>: hidden;</span><br><span class="line">            <span class="selector-tag">a</span></span><br><span class="line">              <span class="attribute">color</span>: <span class="built_in">var</span>(--text-highlight-color)</span><br><span class="line">              <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out</span><br><span class="line">              <span class="attribute">color</span> <span class="number">#969797</span></span><br><span class="line">              <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">                <span class="attribute">color</span>: <span class="variable">$text</span>-hover</span><br><span class="line">      <span class="selector-class">.article-content</span></span><br><span class="line">        <span class="attribute">display</span> flex</span><br><span class="line">        <span class="attribute">text-align</span>: center</span><br><span class="line">        <span class="attribute">flex-direction</span> row</span><br><span class="line">        <span class="attribute">align-items</span> center</span><br><span class="line">        <span class="attribute">justify-content</span> center</span><br><span class="line">        <span class="selector-class">.article-content-text</span></span><br><span class="line">          <span class="attribute">display</span> -webkit-box</span><br><span class="line">          -webkit-box-orient vertical</span><br><span class="line">          <span class="attribute">text-overflow</span>: ellipsis</span><br><span class="line">          <span class="attribute">overflow</span> hidden</span><br><span class="line">          <span class="attribute">color</span> <span class="number">#fff</span></span><br><span class="line">          <span class="attribute">text-shadow</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">3px</span> <span class="number">#000</span></span><br><span class="line">          <span class="selector-pseudo">&amp;::before</span></span><br><span class="line">            <span class="attribute">content</span> <span class="string">&quot;❝&quot;</span></span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">20px</span></span><br><span class="line">          <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">            <span class="attribute">content</span> <span class="string">&quot;❞&quot;</span></span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">20px</span></span><br><span class="line">    &amp;<span class="selector-class">.ads-wrap</span></span><br><span class="line">      <span class="attribute">display</span>: block <span class="meta">!important</span></span><br><span class="line">      <span class="attribute">height</span>: auto <span class="meta">!important</span></span><br><span class="line"><span class="comment">// PC端滑动卡片样式</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">1069px</span>)</span><br><span class="line">  .recent-posts</span><br><span class="line">    padding <span class="number">0</span> <span class="number">15px</span> <span class="number">0</span> <span class="number">15px</span></span><br><span class="line">    .recent-post-item</span><br><span class="line">      .recent-post-content</span><br><span class="line">        position relative</span><br><span class="line">        <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">        transition var(--recent-post-transition)</span><br><span class="line">        &amp;:<span class="attribute">hover</span></span><br><span class="line">          .recent-post-cover-shadow</span><br><span class="line">            <span class="attribute">width</span> <span class="number">10.1%</span></span><br><span class="line">            transition var(--recent-post-transition)</span><br><span class="line">          .recent-post-cover</span><br><span class="line">            <span class="attribute">width</span> <span class="number">10%</span></span><br><span class="line">            transition var(--recent-post-transition)</span><br><span class="line">          .article-content</span><br><span class="line">            <span class="attribute">width</span> calc(<span class="number">30%</span> + <span class="number">80px</span>)</span><br><span class="line">            transition var(--recent-post-transition)</span><br><span class="line">            .article-content-text</span><br><span class="line">              opacity <span class="number">1</span></span><br><span class="line">          .recent-post-arrow</span><br><span class="line">            transition var(--recent-post-transition)</span><br><span class="line">        .recent-post-cover-shadow</span><br><span class="line">          z-index: <span class="number">1</span></span><br><span class="line">          transition var(--recent-post-transition)</span><br><span class="line">          position: absolute</span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">          <span class="attribute">width</span> <span class="number">40%</span></span><br><span class="line">        .recent-post-cover</span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">          <span class="attribute">width</span> <span class="number">40%</span></span><br><span class="line">          transition var(--recent-post-transition)</span><br><span class="line">          img</span><br><span class="line">            <span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line">            <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">            object-fit cover</span><br><span class="line"></span><br><span class="line">        .recent-post-info</span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">          <span class="attribute">width</span> calc(<span class="number">60%</span> - <span class="number">80px</span>)</span><br><span class="line">          .article-title</span><br><span class="line">            margin: <span class="number">0px</span> <span class="number">40px</span></span><br><span class="line">            font-size <span class="number">24px</span></span><br><span class="line">            .article-title-link</span><br><span class="line">              -webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line">          <span class="selector-class">.recent-post-meta</span></span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">20px</span></span><br><span class="line">            <span class="selector-class">.article-meta-wrap</span></span><br><span class="line">              <span class="attribute">font-size</span> <span class="number">12px</span></span><br><span class="line">              -webkit-line-clamp: <span class="number">3</span>;</span><br><span class="line">        <span class="selector-class">.article-content</span></span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">          <span class="attribute">width</span> <span class="number">90px</span></span><br><span class="line">          <span class="attribute">background</span> <span class="built_in">var</span>(--article-content-bgcolor)</span><br><span class="line">          <span class="attribute">transition</span> <span class="built_in">var</span>(--recent-post-transition)</span><br><span class="line">          <span class="selector-class">.article-content-text</span></span><br><span class="line">            -webkit-line-clamp <span class="number">4</span></span><br><span class="line">            <span class="attribute">transition</span>: <span class="built_in">var</span>(--recent-post-transition)</span><br><span class="line">            <span class="attribute">opacity</span> <span class="number">0</span></span><br><span class="line">        <span class="selector-class">.recent-post-arrow</span></span><br><span class="line">          <span class="attribute">transition</span> <span class="built_in">var</span>(--recent-post-transition)</span><br><span class="line">          <span class="attribute">display</span> block</span><br><span class="line">          <span class="attribute">position</span> absolute</span><br><span class="line">          <span class="attribute">height</span> <span class="number">20px</span></span><br><span class="line">          <span class="attribute">width</span> <span class="number">8px</span></span><br><span class="line">          <span class="attribute">background</span> <span class="built_in">var</span>(--recent-post-arrow)</span><br><span class="line">        &amp;<span class="selector-class">.both</span>,</span><br><span class="line">        &amp;<span class="selector-class">.right</span></span><br><span class="line">          <span class="selector-class">.recent-post-cover-shadow</span></span><br><span class="line">            <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">            <span class="attribute">background</span> <span class="built_in">linear-gradient</span>(to left, <span class="built_in">var</span>(--recent-post-cover-shadow), transparent)</span><br><span class="line">          <span class="selector-class">.recent-post-cover</span></span><br><span class="line">            <span class="attribute">order</span>: <span class="number">1</span></span><br><span class="line">          <span class="selector-class">.recent-post-info</span></span><br><span class="line">            <span class="attribute">order</span>: <span class="number">2</span></span><br><span class="line">          <span class="selector-class">.article-content</span></span><br><span class="line">            <span class="attribute">order</span>: <span class="number">3</span></span><br><span class="line">            <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">50%</span>, <span class="number">80px</span> <span class="number">0</span>, <span class="number">100%</span> <span class="number">0</span>, <span class="number">100%</span> <span class="number">100%</span>, <span class="number">80px</span> <span class="number">100%</span>)</span><br><span class="line">            <span class="selector-class">.article-content-text</span></span><br><span class="line">              <span class="attribute">margin</span> <span class="number">20px</span> <span class="number">40px</span> <span class="number">20px</span> <span class="number">80px</span></span><br><span class="line">          <span class="selector-class">.recent-post-arrow</span></span><br><span class="line">            <span class="attribute">order</span>: <span class="number">4</span></span><br><span class="line">            <span class="attribute">left</span> <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">80px</span>)</span><br><span class="line">            <span class="attribute">top</span> <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">10px</span>)</span><br><span class="line">            <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">10px</span>, <span class="number">8px</span> <span class="number">0</span>, <span class="number">8px</span> <span class="number">20px</span>)</span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">            <span class="selector-class">.recent-post-arrow</span></span><br><span class="line">              <span class="attribute">left</span> <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">40px</span>)</span><br><span class="line">        &amp;<span class="selector-class">.left</span></span><br><span class="line">          <span class="selector-class">.recent-post-cover-shadow</span></span><br><span class="line">            <span class="attribute">right</span> <span class="number">0</span></span><br><span class="line">            <span class="attribute">background</span> <span class="built_in">linear-gradient</span>(to right, <span class="built_in">var</span>(--recent-post-cover-shadow), transparent)</span><br><span class="line">          <span class="selector-class">.recent-post-cover</span></span><br><span class="line">            <span class="attribute">order</span>: <span class="number">4</span></span><br><span class="line">          <span class="selector-class">.recent-post-info</span></span><br><span class="line">            <span class="attribute">order</span>: <span class="number">3</span></span><br><span class="line">          <span class="selector-class">.article-content</span></span><br><span class="line">            <span class="attribute">order</span>: <span class="number">2</span></span><br><span class="line">            <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">100%</span> <span class="number">50%</span>,<span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">80px</span>) <span class="number">100%</span>,<span class="number">0</span> <span class="number">100%</span>,<span class="number">0</span> <span class="number">0</span>,<span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">80px</span>) <span class="number">0</span>)</span><br><span class="line">            <span class="selector-class">.article-content-text</span></span><br><span class="line">              <span class="attribute">margin</span> <span class="number">20px</span> <span class="number">80px</span> <span class="number">20px</span> <span class="number">40px</span></span><br><span class="line">          <span class="selector-class">.recent-post-arrow</span></span><br><span class="line">            <span class="attribute">order</span>: <span class="number">1</span></span><br><span class="line">            <span class="attribute">left</span> <span class="number">72px</span></span><br><span class="line">            <span class="attribute">top</span> <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">10px</span>)</span><br><span class="line">            <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">0</span>, <span class="number">8px</span> <span class="number">10px</span>, <span class="number">0</span> <span class="number">20px</span>)</span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">            <span class="selector-class">.recent-post-arrow</span></span><br><span class="line">              <span class="attribute">left</span> <span class="number">32px</span></span><br><span class="line"><span class="comment">// 双栏布局卡片自适应适配</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">572px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">1068px</span>)</span><br><span class="line">  .recent-posts</span><br><span class="line">    padding <span class="number">0</span> <span class="number">15px</span> <span class="number">0</span> <span class="number">15px</span></span><br><span class="line">    display flex</span><br><span class="line">    flex-direction row</span><br><span class="line">    flex-wrap wrap</span><br><span class="line">    .recent-post-item</span><br><span class="line">      border-radius <span class="number">15px</span></span><br><span class="line">      overflow hidden</span><br><span class="line">      <span class="attribute">width</span> <span class="number">47%</span></span><br><span class="line">      margin <span class="number">0px</span> <span class="number">3%</span> <span class="number">20px</span> <span class="number">0px</span></span><br><span class="line">    nav#pagination</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">// 手机端单栏布局自适应适配</span><br><span class="line">@media screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">572px</span>)</span><br><span class="line">  .recent-posts</span><br><span class="line">    padding <span class="number">0</span> <span class="number">15px</span> <span class="number">0</span> <span class="number">15px</span></span><br><span class="line">    .recent-post-item</span><br><span class="line">      border-radius <span class="number">15px</span></span><br><span class="line">      overflow hidden</span><br><span class="line">        </span><br><span class="line">// 手机端及双栏卡片样式</span><br><span class="line">@media screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">1068px</span>)</span><br><span class="line">  .recent-posts</span><br><span class="line">    .recent-post-item</span><br><span class="line">      .recent-post-content</span><br><span class="line">        flex-direction column</span><br><span class="line">        flex-wrap nowrap</span><br><span class="line">        align-items center</span><br><span class="line">        <span class="attribute">max-height</span> <span class="number">350px</span></span><br><span class="line">        <span class="attribute">height</span>: auto </span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">        .recent-post-cover</span><br><span class="line">          <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">          clip-path polygon(<span class="number">0</span> <span class="number">130px</span>,<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">130px</span>,<span class="number">50%</span> <span class="number">100%</span>)</span><br><span class="line">          img</span><br><span class="line">            <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">            <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">            object-fit cover</span><br><span class="line">        .recent-post-info</span><br><span class="line">          <span class="attribute">height</span> <span class="number">150px</span></span><br><span class="line">          <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">          padding <span class="number">0px</span> <span class="number">25px</span> <span class="number">5px</span> <span class="number">25px</span></span><br><span class="line">          .article-title</span><br><span class="line">            margin: <span class="number">0px</span> <span class="number">40px</span></span><br><span class="line">            font-size <span class="number">18px</span></span><br><span class="line">            .article-title-link</span><br><span class="line">              -webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line">          <span class="selector-class">.recent-post-meta</span></span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">20px</span></span><br><span class="line">            <span class="selector-class">.article-meta-wrap</span></span><br><span class="line">              <span class="attribute">font-size</span> <span class="number">12px</span></span><br><span class="line">              -webkit-line-clamp: <span class="number">3</span>;</span><br><span class="line">        <span class="selector-class">.article-content</span></span><br><span class="line">          <span class="attribute">position</span> absolute</span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">          <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">          <span class="attribute">background</span> <span class="built_in">rgba</span>(<span class="number">25</span>,<span class="number">25</span>,<span class="number">25</span>,<span class="number">0.5</span>)</span><br><span class="line">          <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">130px</span>,<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">130px</span>,<span class="number">50%</span> <span class="number">100%</span>)</span><br><span class="line">          <span class="selector-class">.article-content-text</span></span><br><span class="line">            -webkit-line-clamp <span class="number">3</span></span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">16px</span></span><br><span class="line">            <span class="attribute">margin</span> <span class="number">0px</span> <span class="number">25px</span> <span class="number">30px</span> <span class="number">25px</span></span><br><span class="line">        <span class="selector-class">.recent-post-arrow</span></span><br><span class="line">          <span class="attribute">display</span> block</span><br><span class="line">          <span class="attribute">background</span> <span class="built_in">var</span>(--article-content-bgcolor)</span><br><span class="line">          <span class="attribute">position</span> absolute</span><br><span class="line">          <span class="attribute">height</span> <span class="number">10px</span></span><br><span class="line">          <span class="attribute">width</span> <span class="number">20px</span></span><br><span class="line">          <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">50%</span> <span class="number">100%</span>)</span><br><span class="line">          <span class="attribute">top</span> <span class="number">20px</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="indexcard-2"><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span></span><br><span class="line">  <span class="attr">--theme-color</span>:<span class="built_in">rgb</span>(<span class="number">57</span>, <span class="number">197</span>, <span class="number">187</span>)</span><br><span class="line">  <span class="attr">--text-bg-hover</span>:<span class="built_in">rgba</span>(<span class="number">57</span>, <span class="number">197</span>, <span class="number">187</span>, <span class="number">0.7</span>)</span><br><span class="line">  </span><br><span class="line"><span class="selector-class">.recent-posts</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0</span> <span class="number">5px</span></span><br><span class="line">  <span class="attribute">height</span> fit-content</span><br><span class="line">  <span class="selector-class">.recent-post-item</span></span><br><span class="line">    <span class="attribute">margin-bottom</span> <span class="number">15px</span></span><br><span class="line">    <span class="attribute">overflow</span> hidden</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">15px</span></span><br><span class="line">    <span class="selector-class">.recent-post-content</span></span><br><span class="line">      <span class="attribute">display</span> flex</span><br><span class="line">      <span class="attribute">position</span> relative</span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-class">.recent-post-cover</span></span><br><span class="line">          <span class="selector-tag">img</span></span><br><span class="line">            <span class="attribute">transition</span>: all .<span class="number">6s</span> ease-in-out</span><br><span class="line">            scale: <span class="number">1.08</span></span><br><span class="line">        <span class="selector-class">.article-content</span></span><br><span class="line">          <span class="selector-class">.article-content-text</span></span><br><span class="line">            <span class="attribute">transition</span>: all .<span class="number">6s</span> ease-in-out</span><br><span class="line">            scale: <span class="number">1.08</span></span><br><span class="line">      <span class="selector-class">.recent-post-cover</span></span><br><span class="line">        <span class="attribute">display</span> flex</span><br><span class="line">        <span class="attribute">background</span> transparent</span><br><span class="line">      <span class="selector-class">.recent-post-info</span></span><br><span class="line">        <span class="attribute">display</span> flex</span><br><span class="line">        <span class="attribute">background</span> transparent</span><br><span class="line">        <span class="attribute">flex-direction</span> column</span><br><span class="line">        <span class="attribute">justify-content</span> center</span><br><span class="line">        <span class="attribute">align-items</span> center</span><br><span class="line">        <span class="selector-class">.article-title</span></span><br><span class="line">          <span class="attribute">height</span> <span class="number">50%</span></span><br><span class="line">          <span class="attribute">display</span>: flex</span><br><span class="line">          <span class="attribute">text-align</span>: center</span><br><span class="line">          <span class="attribute">align-items</span>: center</span><br><span class="line">          <span class="attribute">justify-content</span>: flex-end</span><br><span class="line">          <span class="attribute">flex-direction</span>: column</span><br><span class="line">          <span class="selector-class">.article-title-link</span></span><br><span class="line">            <span class="attribute">color</span>: <span class="built_in">var</span>(--text-highlight-color)</span><br><span class="line">            <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out</span><br><span class="line">            <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">            -webkit-box-orient: vertical;</span><br><span class="line">            <span class="attribute">overflow</span>: hidden;</span><br><span class="line">            <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">              <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color)</span><br><span class="line">        <span class="selector-class">.recent-post-meta</span></span><br><span class="line">          <span class="attribute">height</span> <span class="number">50%</span></span><br><span class="line">          <span class="attribute">display</span>: flex</span><br><span class="line">          <span class="attribute">text-align</span>: center</span><br><span class="line">          <span class="attribute">align-items</span>: center</span><br><span class="line">          <span class="attribute">justify-content</span>: flex-start</span><br><span class="line">          <span class="attribute">flex-direction</span>: column</span><br><span class="line">          <span class="selector-class">.article-meta-wrap</span></span><br><span class="line">            <span class="attribute">color</span> <span class="number">#969797</span></span><br><span class="line">            <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">            -webkit-box-orient: vertical;</span><br><span class="line">            <span class="attribute">overflow</span>: hidden;</span><br><span class="line">            <span class="selector-tag">a</span></span><br><span class="line">              <span class="attribute">color</span>: <span class="built_in">var</span>(--text-highlight-color)</span><br><span class="line">              <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out</span><br><span class="line">              <span class="attribute">color</span> <span class="number">#969797</span></span><br><span class="line">              <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">                <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color)</span><br><span class="line">      <span class="selector-class">.article-content</span></span><br><span class="line">        <span class="attribute">display</span> flex</span><br><span class="line">        <span class="attribute">text-align</span>: center</span><br><span class="line">        <span class="attribute">flex-direction</span> row</span><br><span class="line">        <span class="attribute">align-items</span> center</span><br><span class="line">        <span class="attribute">justify-content</span> center</span><br><span class="line">        <span class="selector-class">.article-content-text</span></span><br><span class="line">          <span class="attribute">display</span> -webkit-box</span><br><span class="line">          -webkit-box-orient vertical</span><br><span class="line">          <span class="attribute">text-overflow</span>: ellipsis</span><br><span class="line">          <span class="attribute">overflow</span> hidden</span><br><span class="line">          <span class="attribute">color</span> <span class="number">#fff</span></span><br><span class="line">          <span class="attribute">text-shadow</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">3px</span> <span class="number">#000</span></span><br><span class="line">          <span class="comment">// transition transform 0.6s;</span></span><br><span class="line">          <span class="comment">// &amp;:hover</span></span><br><span class="line">          <span class="comment">//  transform: scale(1.1);</span></span><br><span class="line">    &amp;<span class="selector-class">.ads-wrap</span></span><br><span class="line">      <span class="attribute">display</span>: block <span class="meta">!important</span></span><br><span class="line">      <span class="attribute">height</span>: auto <span class="meta">!important</span></span><br><span class="line">  nav<span class="selector-id">#pagination</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line"><span class="comment">// 卡片单元布局样式</span></span><br><span class="line"><span class="selector-class">.recent-posts</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0</span> <span class="number">5px</span></span><br><span class="line">  <span class="attribute">display</span> flex</span><br><span class="line">  <span class="attribute">flex-direction</span> row</span><br><span class="line">  <span class="attribute">flex-wrap</span> wrap</span><br><span class="line">  <span class="selector-class">.recent-post-item</span></span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">15px</span></span><br><span class="line">    <span class="attribute">overflow</span> hidden</span><br><span class="line">    <span class="selector-class">.recent-post-content</span></span><br><span class="line">      <span class="attribute">flex-direction</span> column</span><br><span class="line">      <span class="attribute">flex-wrap</span> nowrap</span><br><span class="line">      <span class="attribute">align-items</span> center</span><br><span class="line">      <span class="attribute">max-height</span> <span class="number">350px</span></span><br><span class="line">      <span class="attribute">height</span>: auto</span><br><span class="line">      <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">      <span class="selector-class">.recent-post-cover</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">        <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">        <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">130px</span>,<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">130px</span>,<span class="number">50%</span> <span class="number">100%</span>)</span><br><span class="line">        <span class="selector-tag">img</span></span><br><span class="line">          <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">          <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">          <span class="attribute">object-fit</span> cover</span><br><span class="line">      <span class="selector-class">.recent-post-info</span></span><br><span class="line">        <span class="attribute">height</span> <span class="number">145px</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">        <span class="attribute">padding</span> <span class="number">0px</span> <span class="number">25px</span> <span class="number">5px</span> <span class="number">25px</span></span><br><span class="line">        <span class="selector-class">.article-title</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">40px</span></span><br><span class="line">          <span class="attribute">font-size</span> <span class="number">19px</span></span><br><span class="line">          <span class="selector-class">.article-title-link</span></span><br><span class="line">            -webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line">        <span class="selector-class">.recent-post-meta</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">20px</span></span><br><span class="line">          <span class="selector-class">.article-meta-wrap</span></span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">13px</span></span><br><span class="line">            -webkit-line-clamp: <span class="number">3</span>;</span><br><span class="line">      <span class="selector-class">.article-content</span></span><br><span class="line">        <span class="attribute">position</span> absolute</span><br><span class="line">        <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">        <span class="attribute">background</span> <span class="built_in">rgba</span>(<span class="number">25</span>,<span class="number">25</span>,<span class="number">25</span>,<span class="number">0.4</span>)</span><br><span class="line">        <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">130px</span>,<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">130px</span>,<span class="number">50%</span> <span class="number">100%</span>)</span><br><span class="line">        <span class="selector-class">.article-content-text</span></span><br><span class="line">          -webkit-line-clamp <span class="number">3</span></span><br><span class="line">          <span class="attribute">font-size</span> <span class="number">16px</span></span><br><span class="line">          <span class="attribute">margin</span> <span class="number">0px</span> <span class="number">25px</span> <span class="number">30px</span> <span class="number">25px</span></span><br><span class="line">          <span class="selector-pseudo">&amp;::before</span></span><br><span class="line">            <span class="attribute">content</span> <span class="string">&quot;「&quot;</span></span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">20px</span></span><br><span class="line">          <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">            <span class="attribute">content</span> <span class="string">&quot;」&quot;</span></span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">20px</span></span><br><span class="line">      <span class="selector-class">.recent-post-arrow</span></span><br><span class="line">        <span class="attribute">display</span> block</span><br><span class="line">        <span class="attribute">background</span> <span class="built_in">var</span>(--text-bg-hover)</span><br><span class="line">        <span class="attribute">position</span> absolute</span><br><span class="line">        <span class="attribute">height</span> <span class="number">10px</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">20px</span></span><br><span class="line">        <span class="attribute">clip-path</span> <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">0</span>,<span class="number">100%</span> <span class="number">0</span>,<span class="number">50%</span> <span class="number">100%</span>)</span><br><span class="line"><span class="comment">// 三栏布局滑动卡片样式</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">1069px</span>)</span><br><span class="line">  .recent-posts</span><br><span class="line">    .recent-post-item</span><br><span class="line">      <span class="attribute">width</span> <span class="number">32.3%</span></span><br><span class="line">      margin <span class="number">0px</span> <span class="number">1%</span> <span class="number">20px</span> <span class="number">0px</span></span><br><span class="line">      .recent-post-content</span><br><span class="line">        .recent-post-info</span><br><span class="line">          .article-title</span><br><span class="line">            margin: <span class="number">0px</span> <span class="number">5px</span></span><br><span class="line">            .article-title-link</span><br><span class="line">              -webkit-line-clamp: <span class="number">1</span>;</span><br><span class="line">          <span class="selector-class">.recent-post-meta</span></span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">5px</span></span><br><span class="line">            <span class="selector-class">.article-meta-wrap</span></span><br><span class="line">              -webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line"><span class="comment">// 双栏布局卡片自适应适配</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">572px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">1068px</span>)</span><br><span class="line">  .recent-posts</span><br><span class="line">    .recent-post-item</span><br><span class="line">      <span class="attribute">width</span> <span class="number">47%</span></span><br><span class="line">      margin <span class="number">0px</span> <span class="number">3%</span> <span class="number">20px</span> <span class="number">0px</span></span><br><span class="line">// 单栏布局卡片自适应适配</span><br><span class="line">@media screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">572px</span>)</span><br><span class="line">  .recent-posts</span><br><span class="line">    .recent-post-item</span><br><span class="line">      <span class="attribute">width</span> <span class="number">100%</span></span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></li><li><p>修改<code>[BlogRoot]\themes\butterfly\source\css\_page\homepage.styl</code>,将整文件内容替换为以下代码：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;index_card_style&#x27;</span>) == <span class="string">&#x27;slidecard&#x27;</span></span><br><span class="line">  <span class="keyword">@import</span> <span class="string">&#x27;./_index_card_style/slidecard&#x27;</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;index_card_style&#x27;</span>) == <span class="string">&#x27;multicard&#x27;</span></span><br><span class="line">  <span class="keyword">@import</span> <span class="string">&#x27;./_index_card_style/multicard&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>然后在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>里新增配置项，这样我们就可以通过配置项自由切换使用哪款了：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主页卡片样式</span></span><br><span class="line"><span class="comment"># Docs: https://akilar.top/posts/d6b69c49/</span></span><br><span class="line"><span class="attr">index_card_style:</span> <span class="string">multicard</span> <span class="comment"># slidecard | multicard</span></span><br></pre></td></tr></table></figure></li><li><p>考虑到不管是样式一还是样式二都存在一个布局突变的情况。为了不至于让首页的文章出现空缺，建议将首页生成的文章数量控制为1,2,3的公倍数。修改站点配置文件<code>[BlogRoot]\_config.yml</code>。找到以下配置项进行调整，注意这是站点配置文件本就有的配置项，不是新增配置项。建议是调整为12篇。如果你的侧边栏魔改内容特别多，那么建议改成18、24、30。务必确保文章卡片栏比侧栏完全展开要长，这样展示效果最好</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = &#x27;&#x27;)</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">12</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br></pre></td></tr></table></figure></li><li><p>本教程讨论的卡片都是考虑有封面和有描述的。所以需要保证你已经开启了相应的配置，查看主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>,找到配置项开启描述栏，建议选择2模式</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Display the article introduction on homepage</span></span><br><span class="line"><span class="comment"># 1: description</span></span><br><span class="line"><span class="comment"># 2: both (if the description exists, it will show description, or show the auto_excerpt)</span></span><br><span class="line"><span class="comment"># 3: auto_excerpt (default)</span></span><br><span class="line"><span class="comment"># false: do not show the article introduction</span></span><br><span class="line"><span class="attr">index_post_content:</span></span><br><span class="line">  <span class="attr">method:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span> <span class="comment"># if you set method to 2 or 3, the length need to config</span></span><br></pre></td></tr></table></figure></li><li><p>在 <code>_config.butterfly.yml</code>中开启首页文章信息</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span> <span class="comment"># Home Page</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 主頁文章日期是創建日或者更新日或都顯示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 顯示日期還是相對日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主頁是否顯示分類</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 主頁是否顯示標籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 顯示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 文章頁日期是創建日或者更新日或都顯示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 顯示日期還是相對日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章頁是否顯示分類</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章頁是否顯示標籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 顯示描述性文字</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="Social卡片彩色图标引入（店长）"><a href="#Social卡片彩色图标引入（店长）" class="headerlink" title="Social卡片彩色图标引入（店长）"></a>Social卡片彩色图标引入（店长）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/6b023ff2c02c75d012db14a336354568.png" alt="image-20240306155402194"></p></div></div><div class="note warning flat"><p>这里需要前置：阿里的 iconfont 引入</p></div><ol><li><p>重写<code>[BlogRoot]\themes\butterfly\layout\includes\header\social.pug</code>,替换为以下代码：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">each value, title <span class="keyword">in</span> theme<span class="selector-class">.social</span></span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-class">.social-icon</span><span class="selector-class">.faa-parent</span><span class="selector-class">.animated-hover</span>(href=<span class="built_in">url_for</span>(<span class="built_in">trim</span>(value<span class="selector-class">.split</span>(<span class="string">&#x27;||&#x27;</span>)<span class="selector-attr">[0]</span>)) target=<span class="string">&quot;_blank&quot;</span> title=title === undefined ? <span class="string">&#x27;&#x27;</span> : <span class="built_in">trim</span>(title))</span><br><span class="line">    <span class="keyword">if</span> value<span class="selector-class">.split</span>(<span class="string">&#x27;||&#x27;</span>)<span class="selector-attr">[1]</span></span><br><span class="line">      - <span class="selector-tag">var</span> icon_value = <span class="built_in">trim</span>(value<span class="selector-class">.split</span>(<span class="string">&#x27;||&#x27;</span>)<span class="selector-attr">[1]</span>)</span><br><span class="line">      - <span class="selector-tag">var</span> anima_value = value<span class="selector-class">.split</span>(<span class="string">&#x27;||&#x27;</span>)<span class="selector-attr">[2]</span> ? <span class="built_in">trim</span>(value<span class="selector-class">.split</span>(<span class="string">&#x27;||&#x27;</span>)<span class="selector-attr">[2]</span>) : <span class="string">&#x27;faa-tada&#x27;</span></span><br><span class="line">      <span class="keyword">if</span> icon_value<span class="selector-class">.substring</span>(<span class="number">0</span>,<span class="number">2</span>)==<span class="string">&quot;fa&quot;</span>      </span><br><span class="line">        <span class="selector-tag">i</span><span class="selector-class">.fa-fw</span>(class=icon_value + <span class="string">&#x27; &#x27;</span> + anima_value)</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> icon_value<span class="selector-class">.substring</span>(<span class="number">0</span>,<span class="number">4</span>)==<span class="string">&quot;icon&quot;</span>          </span><br><span class="line">        svg<span class="selector-class">.icon</span>(aria-hidden=<span class="string">&quot;true&quot;</span> class=anima_value)</span><br><span class="line">          <span class="built_in">use</span>(xlink:href=`#`+ icon_value)</span><br></pre></td></tr></table></figure></li><li><p>以下为对应的<code>social</code>配置项。写法沿用<code>menu_item</code>的写法示例，修改<code>[BlogRoot]\_config.butterfly.yml</code>的<code>social</code>配置项，具体的链接改为自己的。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Social Settings (社交圖標設置)</span></span><br><span class="line"><span class="comment"># formal:</span></span><br><span class="line"><span class="comment">#   icon: link || the description || color</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">icon-github:</span> <span class="string">https://github.com/redbeancc</span> <span class="string">||</span> <span class="string">icon-github</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="attr">icon-youjian:</span> <span class="string">mailto:2074077441@qq.com</span> <span class="string">||</span> <span class="string">icon-youjian</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br></pre></td></tr></table></figure></li><li><p>要注意的是，这里的动态图标是<code>svg.icon</code>的标签，因此上面调节<code>.iconfont</code>的css并不使用，我们需要在自定义样式文件<code>custom.css</code>里加上一些样式来限制图标的大小和颜色等，具体大小自行调节（如果上面弄过菜单栏的图标大小，这里也就不需要再重复写了）。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svg<span class="selector-class">.icon</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1.28em</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1.28em</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>进阶操作：不知道大家发现没有，这个css对菜单栏的图标和对社交图标同时生效，但是有时候我们想这两者有不一样的大小，怎么办？其实很简单，只要我们给这两部分的图标元素贴上不同的“标签”就可以，这个标签可以是<code>id</code>，也可以是<code>class</code>，但是众所周知html中的id是唯一的，我们这里有多个图标，因此贴上不通的<code>class</code>比较合适，因此我们改造一下<code>[BlogRoot]\themes\butterfly\layout\includes\header\social.pug</code>这个文件</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">each value, title in theme.social</span><br><span class="line">  a.social-icon.faa-parent.animated-hover(href=url_for(trim(value.split(&#x27;||&#x27;)[0])) target=&quot;_blank&quot; title=title <span class="comment">=== undefined ? &#x27;&#x27; : trim(title))</span></span><br><span class="line">    if value.split(&#x27;||&#x27;)[1]</span><br><span class="line">      - var icon_value = trim(value.split(&#x27;||&#x27;)[1])</span><br><span class="line">      - var anima_value = value.split(&#x27;||&#x27;)[2] ? trim(value.split(&#x27;||&#x27;)[2]) : &#x27;faa-tada&#x27;</span><br><span class="line">      if icon_value.substring(0,2)==&quot;fa&quot;      </span><br><span class="line">        i.fa-fw(class=icon_value + &#x27; &#x27; + anima_value)</span><br><span class="line">      else if icon_value.substring(0,4)==&quot;icon&quot;          </span><br><span class="line"><span class="deletion">-        svg.icon(aria-hidden=&quot;true&quot; class=anima_value)</span></span><br><span class="line"><span class="addition">+        svg.social_icon(aria-hidden=&quot;true&quot; class=anima_value)</span></span><br><span class="line">          use(xlink:href=`#`+ icon_value)</span><br></pre></td></tr></table></figure><p>上面的改动会将图标渲染成<code>class=social_icon</code>的标签，现在我们可以区分菜单栏还是社交的图标的，如果想调节社交图标的大小就用以下的css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* social 图标 */</span></span><br><span class="line">svg<span class="selector-class">.social_icon</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1.20em</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1.20em</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">    fill: currentColor;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* social 图标end */</span></span><br></pre></td></tr></table></figure><p>举一反三，要想专门用css改动菜单栏图标大小，只需要将<code>[BlogRoot]\themes\butterfly\layout\includes\header\menu_item.pug</code>文件中的<code>svg.icon</code>替换成<code>svg.menu_icon</code>，然后用以下的css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svg<span class="selector-class">.menu_icon</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1.28em</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1.28em</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>重启项目即可看到效果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="侧边栏图标和文字自定义"><a href="#侧边栏图标和文字自定义" class="headerlink" title="侧边栏图标和文字自定义"></a>侧边栏图标和文字自定义</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/5ca56f53ea846b5b40d29a148a20eb42.png" alt="image-20240306161413744"></p></div></div><div class="note warning flat"><p>这里的图标也是用的iconfont的，请完成前面的图标引入教程！由于侧边栏比较多，这里就演示改网站信息，剩下的侧边栏改法几乎一样的！（记住要引入了自己的图标再来看这个教程！！！）</p></div><ol><li><p>进入<code>[BlogRoot]\themes\butterfly\layout\includes\widget\card_webinfo.pug</code>，进行以下修改，因为默认的图标是<code>font-awesome</code>的黑白图标，就是<code>i.fas.fa-chart-line</code>那一行，删除，然后引入新的图标标签，其中图标的样式、名称等参考自己的需要进行更改，样式主要是<code>width</code>、<code>height</code>、<code>position</code>、<code>top</code>这几个属性，这里的<code>animated-hover</code>和<code>faa-tada</code>是给对应的元素套上对应的class，如果装了动画依赖，扫描到这些class的元素会自动挂载动画样式，如果不想要可以去除。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.card_webinfo.enable</span><br><span class="line">  .card-widget.card-webinfo</span><br><span class="line">    .item-headline</span><br><span class="line"><span class="deletion">-      i.fas.fa-chart-line</span></span><br><span class="line"><span class="addition">+      a.faa-parent.animated-hover</span></span><br><span class="line"><span class="addition">+       svg.faa-tada.icon(style=&quot;height:25px;width:25px;fill:currentColor;position:relative;top:5px&quot; aria-hidden=&quot;true&quot;)</span></span><br><span class="line"><span class="addition">+        use(xlink:href=&#x27;#icon-tongji&#x27;)</span></span><br><span class="line">      span= _p(&#x27;aside.card_webinfo.headline&#x27;)</span><br><span class="line">    .webinfo</span><br><span class="line">      if theme.aside.card_webinfo.post_count</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name= _p(&#x27;aside.card_webinfo.article_name&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count= site.posts.length</span><br><span class="line">      if theme.runtimeshow.enable</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name= _p(&#x27;aside.card_webinfo.runtime.name&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count#runtimeshow(data-publishDate=date_xml(theme.runtimeshow.publish_date))</span><br><span class="line">            i.fa-solid.fa-spinner.fa-spin</span><br><span class="line">      if theme.wordcount.enable &amp;&amp; theme.wordcount.total_wordcount</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name=_p(&#x27;aside.card_webinfo.site_wordcount&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count=totalcount(site)</span><br><span class="line">      if theme.busuanzi.site_uv</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name= _p(&#x27;aside.card_webinfo.site_uv_name&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count#busuanzi_value_site_uv</span><br><span class="line">            i.fa-solid.fa-spinner.fa-spin</span><br><span class="line">      if theme.busuanzi.site_pv</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name= _p(&#x27;aside.card_webinfo.site_pv_name&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count#busuanzi_value_site_pv</span><br><span class="line">            i.fa-solid.fa-spinner.fa-spin</span><br><span class="line">      if theme.aside.card_webinfo.last_push_date</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name= _p(&#x27;aside.card_webinfo.last_push_date.name&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count#last-push-date(data-lastPushDate=date_xml(Date.now()))</span><br><span class="line">            i.fa-solid.fa-spinner.fa-spin</span><br></pre></td></tr></table></figure></li><li><p>接下来就是改文了，注意到第8行的<code>span= _p(&#39;aside.card_webinfo.headline&#39;)</code>，这行代码就是渲染图标后面的文字，我们其实可以直接改成<code>span= _p(&#39;小站资讯&#39;)</code>，这样就已经按照自己的文字显示了，但是为了更好维护，我们遵循主题的设计原则，注意到变量<code>aside.card_webinfo.headline</code>，这其实是在写好的语言包中扫描对应的值，因为不同的语言对应不同的文字，如果我们设置了语言为<code>zh-CN</code>那么就到<code>[BlogRoot]\themes\butterfly\languages\zh-CN.yml</code>进行修改。<code>yml</code>文件是以缩进区分层级的，我们只需要寻找<code>aside</code>-&gt;<code>card_webinfo</code>-&gt;<code>headline</code>这一项修改为自己喜欢的内容即可</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  articles: 文章</span><br><span class="line">  tags: 标签</span><br><span class="line">  categories: 分类</span><br><span class="line">  card_announcement: 公告栏</span><br><span class="line">  card_categories: 分类</span><br><span class="line">  card_tags: 标签</span><br><span class="line">  card_archives: 归档</span><br><span class="line">  card_recent_post: 最新文章</span><br><span class="line">  card_friend_link: 通讯录</span><br><span class="line">  card_webinfo:</span><br><span class="line"><span class="deletion">-    headline: 网站资讯</span></span><br><span class="line"><span class="addition">+    headline: 网站资讯</span></span><br><span class="line">    article_name: 文章数目</span><br><span class="line">    runtime:</span><br><span class="line">      name: 已运行时间</span><br><span class="line">      unit: 天</span><br><span class="line">    last_push_date:</span><br><span class="line">      name: 最后更新时间</span><br><span class="line">    site_wordcount: 本站总字数</span><br><span class="line">    site_uv_name: 本站访客数</span><br><span class="line">    site_pv_name: 本站总访问量</span><br><span class="line">  more_button: 查看更多</span><br><span class="line">  card_newest_comments:</span><br><span class="line">    headline: 最新评论</span><br><span class="line">    loading_text: 正在加载中...</span><br><span class="line">    error: 无法获取评论，请确认相关配置是否正确</span><br><span class="line">    zero: 没有评论</span><br><span class="line">    image: 图片</span><br><span class="line">    link: 链接</span><br><span class="line">    code: 代码</span><br><span class="line">  card_toc: 目录</span><br></pre></td></tr></table></figure></li><li><p>最后重新编译运行即可看见效果。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="本站同款页脚（tzy大佬-微调）"><a href="#本站同款页脚（tzy大佬-微调）" class="headerlink" title="本站同款页脚（tzy大佬+微调）"></a>本站同款页脚（tzy大佬+微调）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/6d0a6fc9f05a4f7dd95e1a2f87a0b088.png" alt="image-20240306213501953"></p></div></div><ol><li><p>将<code>[BlogRoot]/themes/butterfly/layout/includes/footer.pug</code>替换成如下代码这块东西分为几个部分，一个是以<code>#ft</code>为块的DOM，其中分为了<code>格言</code>、<code>猜你想看</code>、<code>推荐友链</code>三部分，参考图中的位置结合自己的喜好进行修改即可，图像、文字和链接均替换成你自己的（记住不要用我的链接！！！）；<code>if theme.footer.owner.enable</code>起这一块是主题指定的信息版权信息，我把主题配置项的<code>copyright</code>和<code>custom_text</code>这两项留空了，因此只会显示<code>©2022 By Fomalhaut🥝</code>；再然后就是<code>#workboard</code>这块，这块的信息由js逻辑写入与更新，可以自定义；最后是<code>p#ghbdages</code>这块，是徽标显示，大家可以到<a href="https://shields.io/">shields.io</a>按照自己的信息生成（不要用我的！！！）:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#footer-wrap</span></span><br><span class="line">  <span class="selector-id">#ft</span></span><br><span class="line">    <span class="selector-class">.ft-item-1</span></span><br><span class="line">      <span class="selector-class">.t-top</span></span><br><span class="line">        <span class="selector-class">.t-t-l</span></span><br><span class="line">          <span class="selector-tag">p</span><span class="selector-class">.ft-t</span><span class="selector-class">.t-l-t</span> 格言🧬</span><br><span class="line">          <span class="selector-class">.bg-ad</span></span><br><span class="line">            <span class="selector-tag">div</span></span><br><span class="line">              | 再看看那个光点，它就在这里，这是家园，这是我们 —— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨</span><br><span class="line">            <span class="selector-class">.btn-xz-box</span></span><br><span class="line">              <span class="selector-tag">a</span><span class="selector-class">.btn-xz</span>(href=<span class="string">&#x27;https://stellarium.org/&#x27;</span>) 点击开启星辰之旅</span><br><span class="line">        <span class="selector-class">.t-t-r</span></span><br><span class="line">          <span class="selector-tag">p</span><span class="selector-class">.ft-t</span><span class="selector-class">.t-l-t</span> 猜你想看💡</span><br><span class="line">          <span class="selector-tag">ul</span><span class="selector-class">.ft-links</span></span><br><span class="line">            <span class="selector-tag">li</span></span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/posts/eec9786.html&#x27;</span>) 魔改指南</span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/box/nav/&#x27;</span>) 网址导航</span><br><span class="line">            <span class="selector-tag">li</span></span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/social/link/&#x27;</span>) 我的朋友</span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/comments/&#x27;</span>) 留点什么</span><br><span class="line">            <span class="selector-tag">li</span></span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/personal/about/&#x27;</span>) 关于作者</span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/archives/&#x27;</span>) 文章归档</span><br><span class="line">            <span class="selector-tag">li</span></span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/categories/&#x27;</span>) 文章分类</span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/tags/&#x27;</span>) 文章标签</span><br><span class="line">            <span class="selector-tag">li</span></span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/box/Gallery/&#x27;</span>) 我的画廊</span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/personal/bb/&#x27;</span>) 我的唠叨</span><br><span class="line">            <span class="selector-tag">li</span></span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/site/time/&#x27;</span>) 建设进程</span><br><span class="line">              <span class="selector-tag">a</span>(href=<span class="string">&#x27;/site/census/&#x27;</span>) 网站统计</span><br><span class="line">    <span class="selector-class">.ft-item-2</span></span><br><span class="line">      <span class="selector-tag">p</span><span class="selector-class">.ft-t</span> 推荐友链⌛</span><br><span class="line">      <span class="selector-class">.ft-img-group</span></span><br><span class="line">        <span class="selector-class">.img-group-item</span></span><br><span class="line">          <span class="selector-tag">a</span>(href=<span class="string">&#x27;https://www.fomal.cc/&#x27;</span> title=<span class="string">&#x27;Fomalhaut🥝&#x27;</span>)</span><br><span class="line">            <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&#x27;https://lskypro.acozycotage.net/LightPicture/2022/12/60e5d4e39da7c077.webp&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="selector-class">.img-group-item</span></span><br><span class="line">          <span class="selector-tag">a</span>(href=<span class="string">&#x27;https://tzy1997.com/&#x27;</span> title=<span class="string">&#x27;唐志远の博客&#x27;</span>)</span><br><span class="line">            <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&#x27;https://lskypro.acozycotage.net/LightPicture/2022/12/4ab83cdce942463b.jpg&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="selector-class">.img-group-item</span></span><br><span class="line">          <span class="selector-tag">a</span>(href=<span class="string">&#x27;https://akilar.top/&#x27;</span> title=<span class="string">&#x27;Akilarの糖果屋&#x27;</span>)</span><br><span class="line">            <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&#x27;https://lskypro.acozycotage.net/LightPicture/2022/12/6bf1ed05796db59c.jpg&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="selector-class">.img-group-item</span></span><br><span class="line">          <span class="selector-tag">a</span>(href=<span class="string">&#x27;https://butterfly.js.org/&#x27;</span> title=<span class="string">&#x27;Butterfly&#x27;</span>)</span><br><span class="line">            <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&#x27;https://lskypro.acozycotage.net/LightPicture/2022/12/64cc6a7d508026e1.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="selector-class">.img-group-item</span></span><br><span class="line">          <span class="selector-tag">a</span>(href=<span class="string">&#x27;https://anzhiy.cn/&#x27;</span> title=<span class="string">&#x27;安知鱼&#x27;</span>)</span><br><span class="line">            <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&#x27;https://lskypro.acozycotage.net/LightPicture/2022/12/1b33fef8f5fb7e63.jpg&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="selector-class">.img-group-item</span></span><br><span class="line">          <span class="selector-tag">a</span>(href=<span class="string">&#x27;https://www.acozycotage.net/&#x27;</span> title=<span class="string">&#x27;Acozycotage&#x27;</span>)</span><br><span class="line">            <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&#x27;https://lskypro.acozycotage.net/LightPicture/2022/12/6a6fe6ebfd19c465.jpg&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="selector-class">.img-group-item</span></span><br><span class="line">          <span class="selector-tag">a</span>(href=<span class="string">&#x27;https://cdn.netdun.net/&#x27;</span> title=<span class="string">&#x27;网盾星球&#x27;</span>)</span><br><span class="line">            <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&#x27;https://lskypro.acozycotage.net/LightPicture/2022/12/70dee3f9d1ca10f3.webp&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="selector-class">.img-group-item</span></span><br><span class="line">          <span class="selector-tag">a</span>(href=<span class="string">&#x27;javascript:void(0)&#x27;</span> title=<span class="string">&#x27;广告位招租&#x27;</span>)</span><br><span class="line">            <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&#x27;https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> theme<span class="selector-class">.footer</span><span class="selector-class">.owner</span><span class="selector-class">.enable</span></span><br><span class="line">    - <span class="selector-tag">var</span> now = new <span class="built_in">Date</span>()</span><br><span class="line">    - <span class="selector-tag">var</span> nowYear = now<span class="selector-class">.getFullYear</span>()</span><br><span class="line">    <span class="keyword">if</span> theme<span class="selector-class">.footer</span><span class="selector-class">.owner</span><span class="selector-class">.since</span> &amp;&amp; theme<span class="selector-class">.footer</span><span class="selector-class">.owner</span><span class="selector-class">.since</span> != nowYear</span><br><span class="line">      <span class="selector-class">.copyright</span></span><br><span class="line">        span!= `&lt;b&gt;&amp;copy;$&#123;theme<span class="selector-class">.footer</span><span class="selector-class">.owner</span>.since&#125; - $&#123;nowYear&#125;&lt;/b&gt;`</span><br><span class="line">        span!= `&lt;b&gt;&amp;nbsp;&amp;nbsp;By $&#123;config.author&#125;&lt;/b&gt;`</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">       <span class="selector-class">.copyright</span></span><br><span class="line">         span!= `&lt;b&gt;&amp;copy;$&#123;nowYear&#125;&lt;/b&gt;`</span><br><span class="line">         span!= `&lt;b&gt;&amp;nbsp;&amp;nbsp;By $&#123;config.author&#125;&lt;/b&gt;`</span><br><span class="line">  <span class="keyword">if</span> theme<span class="selector-class">.footer</span><span class="selector-class">.copyright</span></span><br><span class="line">    <span class="selector-class">.framework-info</span></span><br><span class="line">      span= <span class="built_in">_p</span>(<span class="string">&#x27;footer.framework&#x27;</span>) + <span class="string">&#x27; &#x27;</span></span><br><span class="line">      <span class="selector-tag">a</span>(href=<span class="string">&#x27;https://hexo.io&#x27;</span>)= <span class="string">&#x27;Hexo&#x27;</span></span><br><span class="line">      <span class="selector-tag">span</span><span class="selector-class">.footer-separator</span> |</span><br><span class="line">      span= <span class="built_in">_p</span>(<span class="string">&#x27;footer.theme&#x27;</span>) + <span class="string">&#x27; &#x27;</span></span><br><span class="line">      <span class="selector-tag">a</span>(href=<span class="string">&#x27;https://github.com/jerryc127/hexo-theme-butterfly&#x27;</span>)= <span class="string">&#x27;Butterfly&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> theme<span class="selector-class">.footer</span><span class="selector-class">.custom_text</span></span><br><span class="line">    .footer_custom_text!=`$&#123;theme<span class="selector-class">.footer</span>.custom_text&#125;`</span><br><span class="line">    </span><br><span class="line">  <span class="selector-id">#workboard</span></span><br><span class="line">  </span><br><span class="line">  p<span class="selector-id">#ghbdages</span></span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.github-badge</span>(target=<span class="string">&#x27;_blank&#x27;</span> href=<span class="string">&quot;https://hexo.io/&quot;</span> style=<span class="string">&#x27;margin-inline:5px&#x27;</span> title=<span class="string">&quot;博客框架为Hexo_v6.3.0&quot;</span>)</span><br><span class="line">      <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&quot;https://sourcebucket.s3.ladydaily.com/badge/Frame-Hexo-blue.svg&quot;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.github-badge</span>(target=<span class="string">&#x27;_blank&#x27;</span> href=<span class="string">&quot;https://butterfly.js.org/&quot;</span> style=<span class="string">&#x27;margin-inline:5px&#x27;</span> title=<span class="string">&quot;主题版本Butterfly_v4.3.1&quot;</span>)</span><br><span class="line">      <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&quot;https://sourcebucket.s3.ladydaily.com/badge/Theme-Butterfly-6513df.svg&quot;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.github-badge</span>(target=<span class="string">&#x27;_blank&#x27;</span> href=<span class="string">&quot;https://vercel.com/&quot;</span> style=<span class="string">&#x27;margin-inline:5px&#x27;</span> title=<span class="string">&quot;本站采用多线部署，主线路托管于Vercel&quot;</span>)</span><br><span class="line">      <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&quot;https://sourcebucket.s3.ladydaily.com/badge/Hosted-Vercel-brightgreen.svg&quot;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.github-badge</span>(target=<span class="string">&#x27;_blank&#x27;</span> href=<span class="string">&quot;https://user.51.la/&quot;</span> style=<span class="string">&#x27;margin-inline:5px&#x27;</span> title=<span class="string">&quot;本站数据分析得益于51la技术支持&quot;</span>)</span><br><span class="line">      <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&quot;https://sourcebucket.s3.ladydaily.com/badge/Analytics-51la-3db1eb.svg&quot;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.github-badge</span>(target=<span class="string">&#x27;_blank&#x27;</span> href=<span class="string">&quot;https://icp.gov.moe/?keyword=20226665&quot;</span> style=<span class="string">&#x27;margin-inline:5px&#x27;</span> title=<span class="string">&quot;本站已加入萌ICP豪华套餐，萌ICP备20226665号&quot;</span>)</span><br><span class="line">      <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&quot;https://sourcebucket.s3.ladydaily.com/badge/萌ICP备-20226665-fe1384.svg&quot;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.github-badge</span>(target=<span class="string">&#x27;_blank&#x27;</span> href=<span class="string">&quot;https://bitiful.dogecast.com/buckets&quot;</span> style=<span class="string">&#x27;margin-inline:5px&#x27;</span> title=<span class="string">&quot;本网站经Service Worker分流至缤纷云对象存储&quot;</span>)</span><br><span class="line">      <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&quot; https://sourcebucket.s3.ladydaily.com/badge/Bucket-缤纷云-9c62da.svg&quot;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.github-badge</span>(target=<span class="string">&#x27;_blank&#x27;</span> href=<span class="string">&quot;https://www.netdun.net/&quot;</span> style=<span class="string">&#x27;margin-inline:5px&#x27;</span> title=<span class="string">&quot;本站使用网盾星球提供CDN加速与防护&quot;</span>)</span><br><span class="line">      <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&quot;https://sourcebucket.s3.ladydaily.com/badge/CDN-网盾星球-fff2cc.svg&quot;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.github-badge</span>(target=<span class="string">&#x27;_blank&#x27;</span> href=<span class="string">&quot;https://github.com/&quot;</span> style=<span class="string">&#x27;margin-inline:5px&#x27;</span> title=<span class="string">&quot;本网站源码由Github提供存储仓库&quot;</span>)</span><br><span class="line">      <span class="selector-tag">img</span>(<span class="attribute">src</span>=<span class="string">&quot; https://sourcebucket.s3.ladydaily.com/badge/Source-Github-d021d6.svg&quot;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure></li><li><p>将以下代码复制到自定义的<code>custom.css</code>中，其中颜色、圆角等可以根据你自己的喜好进行修改:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*----------------------------- 页脚样式 -----------------------------------*/</span></span><br><span class="line"><span class="comment">/* tzy页脚样式 */</span></span><br><span class="line"><span class="selector-id">#ft</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">1200px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span> <span class="number">255</span> <span class="number">255</span> / <span class="number">80%</span>) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ft-item-1</span>,</span><br><span class="line"><span class="selector-class">.ft-item-2</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ft-item-1</span> &#123;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ft-item-2</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.t-top</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.t-top</span> <span class="selector-class">.t-t-l</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1.4</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.t-top</span> <span class="selector-class">.t-t-l</span> <span class="selector-class">.bg-ad</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">85%</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn-xz-box</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 按钮背景颜色等 */</span></span><br><span class="line"><span class="selector-class">.btn-xz</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--btn-bg);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--btn-color);</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2.4</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn-xz</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 按钮悬浮颜色 */</span></span><br><span class="line"><span class="selector-class">.btn-xz-box</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn-xz</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--text-bg-hover);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.t-top</span> <span class="selector-class">.t-t-r</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ft-links</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ft-links</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 链接悬浮颜色 */</span></span><br><span class="line"><span class="selector-class">.ft-links</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ft-item-2</span> <span class="selector-class">.ft-img-group</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ft-t</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.1rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.t-l-t</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ft-item-2</span> <span class="selector-class">.ft-img-group</span> <span class="selector-class">.img-group-item</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">18.4%</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ft-item-2</span> <span class="selector-class">.ft-img-group</span> <span class="selector-class">.img-group-item</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ft-item-2</span> <span class="selector-class">.ft-img-group</span> <span class="selector-class">.img-group-item</span> <span class="selector-tag">a</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">max-height</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 头像悬浮颜色框 */</span></span><br><span class="line"><span class="selector-class">.ft-item-2</span> <span class="selector-class">.ft-img-group</span> <span class="selector-class">.img-group-item</span> <span class="selector-tag">a</span> <span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="built_in">var</span>(--theme-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.ft-item-1</span> &#123;</span><br><span class="line">    <span class="attribute">flex-basis</span>: <span class="number">100%</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.ft-item-2</span> &#123;</span><br><span class="line">    <span class="attribute">flex-basis</span>: <span class="number">100%</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.t-top</span> <span class="selector-class">.t-t-l</span> <span class="selector-class">.bg-ad</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">576px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.t-top</span> &#123;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.t-top</span> <span class="selector-class">.t-t-l</span> &#123;</span><br><span class="line">    <span class="attribute">flex-basis</span>: <span class="number">100%</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.t-top</span> <span class="selector-class">.t-t-r</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">flex-basis</span>: <span class="number">100%</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer-wrap</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 页脚心跳动画 */</span></span><br><span class="line"><span class="selector-id">#heartbeat</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">animation</span>: iconAnimate <span class="number">1s</span> ease-in-out infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> iconAnimate &#123;</span><br><span class="line">  <span class="number">0%</span>,</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">10%</span>,</span><br><span class="line">  <span class="number">30%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">20%</span>,</span><br><span class="line">  <span class="number">40%</span>,</span><br><span class="line">  <span class="number">60%</span>,</span><br><span class="line">  <span class="number">80%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span>,</span><br><span class="line">  <span class="number">70%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> iconAnimate &#123;</span><br><span class="line">  <span class="number">0%</span>,</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">10%</span>,</span><br><span class="line">  <span class="number">30%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">20%</span>,</span><br><span class="line">  <span class="number">40%</span>,</span><br><span class="line">  <span class="number">60%</span>,</span><br><span class="line">  <span class="number">80%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span>,</span><br><span class="line">  <span class="number">70%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-o-keyframes</span> iconAnimate &#123;</span><br><span class="line">  <span class="number">0%</span>,</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">10%</span>,</span><br><span class="line">  <span class="number">30%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">20%</span>,</span><br><span class="line">  <span class="number">40%</span>,</span><br><span class="line">  <span class="number">60%</span>,</span><br><span class="line">  <span class="number">80%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span>,</span><br><span class="line">  <span class="number">70%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> iconAnimate &#123;</span><br><span class="line">  <span class="number">0%</span>,</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">10%</span>,</span><br><span class="line">  <span class="number">30%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">20%</span>,</span><br><span class="line">  <span class="number">40%</span>,</span><br><span class="line">  <span class="number">60%</span>,</span><br><span class="line">  <span class="number">80%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span>,</span><br><span class="line">  <span class="number">70%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*----------------------------- end -----------------------------------*/</span></span><br></pre></td></tr></table></figure></li><li><p>然后计时器还要往<code>#footer-wrap</code>这块元素上面写入网站运行时间等信息，新建文件<code>[BlogRoot]\source\js\runtime.js</code>，写入如下代码。这里要修改的几块东西是：<code>网站诞生时间</code>、<code>currentTimeHtml</code>这块东西；其中<code>currentTimeHtml</code>分为了两种模式，对应两个不同的图标，自行研究一下就懂！</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createtime</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 当前时间</span></span><br><span class="line">  now.<span class="title function_">setTime</span>(now.<span class="title function_">getTime</span>() + <span class="number">1000</span>);</span><br><span class="line">  <span class="keyword">var</span> start = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;08/01/2022 00:00:00&quot;</span>); <span class="comment">// 旅行者1号开始计算的时间</span></span><br><span class="line">  <span class="keyword">var</span> dis = <span class="title class_">Math</span>.<span class="title function_">trunc</span>(<span class="number">23400000000</span> + ((now - start) / <span class="number">1000</span>) * <span class="number">17</span>); <span class="comment">// 距离=秒数*速度 记住转换毫秒</span></span><br><span class="line">  <span class="keyword">var</span> unit = (dis / <span class="number">149600000</span>).<span class="title function_">toFixed</span>(<span class="number">6</span>);  <span class="comment">// 天文单位</span></span><br><span class="line">  <span class="keyword">var</span> grt = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;02/21/2024 00:00:00&quot;</span>);<span class="comment">// 网站诞生时间</span></span><br><span class="line">  <span class="keyword">var</span> days = (now - grt) / <span class="number">1e3</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>,</span><br><span class="line">    dnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(days),</span><br><span class="line">    hours = (now - grt) / <span class="number">1e3</span> / <span class="number">60</span> / <span class="number">60</span> - <span class="number">24</span> * dnum,</span><br><span class="line">    hnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(hours);</span><br><span class="line">  <span class="number">1</span> == <span class="title class_">String</span>(hnum).<span class="property">length</span> &amp;&amp; (hnum = <span class="string">&quot;0&quot;</span> + hnum);</span><br><span class="line">  <span class="keyword">var</span> minutes = (now - grt) / <span class="number">1e3</span> / <span class="number">60</span> - <span class="number">1440</span> * dnum - <span class="number">60</span> * hnum,</span><br><span class="line">    mnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(minutes);</span><br><span class="line">  <span class="number">1</span> == <span class="title class_">String</span>(mnum).<span class="property">length</span> &amp;&amp; (mnum = <span class="string">&quot;0&quot;</span> + mnum);</span><br><span class="line">  <span class="keyword">var</span> seconds = (now - grt) / <span class="number">1e3</span> - <span class="number">86400</span> * dnum - <span class="number">3600</span> * hnum - <span class="number">60</span> * mnum,</span><br><span class="line">    snum = <span class="title class_">Math</span>.<span class="title function_">round</span>(seconds);</span><br><span class="line">  <span class="number">1</span> == <span class="title class_">String</span>(snum).<span class="property">length</span> &amp;&amp; (snum = <span class="string">&quot;0&quot;</span> + snum);</span><br><span class="line">  <span class="keyword">let</span> currentTimeHtml = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  (currentTimeHtml =</span><br><span class="line">    hnum &lt; <span class="number">18</span> &amp;&amp; hnum &gt;= <span class="number">9</span></span><br><span class="line">    ? <span class="string">`&lt;img class=&#x27;boardsign&#x27; src=&#x27;https://img.shields.io/badge/-营业中-6adea8?style=social&amp;logo=cakephp&#x27; title=&#x27;什么时候能够实现财富自由呀~&#x27;&gt;&lt;br&gt; &lt;div style=&quot;font-size:13px;font-weight:bold&quot;&gt;本站居然运行了 <span class="subst">$&#123;dnum&#125;</span> 天 <span class="subst">$&#123;hnum&#125;</span> 小时 <span class="subst">$&#123;mnum&#125;</span> 分 <span class="subst">$&#123;snum&#125;</span> 秒 &lt;i id=&quot;heartbeat&quot; class=&#x27;fas fa-heartbeat&#x27;&gt;&lt;/i&gt; &lt;br&gt; 旅行者 1 号当前距离地球 <span class="subst">$&#123;dis&#125;</span> 千米，约为 <span class="subst">$&#123;unit&#125;</span> 个天文单位 🚀&lt;/div&gt;`</span></span><br><span class="line">    : <span class="string">`&lt;img class=&#x27;boardsign&#x27; src=&#x27;https://img.shields.io/badge/-打烊了-6adea8?style=social&amp;logo=coffeescript&#x27; title=&#x27;下班了就该开开心心地玩耍~&#x27;&gt;&lt;br&gt; &lt;div style=&quot;font-size:13px;font-weight:bold&quot;&gt;本站居然运行了 <span class="subst">$&#123;dnum&#125;</span> 天 <span class="subst">$&#123;hnum&#125;</span> 小时 <span class="subst">$&#123;mnum&#125;</span> 分 <span class="subst">$&#123;snum&#125;</span> 秒 &lt;i id=&quot;heartbeat&quot; class=&#x27;fas fa-heartbeat&#x27;&gt;&lt;/i&gt; &lt;br&gt; 旅行者 1 号当前距离地球 <span class="subst">$&#123;dis&#125;</span> 千米，约为 <span class="subst">$&#123;unit&#125;</span> 个天文单位 🚀&lt;/div&gt;`</span>),</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;workboard&quot;</span>) &amp;&amp;</span><br><span class="line">    (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;workboard&quot;</span>).<span class="property">innerHTML</span> = currentTimeHtml);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 设置重复执行函数，周期1000ms</span></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">createtime</span>();</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>引入该<code>runtime.js</code>文件：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  bottom: </span><br><span class="line"><span class="addition">+    - &lt;script defer src=&quot;/js/runtime.js&quot;&gt;&lt;/script&gt; # 页脚计时器</span></span><br></pre></td></tr></table></figure></li><li><p>到这里你已经成功了 99.99%，最后重新编译运行即可看见效果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="欢迎信息显示地理位置"><a href="#欢迎信息显示地理位置" class="headerlink" title="欢迎信息显示地理位置"></a>欢迎信息显示地理位置</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/c0c4e9bb6922f42ece45bed42cf85370.png" alt="image-20240307145548335"></p></div></div><p>详见：<a href="https://ichika.cc/Article/beautiful_IPLocation/">给博客添加腾讯地图定位并制作个性欢迎</a></p><ol><li><p>获取<code>API Key</code>：进入<a href="https://lbs.qq.com/dev/console/application/mine">腾讯位置服务</a>应用管理界面，点击创建应用，应用名称和类型随便填。在新创建的应用中点击添加<code>key</code>，产品选择<code>WebServiceAPI</code>，域名白名单填自己的域名或不填。把得到的key记下。如果开启白名单记得把localhost也加上</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/b7278f074e2ef0bf24db032abceca602.webp?x-oss-process=image/format,png" alt="img"></p></li><li><p>新建<code>[BlogRoot]\source\js\txmap.js</code>，并写入如下代码，记住替换key的内容：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//get请求</span></span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;https://apis.map.qq.com/ws/location/v1/ip&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&#x27;你的key&#x27;</span>,</span><br><span class="line">        <span class="attr">output</span>: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        ipLoacation = res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDistance</span>(<span class="params">e1, n1, e2, n2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> R = <span class="number">6371</span></span><br><span class="line">    <span class="keyword">const</span> &#123; sin, cos, asin, <span class="variable constant_">PI</span>, hypot &#125; = <span class="title class_">Math</span></span><br><span class="line">    <span class="keyword">let</span> <span class="title function_">getPoint</span> = (<span class="params">e, n</span>) =&gt; &#123;</span><br><span class="line">        e *= <span class="variable constant_">PI</span> / <span class="number">180</span></span><br><span class="line">        n *= <span class="variable constant_">PI</span> / <span class="number">180</span></span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">x</span>: <span class="title function_">cos</span>(n) * <span class="title function_">cos</span>(e), <span class="attr">y</span>: <span class="title function_">cos</span>(n) * <span class="title function_">sin</span>(e), <span class="attr">z</span>: <span class="title function_">sin</span>(n) &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> a = <span class="title function_">getPoint</span>(e1, n1)</span><br><span class="line">    <span class="keyword">let</span> b = <span class="title function_">getPoint</span>(e2, n2)</span><br><span class="line">    <span class="keyword">let</span> c = <span class="title function_">hypot</span>(a.<span class="property">x</span> - b.<span class="property">x</span>, a.<span class="property">y</span> - b.<span class="property">y</span>, a.<span class="property">z</span> - b.<span class="property">z</span>)</span><br><span class="line">    <span class="keyword">let</span> r = <span class="title function_">asin</span>(c / <span class="number">2</span>) * <span class="number">2</span> * R</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">round</span>(r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showWelcome</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> dist = <span class="title function_">getDistance</span>(<span class="number">113.34499552</span>, <span class="number">23.15537143</span>, ipLoacation.<span class="property">result</span>.<span class="property">location</span>.<span class="property">lng</span>, ipLoacation.<span class="property">result</span>.<span class="property">location</span>.<span class="property">lat</span>); <span class="comment">//这里换成自己的经纬度</span></span><br><span class="line">    <span class="keyword">let</span> pos = ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">nation</span>;</span><br><span class="line">    <span class="keyword">let</span> ip;</span><br><span class="line">    <span class="keyword">let</span> posdesc;</span><br><span class="line">    <span class="comment">//根据国家、省份、城市信息自定义欢迎语</span></span><br><span class="line">    <span class="keyword">switch</span> (ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">nation</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;日本&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;よろしく，一起去看樱花吗&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;美国&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;Let us live in peace!&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;英国&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;想同你一起夜乘伦敦眼&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;俄罗斯&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;干了这瓶伏特加！&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;法国&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;C&#x27;est La Vie&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;德国&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;Die Zeit verging im Fluge.&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;澳大利亚&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;一起去大堡礁吧！&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;加拿大&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;拾起一片枫叶赠予你&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;中国&quot;</span>:</span><br><span class="line">            pos = ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">province</span> + <span class="string">&quot; &quot;</span> + ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">city</span> + <span class="string">&quot; &quot;</span> + ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">district</span>;</span><br><span class="line">            ip = ipLoacation.<span class="property">result</span>.<span class="property">ip</span>;</span><br><span class="line">            <span class="keyword">switch</span> (ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">province</span>) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;北京市&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;北——京——欢迎你~~~&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;天津市&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;讲段相声吧。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;河北省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;山势巍巍成壁垒，天下雄关。铁马金戈由此向，无限江山。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;山西省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;展开坐具长三尺，已占山河五百余。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;内蒙古自治区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;天苍苍，野茫茫，风吹草低见牛羊。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;辽宁省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;我想吃烤鸡架！&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;吉林省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;状元阁就是东北烧烤之王。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;黑龙江省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;很喜欢哈尔滨大剧院。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;上海市&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;众所周知，中国只有两个城市。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;江苏省&quot;</span>:</span><br><span class="line">                    <span class="keyword">switch</span> (ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">city</span>) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;南京市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;这是我挺想去的城市啦。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;苏州市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;上有天堂，下有苏杭。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="attr">default</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;散装是必须要散装的。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;浙江省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;东风渐绿西湖柳，雁已还人未南归。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;河南省&quot;</span>:</span><br><span class="line">                    <span class="keyword">switch</span> (ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">city</span>) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;郑州市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;豫州之域，天地之中。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;南阳市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;臣本布衣，躬耕于南阳。此南阳非彼南阳！&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;驻马店市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;峰峰有奇石，石石挟仙气。嵖岈山的花很美哦！&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;开封市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;刚正不阿包青天。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;洛阳市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;洛阳牡丹甲天下。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="attr">default</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;可否带我品尝河南烩面啦？&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;安徽省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;蚌埠住了，芜湖起飞。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;福建省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;井邑白云间，岩城远带山。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;江西省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;落霞与孤鹜齐飞，秋水共长天一色。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;山东省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;遥望齐州九点烟，一泓海水杯中泻。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;湖北省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;来碗热干面！&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;湖南省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;74751，长沙斯塔克。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;广东省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;老板来两斤福建人。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;广西壮族自治区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;桂林山水甲天下。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;海南省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;朝观日出逐白浪，夕看云起收霞光。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;四川省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;康康川妹子。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;贵州省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;茅台，学生，再塞200。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;云南省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;玉龙飞舞云缠绕，万仞冰川直耸天。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;西藏自治区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;躺在茫茫草原上，仰望蓝天。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;陕西省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;来份臊子面加馍。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;甘肃省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;羌笛何须怨杨柳，春风不度玉门关。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;青海省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;牛肉干和老酸奶都好好吃。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;宁夏回族自治区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;大漠孤烟直，长河落日圆。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;新疆维吾尔自治区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;驼铃古道丝绸路，胡马犹闻唐汉风。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;台湾省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;我在这头，大陆在那头。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;香港特别行政区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;永定贼有残留地鬼嚎，迎击光非岁玉。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;澳门特别行政区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;性感荷官，在线发牌。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="attr">default</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;带我去你的城市逛逛吧！&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;带我去你的国家逛逛吧。&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据本地时间切换欢迎语</span></span><br><span class="line">    <span class="keyword">let</span> timeChange;</span><br><span class="line">    <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">5</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">11</span>) timeChange = <span class="string">&quot;&lt;span&gt;上午好&lt;/span&gt;，一日之计在于晨！&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">11</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">13</span>) timeChange = <span class="string">&quot;&lt;span&gt;中午好&lt;/span&gt;，该摸鱼吃午饭了。&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">13</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">15</span>) timeChange = <span class="string">&quot;&lt;span&gt;下午好&lt;/span&gt;，懒懒地睡个午觉吧！&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">15</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">16</span>) timeChange = <span class="string">&quot;&lt;span&gt;三点几啦&lt;/span&gt;，一起饮茶呀！&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">16</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">19</span>) timeChange = <span class="string">&quot;&lt;span&gt;夕阳无限好！&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">19</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">24</span>) timeChange = <span class="string">&quot;&lt;span&gt;晚上好&lt;/span&gt;，夜生活嗨起来！&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> timeChange = <span class="string">&quot;夜深了，早点休息，少熬夜。&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//自定义文本和需要放的位置</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;welcome-info&quot;</span>).<span class="property">innerHTML</span> =</span><br><span class="line">            <span class="string">`&lt;b&gt;&lt;center&gt;🎉 欢迎信息 🎉&lt;/center&gt;&amp;emsp;&amp;emsp;欢迎来自 &lt;span style=&quot;color:var(--theme-color)&quot;&gt;<span class="subst">$&#123;pos&#125;</span>&lt;/span&gt; 的小伙伴，<span class="subst">$&#123;timeChange&#125;</span>您现在距离站长约 &lt;span style=&quot;color:var(--theme-color)&quot;&gt;<span class="subst">$&#123;dist&#125;</span>&lt;/span&gt; 公里，当前的IP地址为： &lt;span style=&quot;color:var(--theme-color)&quot;&gt;<span class="subst">$&#123;ip&#125;</span>&lt;/span&gt;， <span class="subst">$&#123;posdesc&#125;</span>&lt;/b&gt;`</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="comment">// console.log(&quot;Pjax无法获取#welcome-info元素🙄🙄🙄&quot;)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = showWelcome;</span><br><span class="line"><span class="comment">// 如果使用了pjax在加上下面这行代码</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, showWelcome);</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>中引入jQuery依赖和刚刚的js文件：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inject: </span><br><span class="line">  bottom: </span><br><span class="line"><span class="addition">+    - &lt;script src=&quot;https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js&quot;&gt;&lt;/script&gt; # jQuery</span></span><br><span class="line"><span class="addition">+    - &lt;script async data-pjax src=&quot;/js/txmap.js&quot;&gt;&lt;/script&gt; # 腾讯位置API</span></span><br></pre></td></tr></table></figure></li><li><p>在需要展示文本的容器上添加相应id（welcome-info）就可以了，例如我想添加在网站公告栏信息的下方，于是就在<code>[BlogRoot]\themes\butterfly\layout\includes\widget\card_announcement.pug</code>的最后一行加上这个，缩进与上一行相同即可</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    .announcement_content!= theme.aside.card_announcement.content</span><br><span class="line">    //- 添加欢迎访客的信息</span><br><span class="line"><span class="addition">+    #welcome-info</span></span><br></pre></td></tr></table></figure></li><li><p>在<code>custom.css</code>自定义样式里添加如下代码，可以根据你自己的喜好去改</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 欢迎信息 */</span></span><br><span class="line"><span class="selector-id">#welcome-info</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, <span class="number">#b9f4f3</span>, <span class="number">#e3fbf9</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#welcome-info</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#212121</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>hexo三连即可看到效果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="听话的鼠标魔改"><a href="#听话的鼠标魔改" class="headerlink" title="听话的鼠标魔改"></a>听话的鼠标魔改</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <ol><li><p>新建文件<code>[BlogRoot]\source\js\cursor.js</code>，在里面写上如下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 听话鼠标 start */</span></span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">CURSOR</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Math</span>.<span class="property">lerp</span> = <span class="function">(<span class="params">a, b, n</span>) =&gt;</span> (<span class="number">1</span> - n) * a + n * b;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getStyle2</span> = (<span class="params">el, attr</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">window</span>.<span class="property">getComputedStyle</span></span><br><span class="line">      ? <span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(el)[attr]</span><br><span class="line">      : el.<span class="property">currentStyle</span>[attr];</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123; &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为了屏蔽异步加载导致无法读取颜色值，这里统一用哈希表预处理</span></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;red&#x27;</span>, <span class="string">&quot;rgb(241, 71, 71)&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;orange&#x27;</span>, <span class="string">&quot;rgb(241, 162, 71)&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;yellow&#x27;</span>, <span class="string">&quot;rgb(241, 238, 71)&quot;</span>)</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;purple&#x27;</span>, <span class="string">&quot;rgb(179, 71, 241)&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;blue&#x27;</span>, <span class="string">&quot;rgb(102, 204, 255)&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;gray&#x27;</span>, <span class="string">&quot;rgb(226, 226, 226)&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;green&#x27;</span>, <span class="string">&quot;rgb(57, 197, 187)&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;whitegray&#x27;</span>, <span class="string">&quot;rgb(241, 241, 241)&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;pink&#x27;</span>, <span class="string">&quot;rgb(237, 112, 155)&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;black&#x27;</span>, <span class="string">&quot;rgb(0, 0, 0)&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;darkblue&#x27;</span>, <span class="string">&quot;rgb(97, 100, 159)&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;heoblue&#x27;</span>, <span class="string">&quot;rgb(66, 90, 239)&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cursor</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pos</span> = &#123; <span class="attr">curr</span>: <span class="literal">null</span>, <span class="attr">prev</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pt</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">create</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">init</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">move</span>(<span class="params">left, top</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">style</span>[<span class="string">&quot;left&quot;</span>] = <span class="string">`<span class="subst">$&#123;left&#125;</span>px`</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">style</span>[<span class="string">&quot;top&quot;</span>] = <span class="string">`<span class="subst">$&#123;top&#125;</span>px`</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">create</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">cursor</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">cursor</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">id</span> = <span class="string">&quot;cursor&quot;</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;hidden&quot;</span>);</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">append</span>(<span class="variable language_">this</span>.<span class="property">cursor</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> el = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; el.<span class="property">length</span>; i++)</span><br><span class="line">      <span class="keyword">if</span> (<span class="title function_">getStyle2</span>(el[i], <span class="string">&quot;cursor&quot;</span>) == <span class="string">&quot;pointer&quot;</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">pt</span>.<span class="title function_">push</span>(el[i].<span class="property">outerHTML</span>);</span><br><span class="line">    <span class="keyword">var</span> colorVal = map.<span class="title function_">get</span>(<span class="string">&#x27;green&#x27;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>((<span class="variable language_">this</span>.<span class="property">scr</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;style&quot;</span>)));</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">scr</span>.<span class="property">innerHTML</span> = <span class="string">`* &#123;cursor: url(&quot;data:image/svg+xml,&lt;svg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 8 8&#x27; width=&#x27;8px&#x27; height=&#x27;8px&#x27;&gt;&lt;circle cx=&#x27;4&#x27; cy=&#x27;4&#x27; r=&#x27;4&#x27; opacity=&#x27;1.0&#x27; fill=&#x27;`</span> + colorVal + <span class="string">`&#x27;/&gt;&lt;/svg&gt;&quot;) 4 4, auto&#125;`</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">refresh</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">scr</span>.<span class="title function_">remove</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;hover&quot;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pos</span> = &#123; <span class="attr">curr</span>: <span class="literal">null</span>, <span class="attr">prev</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pt</span> = [];</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">create</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">init</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">onmouseover</span> = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">pt</span>.<span class="title function_">includes</span>(e.<span class="property">target</span>.<span class="property">outerHTML</span>) &amp;&amp; <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;hover&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">onmouseout</span> = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">pt</span>.<span class="title function_">includes</span>(e.<span class="property">target</span>.<span class="property">outerHTML</span>) &amp;&amp; <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;hover&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">onmousemove</span> = <span class="function"><span class="params">e</span> =&gt;</span> &#123; (<span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">curr</span> == <span class="literal">null</span>) &amp;&amp; <span class="variable language_">this</span>.<span class="title function_">move</span>(e.<span class="property">clientX</span> - <span class="number">8</span>, e.<span class="property">clientY</span> - <span class="number">8</span>); <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">curr</span> = &#123; <span class="attr">x</span>: e.<span class="property">clientX</span> - <span class="number">8</span>, <span class="attr">y</span>: e.<span class="property">clientY</span> - <span class="number">8</span> &#125;; <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;hidden&quot;</span>); &#125;;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">onmouseenter</span> = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;hidden&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">onmouseleave</span> = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;hidden&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">onmousedown</span> = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">onmouseup</span> = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>) &#123;</span><br><span class="line">      <span class="comment">// 跟踪速度调节</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">x</span> = <span class="title class_">Math</span>.<span class="title function_">lerp</span>(<span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">curr</span>.<span class="property">x</span>, <span class="number">0.15</span>);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">y</span> = <span class="title class_">Math</span>.<span class="title function_">lerp</span>(<span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">curr</span>.<span class="property">y</span>, <span class="number">0.15</span>);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">move</span>(<span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">y</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span> = <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">curr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">requestAnimationFrame</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">render</span>());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable constant_">CURSOR</span> = <span class="keyword">new</span> <span class="title class_">Cursor</span>();</span><br><span class="line">  <span class="comment">// 需要重新获取列表时，使用 CURSOR.refresh()</span></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 听话鼠标 end */</span></span><br></pre></td></tr></table></figure><p>其中比较重要的参数就是鼠标的尺寸和颜色，已经在上图中标出，目前发现颜色只支持RGB写法和固有名称写法（例如red这种），其他参数也可以自行摸索：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* &#123;<span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">&quot;data:image/svg+xml,&lt;svg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 8 8&#x27; width=&#x27;8px&#x27; height=&#x27;8px&#x27;&gt;&lt;circle cx=&#x27;4&#x27; cy=&#x27;4&#x27; r=&#x27;4&#x27; opacity=&#x27;1.0&#x27; fill=&#x27;` + colorVal + `&#x27;/&gt;&lt;/svg&gt;&quot;</span>) <span class="number">4</span> <span class="number">4</span>, auto&#125;</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]\source\css\custom.css</code>添加如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 鼠标样式 */</span></span><br><span class="line"><span class="selector-id">#cursor</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="comment">/* 这里改变跟随的底色 */</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.25</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10086</span>;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition-property</span>: background, opacity, transform;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#cursor</span><span class="selector-class">.hidden</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#cursor</span><span class="selector-class">.hover</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.1</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">2.5</span>);</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">2.5</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">2.5</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">2.5</span>);</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">2.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#cursor</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>);</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>);</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里比较重要的参数就是鼠标跟随的圆形颜色，可以根据自己的喜好进行更改：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#cursor</span> &#123;</span><br><span class="line">  <span class="comment">/* 这里改变跟随的底色 */</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">57</span>, <span class="number">197</span>, <span class="number">187</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>文件的<code>inject</code>配置项引入刚刚创建的<code>css</code>文件和<code>js</code>文件：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inject: </span><br><span class="line">  head: </span><br><span class="line"><span class="addition">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot;&gt;</span></span><br><span class="line">  bottom:</span><br><span class="line"><span class="addition">+    - &lt;script defer src=&quot;/js/cursor.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>重启项目即可看见效果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="顶部渐变加载条"><a href="#顶部渐变加载条" class="headerlink" title="顶部渐变加载条"></a>顶部渐变加载条</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/f53bcedd9c72b77d2fad6f22b5c16166.png" alt="image-20240307163518769"></p></div></div><p>详见：<a href="https://www.chuckle.top/article/13d6481a.html">给Butterfly加上顶部加载条</a></p><ol><li><p>新建<code>[BlogRoot]\source\css\progress_bar.css</code>文件，写入以下内容（或者你在<code>[BlogRoot]\source\css\custom.css</code>直接加也行，最后在配置文件记得引入即可）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 顶部胶囊加载条 */</span></span><br><span class="line"><span class="selector-class">.pace</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  -webkit-user-select: none;</span><br><span class="line">  -moz-user-select: none;</span><br><span class="line">  user-select: none;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#eaecf2</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#e3e8f7</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace-inactive</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span> ease-in;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -moz-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -ms-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -o-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="number">#ee7752</span>, <span class="number">#e73c7e</span>, <span class="number">#23a6d5</span>, <span class="number">#23d5ab</span>);</span><br><span class="line">  <span class="attribute">animation</span>: gradient <span class="number">1.5s</span> ease infinite;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">200%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span><span class="selector-class">.pace-inactive</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> gradient &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 顶部胶囊加载条end */</span></span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项加入刚刚的css样式和必须的js依赖：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">xxx</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/progress_bar.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span> </span><br><span class="line">  <span class="attr">bottom:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">xxx</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;//npm.elemecdn.com/pace-js@1.2.4/pace.min.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="文章统计引入-echarts"><a href="#文章统计引入-echarts" class="headerlink" title="文章统计引入 echarts"></a>文章统计引入 echarts</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">文章统计页预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/79d58efeacc8c4201da1c070dbbf46e4.png" alt="image-20240307222148664"></p></div></div><div class="hide-block"><button type="button" class="hide-button" style="">时间轴页预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/7971e8b36d73461bd59fe1450d53fecb.png" alt="image-20240307222213005"></p></div></div><div class="hide-block"><button type="button" class="hide-button" style="">分类页预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/b5eea3d2127b4b7c8b65014baf1c0ae7.png" alt="image-20240307222230965"></p></div></div><div class="hide-block"><button type="button" class="hide-button" style="">标签页面预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/6ea34a0d0070089e724de1fb438977e0.png" alt="image-20240307222254348"></p></div></div><p>详情请见：<a href="https://blog.eurkon.com/post/1213ef82.html">Hexo 博客文章统计图</a></p><ol><li><p>在命令行执行命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page charts</span><br></pre></td></tr></table></figure></li><li><p>引入 echarts.js</p><div class="note warning flat"><ol><li>echarts.js 必须在渲染 echarts 实例的 JavaScript 前引入。</li><li>需要在统计图的前引入 <code>echarts.js</code> 文件，最好是在页面的头部引入。</li></ol></div><p>以 butterfly 主题为例，可以在 <code>[Blogroot]\_config.butterfly.yml</code> 的 <code>inject</code> 配置项中引入 <code>echart.js</code> 文件。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># 引入 echarts</span></span><br></pre></td></tr></table></figure></li><li><p>文章统计代码</p><div class="note warning flat"><p>若出现控制台报错 <code>Cannot find module &#39;cheerio&#39;</code>。</p><p>解决方案：</p><p>​    安装 <code>cheerio</code>，控制台执行 <code>npm i cheerio --save</code>。</p></div><p>以 butterfly 主题为例，可以在 <code>[Blogroot]\themes\butterfly\scripts\helpers\</code> 目录下新建 <code>charts.js</code> 文件，然后添加以下内容：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cheerio = <span class="built_in">require</span>(<span class="string">&#x27;cheerio&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> moment = <span class="built_in">require</span>(<span class="string">&#x27;moment&#x27;</span>)</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;after_render:html&#x27;</span>, <span class="keyword">function</span> (<span class="params">locals</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> $ = cheerio.<span class="title function_">load</span>(locals)</span><br><span class="line">  <span class="keyword">const</span> post = $(<span class="string">&#x27;#posts-chart&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> tag = $(<span class="string">&#x27;#tags-chart&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> category = $(<span class="string">&#x27;#categories-chart&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> htmlEncode = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (post.<span class="property">length</span> &gt; <span class="number">0</span> || tag.<span class="property">length</span> &gt; <span class="number">0</span> || category.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (post.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; $(<span class="string">&#x27;#postsChart&#x27;</span>).<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (post.<span class="title function_">attr</span>(<span class="string">&#x27;data-encode&#x27;</span>) === <span class="string">&#x27;true&#x27;</span>) htmlEncode = <span class="literal">true</span></span><br><span class="line">      post.<span class="title function_">after</span>(<span class="title function_">postsChart</span>(post.<span class="title function_">attr</span>(<span class="string">&#x27;data-start&#x27;</span>)))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (tag.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; $(<span class="string">&#x27;#tagsChart&#x27;</span>).<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (tag.<span class="title function_">attr</span>(<span class="string">&#x27;data-encode&#x27;</span>) === <span class="string">&#x27;true&#x27;</span>) htmlEncode = <span class="literal">true</span></span><br><span class="line">      tag.<span class="title function_">after</span>(<span class="title function_">tagsChart</span>(tag.<span class="title function_">attr</span>(<span class="string">&#x27;data-length&#x27;</span>)))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (category.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; $(<span class="string">&#x27;#categoriesChart&#x27;</span>).<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (category.<span class="title function_">attr</span>(<span class="string">&#x27;data-encode&#x27;</span>) === <span class="string">&#x27;true&#x27;</span>) htmlEncode = <span class="literal">true</span></span><br><span class="line">      category.<span class="title function_">after</span>(<span class="title function_">categoriesChart</span>(category.<span class="title function_">attr</span>(<span class="string">&#x27;data-parent&#x27;</span>)))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (htmlEncode) &#123;</span><br><span class="line">      <span class="keyword">return</span> $.<span class="title function_">root</span>().<span class="title function_">html</span>().<span class="title function_">replace</span>(<span class="regexp">/&amp;amp;#/g</span>, <span class="string">&#x27;&amp;#&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> $.<span class="title function_">root</span>().<span class="title function_">html</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> locals</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="number">15</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">postsChart</span> (startMonth) &#123;</span><br><span class="line">  <span class="keyword">const</span> startDate = <span class="title function_">moment</span>(startMonth || <span class="string">&#x27;2020-01&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> endDate = <span class="title function_">moment</span>()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> monthMap = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">  <span class="keyword">const</span> dayTime = <span class="number">3600</span> * <span class="number">24</span> * <span class="number">1000</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> time = startDate; time &lt;= endDate; time += dayTime) &#123;</span><br><span class="line">    <span class="keyword">const</span> month = <span class="title function_">moment</span>(time).<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (!monthMap.<span class="title function_">has</span>(month)) &#123;</span><br><span class="line">      monthMap.<span class="title function_">set</span>(month, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  hexo.<span class="property">locals</span>.<span class="title function_">get</span>(<span class="string">&#x27;posts&#x27;</span>).<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">post</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> month = post.<span class="property">date</span>.<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (monthMap.<span class="title function_">has</span>(month)) &#123;</span><br><span class="line">      monthMap.<span class="title function_">set</span>(month, monthMap.<span class="title function_">get</span>(month) + <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">const</span> monthArr = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>([...monthMap.<span class="title function_">keys</span>()])</span><br><span class="line">  <span class="keyword">const</span> monthValueArr = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>([...monthMap.<span class="title function_">values</span>()])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;script id=&quot;postsChart&quot;&gt;</span></span><br><span class="line"><span class="string">    var color = document.documentElement.getAttribute(&#x27;data-theme&#x27;) === &#x27;light&#x27; ? &#x27;#4c4948&#x27; : &#x27;rgba(255,255,255,0.7)&#x27;</span></span><br><span class="line"><span class="string">    var postsChart = echarts.init(document.getElementById(&#x27;posts-chart&#x27;), &#x27;light&#x27;);</span></span><br><span class="line"><span class="string">    var postsOption = &#123;</span></span><br><span class="line"><span class="string">      title: &#123;</span></span><br><span class="line"><span class="string">        text: &#x27;文章发布统计图&#x27;,</span></span><br><span class="line"><span class="string">        x: &#x27;center&#x27;,</span></span><br><span class="line"><span class="string">        textStyle: &#123;</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      tooltip: &#123;</span></span><br><span class="line"><span class="string">        trigger: &#x27;axis&#x27;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      xAxis: &#123;</span></span><br><span class="line"><span class="string">        name: &#x27;日期&#x27;,</span></span><br><span class="line"><span class="string">        type: &#x27;category&#x27;,</span></span><br><span class="line"><span class="string">        boundaryGap: false,</span></span><br><span class="line"><span class="string">        nameTextStyle: &#123;</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisTick: &#123;</span></span><br><span class="line"><span class="string">          show: false</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisLabel: &#123;</span></span><br><span class="line"><span class="string">          show: true,</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisLine: &#123;</span></span><br><span class="line"><span class="string">          show: true,</span></span><br><span class="line"><span class="string">          lineStyle: &#123;</span></span><br><span class="line"><span class="string">            color: color</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;monthArr&#125;</span></span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      yAxis: &#123;</span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,</span></span><br><span class="line"><span class="string">        type: &#x27;value&#x27;,</span></span><br><span class="line"><span class="string">        nameTextStyle: &#123;</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        splitLine: &#123;</span></span><br><span class="line"><span class="string">          show: false</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisTick: &#123;</span></span><br><span class="line"><span class="string">          show: false</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisLabel: &#123;</span></span><br><span class="line"><span class="string">          show: true,</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisLine: &#123;</span></span><br><span class="line"><span class="string">          show: true,</span></span><br><span class="line"><span class="string">          lineStyle: &#123;</span></span><br><span class="line"><span class="string">            color: color</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      series: [&#123;</span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,</span></span><br><span class="line"><span class="string">        type: &#x27;line&#x27;,</span></span><br><span class="line"><span class="string">        smooth: true,</span></span><br><span class="line"><span class="string">        lineStyle: &#123;</span></span><br><span class="line"><span class="string">            width: 0</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        showSymbol: false,</span></span><br><span class="line"><span class="string">        itemStyle: &#123;</span></span><br><span class="line"><span class="string">          opacity: 1,</span></span><br><span class="line"><span class="string">          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;</span></span><br><span class="line"><span class="string">            offset: 0,</span></span><br><span class="line"><span class="string">            color: &#x27;rgba(128, 255, 165)&#x27;</span></span><br><span class="line"><span class="string">          &#125;,</span></span><br><span class="line"><span class="string">          &#123;</span></span><br><span class="line"><span class="string">            offset: 1,</span></span><br><span class="line"><span class="string">            color: &#x27;rgba(1, 191, 236)&#x27;</span></span><br><span class="line"><span class="string">          &#125;])</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        areaStyle: &#123;</span></span><br><span class="line"><span class="string">          opacity: 1,</span></span><br><span class="line"><span class="string">          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;</span></span><br><span class="line"><span class="string">            offset: 0,</span></span><br><span class="line"><span class="string">            color: &#x27;rgba(128, 255, 165)&#x27;</span></span><br><span class="line"><span class="string">          &#125;, &#123;</span></span><br><span class="line"><span class="string">            offset: 1,</span></span><br><span class="line"><span class="string">            color: &#x27;rgba(1, 191, 236)&#x27;</span></span><br><span class="line"><span class="string">          &#125;])</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;monthValueArr&#125;</span>,</span></span><br><span class="line"><span class="string">        markLine: &#123;</span></span><br><span class="line"><span class="string">          data: [&#123;</span></span><br><span class="line"><span class="string">            name: &#x27;平均值&#x27;,</span></span><br><span class="line"><span class="string">            type: &#x27;average&#x27;,</span></span><br><span class="line"><span class="string">            label: &#123;</span></span><br><span class="line"><span class="string">              color: color</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;]</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;]</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">    postsChart.setOption(postsOption);</span></span><br><span class="line"><span class="string">    window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123; </span></span><br><span class="line"><span class="string">      postsChart.resize();</span></span><br><span class="line"><span class="string">    &#125;);</span></span><br><span class="line"><span class="string">    postsChart.on(&#x27;click&#x27;, &#x27;series&#x27;, (event) =&gt; &#123;</span></span><br><span class="line"><span class="string">      if (event.componentType === &#x27;series&#x27;) window.location.href = &#x27;/archives/&#x27; + event.name.replace(&#x27;-&#x27;, &#x27;/&#x27;);</span></span><br><span class="line"><span class="string">    &#125;);</span></span><br><span class="line"><span class="string">  &lt;/script&gt;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tagsChart</span> (len) &#123;</span><br><span class="line">  <span class="keyword">const</span> tagArr = []</span><br><span class="line">  hexo.<span class="property">locals</span>.<span class="title function_">get</span>(<span class="string">&#x27;tags&#x27;</span>).<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">tag</span>) &#123;</span><br><span class="line">    tagArr.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: tag.<span class="property">name</span>, <span class="attr">value</span>: tag.<span class="property">length</span>, <span class="attr">path</span>: tag.<span class="property">path</span> &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">  tagArr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; <span class="keyword">return</span> b.<span class="property">value</span> - a.<span class="property">value</span> &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> dataLength = <span class="title class_">Math</span>.<span class="title function_">min</span>(tagArr.<span class="property">length</span>, len) || tagArr.<span class="property">length</span></span><br><span class="line">  <span class="keyword">const</span> tagNameArr = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; dataLength; i++) &#123;</span><br><span class="line">    tagNameArr.<span class="title function_">push</span>(tagArr[i].<span class="property">name</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> tagNameArrJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(tagNameArr)</span><br><span class="line">  <span class="keyword">const</span> tagArrJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(tagArr)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;script id=&quot;tagsChart&quot;&gt;</span></span><br><span class="line"><span class="string">    var color = document.documentElement.getAttribute(&#x27;data-theme&#x27;) === &#x27;light&#x27; ? &#x27;#4c4948&#x27; : &#x27;rgba(255,255,255,0.7)&#x27;</span></span><br><span class="line"><span class="string">    var tagsChart = echarts.init(document.getElementById(&#x27;tags-chart&#x27;), &#x27;light&#x27;);</span></span><br><span class="line"><span class="string">    var tagsOption = &#123;</span></span><br><span class="line"><span class="string">      title: &#123;</span></span><br><span class="line"><span class="string">        text: &#x27;Top <span class="subst">$&#123;dataLength&#125;</span> 标签统计图&#x27;,</span></span><br><span class="line"><span class="string">        x: &#x27;center&#x27;,</span></span><br><span class="line"><span class="string">        textStyle: &#123;</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      tooltip: &#123;&#125;,</span></span><br><span class="line"><span class="string">      xAxis: &#123;</span></span><br><span class="line"><span class="string">        name: &#x27;标签&#x27;,</span></span><br><span class="line"><span class="string">        type: &#x27;category&#x27;,</span></span><br><span class="line"><span class="string">        nameTextStyle: &#123;</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisTick: &#123;</span></span><br><span class="line"><span class="string">          show: false</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisLabel: &#123;</span></span><br><span class="line"><span class="string">          show: true,</span></span><br><span class="line"><span class="string">          color: color,</span></span><br><span class="line"><span class="string">          interval: 0</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisLine: &#123;</span></span><br><span class="line"><span class="string">          show: true,</span></span><br><span class="line"><span class="string">          lineStyle: &#123;</span></span><br><span class="line"><span class="string">            color: color</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;tagNameArrJson&#125;</span></span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      yAxis: &#123;</span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,</span></span><br><span class="line"><span class="string">        type: &#x27;value&#x27;,</span></span><br><span class="line"><span class="string">        splitLine: &#123;</span></span><br><span class="line"><span class="string">          show: false</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        nameTextStyle: &#123;</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisTick: &#123;</span></span><br><span class="line"><span class="string">          show: false</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisLabel: &#123;</span></span><br><span class="line"><span class="string">          show: true,</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        axisLine: &#123;</span></span><br><span class="line"><span class="string">          show: true,</span></span><br><span class="line"><span class="string">          lineStyle: &#123;</span></span><br><span class="line"><span class="string">            color: color</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      series: [&#123;</span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,</span></span><br><span class="line"><span class="string">        type: &#x27;bar&#x27;,</span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;tagArrJson&#125;</span>,</span></span><br><span class="line"><span class="string">        itemStyle: &#123;</span></span><br><span class="line"><span class="string">          borderRadius: [5, 5, 0, 0],</span></span><br><span class="line"><span class="string">          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;</span></span><br><span class="line"><span class="string">            offset: 0,</span></span><br><span class="line"><span class="string">            color: &#x27;rgba(128, 255, 165)&#x27;</span></span><br><span class="line"><span class="string">          &#125;,</span></span><br><span class="line"><span class="string">          &#123;</span></span><br><span class="line"><span class="string">            offset: 1,</span></span><br><span class="line"><span class="string">            color: &#x27;rgba(1, 191, 236)&#x27;</span></span><br><span class="line"><span class="string">          &#125;])</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        emphasis: &#123;</span></span><br><span class="line"><span class="string">          itemStyle: &#123;</span></span><br><span class="line"><span class="string">            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;</span></span><br><span class="line"><span class="string">              offset: 0,</span></span><br><span class="line"><span class="string">              color: &#x27;rgba(128, 255, 195)&#x27;</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">              offset: 1,</span></span><br><span class="line"><span class="string">              color: &#x27;rgba(1, 211, 255)&#x27;</span></span><br><span class="line"><span class="string">            &#125;])</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        markLine: &#123;</span></span><br><span class="line"><span class="string">          data: [&#123;</span></span><br><span class="line"><span class="string">            name: &#x27;平均值&#x27;,</span></span><br><span class="line"><span class="string">            type: &#x27;average&#x27;,</span></span><br><span class="line"><span class="string">            label: &#123;</span></span><br><span class="line"><span class="string">              color: color</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;]</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;]</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">    tagsChart.setOption(tagsOption);</span></span><br><span class="line"><span class="string">    window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123; </span></span><br><span class="line"><span class="string">      tagsChart.resize();</span></span><br><span class="line"><span class="string">    &#125;);</span></span><br><span class="line"><span class="string">    tagsChart.on(&#x27;click&#x27;, &#x27;series&#x27;, (event) =&gt; &#123;</span></span><br><span class="line"><span class="string">      if(event.data.path) window.location.href = &#x27;/&#x27; + event.data.path;</span></span><br><span class="line"><span class="string">    &#125;);</span></span><br><span class="line"><span class="string">  &lt;/script&gt;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">categoriesChart</span> (dataParent) &#123;</span><br><span class="line">  <span class="keyword">const</span> categoryArr = []</span><br><span class="line">  <span class="keyword">let</span> categoryParentFlag = <span class="literal">false</span></span><br><span class="line">  hexo.<span class="property">locals</span>.<span class="title function_">get</span>(<span class="string">&#x27;categories&#x27;</span>).<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">category</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (category.<span class="property">parent</span>) categoryParentFlag = <span class="literal">true</span></span><br><span class="line">    categoryArr.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: category.<span class="property">name</span>,</span><br><span class="line">      <span class="attr">value</span>: category.<span class="property">length</span>,</span><br><span class="line">      <span class="attr">path</span>: category.<span class="property">path</span>,</span><br><span class="line">      <span class="attr">id</span>: category.<span class="property">_id</span>,</span><br><span class="line">      <span class="attr">parentId</span>: category.<span class="property">parent</span> || <span class="string">&#x27;0&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">  categoryParentFlag = categoryParentFlag &amp;&amp; dataParent === <span class="string">&#x27;true&#x27;</span></span><br><span class="line">  categoryArr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; <span class="keyword">return</span> b.<span class="property">value</span> - a.<span class="property">value</span> &#125;)</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">translateListToTree</span> (data, parent) &#123;</span><br><span class="line">    <span class="keyword">let</span> tree = []</span><br><span class="line">    <span class="keyword">let</span> temp</span><br><span class="line">    data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (data[index].<span class="property">parentId</span> == parent) &#123;</span><br><span class="line">        <span class="keyword">let</span> obj = data[index];</span><br><span class="line">        temp = <span class="title function_">translateListToTree</span>(data, data[index].<span class="property">id</span>);</span><br><span class="line">        <span class="keyword">if</span> (temp.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          obj.<span class="property">children</span> = temp</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (tree.<span class="title function_">indexOf</span>())</span><br><span class="line">          tree.<span class="title function_">push</span>(obj)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> tree</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> categoryNameJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(categoryArr.<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">category</span>) &#123; <span class="keyword">return</span> category.<span class="property">name</span> &#125;))</span><br><span class="line">  <span class="keyword">const</span> categoryArrJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(categoryArr)</span><br><span class="line">  <span class="keyword">const</span> categoryArrParentJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="title function_">translateListToTree</span>(categoryArr, <span class="string">&#x27;0&#x27;</span>))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;script id=&quot;categoriesChart&quot;&gt;</span></span><br><span class="line"><span class="string">    var color = document.documentElement.getAttribute(&#x27;data-theme&#x27;) === &#x27;light&#x27; ? &#x27;#4c4948&#x27; : &#x27;rgba(255,255,255,0.7)&#x27;</span></span><br><span class="line"><span class="string">    var categoriesChart = echarts.init(document.getElementById(&#x27;categories-chart&#x27;), &#x27;light&#x27;);</span></span><br><span class="line"><span class="string">    var categoryParentFlag = <span class="subst">$&#123;categoryParentFlag&#125;</span></span></span><br><span class="line"><span class="string">    var categoriesOption = &#123;</span></span><br><span class="line"><span class="string">      title: &#123;</span></span><br><span class="line"><span class="string">        text: &#x27;文章分类统计图&#x27;,</span></span><br><span class="line"><span class="string">        x: &#x27;center&#x27;,</span></span><br><span class="line"><span class="string">        textStyle: &#123;</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      legend: &#123;</span></span><br><span class="line"><span class="string">        top: &#x27;bottom&#x27;,</span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;categoryNameJson&#125;</span>,</span></span><br><span class="line"><span class="string">        textStyle: &#123;</span></span><br><span class="line"><span class="string">          color: color</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      tooltip: &#123;</span></span><br><span class="line"><span class="string">        trigger: &#x27;item&#x27;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      series: []</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">    categoriesOption.series.push(</span></span><br><span class="line"><span class="string">      categoryParentFlag ? </span></span><br><span class="line"><span class="string">      &#123;</span></span><br><span class="line"><span class="string">        nodeClick :false,</span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,</span></span><br><span class="line"><span class="string">        type: &#x27;sunburst&#x27;,</span></span><br><span class="line"><span class="string">        radius: [&#x27;15%&#x27;, &#x27;90%&#x27;],</span></span><br><span class="line"><span class="string">        center: [&#x27;50%&#x27;, &#x27;55%&#x27;],</span></span><br><span class="line"><span class="string">        sort: &#x27;desc&#x27;,</span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;categoryArrParentJson&#125;</span>,</span></span><br><span class="line"><span class="string">        itemStyle: &#123;</span></span><br><span class="line"><span class="string">          borderColor: &#x27;#fff&#x27;,</span></span><br><span class="line"><span class="string">          borderWidth: 2,</span></span><br><span class="line"><span class="string">          emphasis: &#123;</span></span><br><span class="line"><span class="string">            focus: &#x27;ancestor&#x27;,</span></span><br><span class="line"><span class="string">            shadowBlur: 10,</span></span><br><span class="line"><span class="string">            shadowOffsetX: 0,</span></span><br><span class="line"><span class="string">            shadowColor: &#x27;rgba(255, 255, 255, 0.5)&#x27;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      :</span></span><br><span class="line"><span class="string">      &#123;</span></span><br><span class="line"><span class="string">        name: &#x27;文章篇数&#x27;,</span></span><br><span class="line"><span class="string">        type: &#x27;pie&#x27;,</span></span><br><span class="line"><span class="string">        radius: [30, 80],</span></span><br><span class="line"><span class="string">        roseType: &#x27;area&#x27;,</span></span><br><span class="line"><span class="string">        label: &#123;</span></span><br><span class="line"><span class="string">          color: color,</span></span><br><span class="line"><span class="string">          formatter: &#x27;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)&#x27;</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        data: <span class="subst">$&#123;categoryArrJson&#125;</span>,</span></span><br><span class="line"><span class="string">        itemStyle: &#123;</span></span><br><span class="line"><span class="string">          emphasis: &#123;</span></span><br><span class="line"><span class="string">            shadowBlur: 10,</span></span><br><span class="line"><span class="string">            shadowOffsetX: 0,</span></span><br><span class="line"><span class="string">            shadowColor: &#x27;rgba(255, 255, 255, 0.5)&#x27;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">    categoriesChart.setOption(categoriesOption);</span></span><br><span class="line"><span class="string">    window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123; </span></span><br><span class="line"><span class="string">      categoriesChart.resize();</span></span><br><span class="line"><span class="string">    &#125;);</span></span><br><span class="line"><span class="string">    categoriesChart.on(&#x27;click&#x27;, &#x27;series&#x27;, (event) =&gt; &#123;</span></span><br><span class="line"><span class="string">      if(event.data.path) window.location.href = &#x27;/&#x27; + event.data.path;</span></span><br><span class="line"><span class="string">    &#125;);</span></span><br><span class="line"><span class="string">  &lt;/script&gt;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>更多统计图的自定义属性可以查看 <a href="https://echarts.apache.org/zh/option.html">ECharts 配置项文档</a>，根据自行喜好对 ECharts 统计图进行修改。</p></li><li><p>使用统计图</p><p>在上文新建的 <code>[Blogroot]\source\charts\index.md</code> 文件中添加以下内容：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 文章发布时间统计图 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;posts-chart&quot;</span> <span class="attr">data-start</span>=<span class="string">&quot;2021-01&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 文章标签统计图 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;tags-chart&quot;</span> <span class="attr">data-length</span>=<span class="string">&quot;10&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 文章分类统计图 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;categories-chart&quot;</span> <span class="attr">data-parent</span>=<span class="string">&quot;false&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>当然也可以在其他页面引入文章统计图，如果出现图表显示不全的现象可以修改 <code>div</code> 的 <code>height</code> 属性。。</p><ul><li><code>posts-chart</code> 的 <code>data-start=&quot;2021-01&quot;</code> 属性表示文章发布时间统计图仅显示 <code>2021-01</code> 及以后的文章数据。</li><li><code>tags-chart</code> 的 <code>data-length=&quot;10&quot;</code> 属性表示仅显示排名前 <code>10</code> 的标签。</li><li><code>categories-chart</code> 的 <code>data-parent=&quot;true&quot;</code> 属性表示 <code>有子分类</code> 时以旭日图显示分类，其他 <code>无子分类</code> 或 <code>设置为false</code> 或 <code>不设置该属性</code> 或 <code>设置为其他非true属性</code> 情况都以饼状图显示分类。</li></ul><p><strong>具体效果如下图所示：</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/b06e46a34182ed05f851b10fe364da65.png" alt="多层分类旭日图"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/ae8ddbce46e14f54ab9fd1afb3afde00.png" alt="分类饼状图"></p></li><li><p>在时间轴页面使用统计图</p><p><code>[Blogroot]\themes\butterfly\layout\archive.pug</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  #archive</span><br><span class="line"><span class="addition">+    &lt;div id=&quot;posts-chart&quot; data-start=&quot;2021-01&quot; style=&quot;height: 300px; padding: 10px;&quot;&gt;&lt;/div&gt;</span></span><br><span class="line">    .article-sort-title= `$&#123;_p(&#x27;page.articles&#x27;)&#125; - $&#123;getArchiveLength()&#125;`</span><br></pre></td></tr></table></figure><p>或者写成 pug 文件语法 <code>#posts-chart(data-start=&quot;2021-01&quot; style=&quot;height: 300px; padding: 10px;&quot;)</code>。</p></li><li><p>在分类页面使用统计图</p><p>总分类页 <code>/categories</code>，在 <code>[Blogroot]\themes\butterfly\layout\includes\page\categories.pug</code> 添加：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  .category-lists!= list_categories()</span><br><span class="line"><span class="addition">+ &lt;div id=&quot;categories-chart&quot; data-parent=&quot;false&quot; style=&quot;height: 300px; padding: 10px;&quot;&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><p>各分类页 <code>/categories/[分类]</code>，在 <code>[Blogroot]\themes\butterfly\layout\category.pug</code> 添加：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  if theme.category_ui == &#x27;index&#x27;</span><br><span class="line">    include ./includes/mixins/post-ui.pug</span><br><span class="line">    #recent-posts.recent-posts.category_ui</span><br><span class="line">      +postUI</span><br><span class="line">      include includes/pagination.pug</span><br><span class="line">  else</span><br><span class="line">    include ./includes/mixins/article-sort.pug</span><br><span class="line">    #category</span><br><span class="line"><span class="addition">+     #categories-chart(data-parent=&quot;false&quot; style=&quot;height: 300px; padding: 10px;&quot;)</span></span><br></pre></td></tr></table></figure><p>或者写成 pug 文件语法 <code>#categories-chart(data-parent=&quot;false&quot; style=&quot;height: 300px; padding: 10px;&quot;)</code>。</p></li><li><p>在标签页使用统计图</p><p>总标签页 <code>/tags</code>，在 <code>[Blogroot]\themes\butterfly\layout\includes\page\tags.pug</code> 添加：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  .tag-cloud-list.is-center</span><br><span class="line">    !=cloudTags(&#123;source: site.tags, orderby: page.orderby || &#x27;random&#x27;, order: page.order || 1, minfontsize: 1.2, maxfontsize: 2.1, limit: 0, unit: &#x27;em&#x27;&#125;)</span><br><span class="line"><span class="addition">+ &lt;div id=&quot;tags-chart&quot; data-length=&quot;10&quot; style=&quot;height: 300px; padding: 10px;&quot;&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><p>各标签页 <code>/tags/[标签]</code>，在 <code>[Blogroot]\themes\butterfly\layout\tag.pug</code> 添加：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  if theme.tag_ui == &#x27;index&#x27;</span><br><span class="line">    include ./includes/mixins/post-ui.pug</span><br><span class="line">    #recent-posts.recent-posts</span><br><span class="line">      +postUI</span><br><span class="line">      include includes/pagination.pug</span><br><span class="line">  else</span><br><span class="line">    include ./includes/mixins/article-sort.pug</span><br><span class="line">    #tag</span><br><span class="line"><span class="addition">+     &lt;div id=&quot;tags-chart&quot; data-length=&quot;10&quot; style=&quot;height: 300px; padding: 10px;&quot;&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><p>或者写成 pug 文件语法 <code>#tags-chart(data-length=&quot;10&quot; style=&quot;height: 300px; padding: 10px;&quot;)</code>。</p></li><li><p>时间轴页图片放大</p><p>在自定义的<code>custom.js</code>中加入</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*------ 归档页图片放大 -------*/</span></span><br><span class="line"><span class="selector-class">.article-sort-item-img</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">120px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*----- 归档页图片放大end -----*/</span></span><br></pre></td></tr></table></figure></li><li><p>将分类页面的 ul 的 li 变为横向，<code>[BlogRoot]\themes\butterfly\source\css\_page\categories.styl</code>中加入</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    ul</span><br><span class="line">      padding-left: 4px</span><br><span class="line"><span class="addition">+     list-style-type: none;</span></span><br><span class="line"></span><br><span class="line">    li</span><br><span class="line"><span class="deletion">-     // position: relative</span></span><br><span class="line"><span class="addition">+     display: inline-block;</span></span><br><span class="line">      margin: 6px 0</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>魔改教程总结（一）</title>
      <link href="/post/781096aa.html"/>
      <url>/post/781096aa.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>前言</strong>📇</p><ol><li>本文参考<a href="https://www.fomal.cc/posts/eec9786.html">博客魔改教程总结(一)</a>、<a href="https://www.fomal.cc/posts/5389e93f.html">博客魔改教程总结(二)</a>、<a href="https://blog.csdn.net/wushibo123/article/details/124619123">【2023最新版】Hexo+github搭建个人博客并绑定个人域名</a>、<a href="https://akilar.top/posts/d2ebecef/">Iconfont Inject</a>、<a href="https://akilar.top/posts/23fdf850/">糖果屋微调合集</a></li><li>本系列基本上都是各位大佬造好的轮子，具体参考 <a href="https://www.fomal.cc/">Fomalhaut大佬</a>。其目的在于防止各位大佬的链接失效，且个人复习总结使用，如有侵权请联系删除。</li><li>本系列起始空白的虚拟机，一步一步搭建魔改页面，使用本地端口。若想部署在其它平台，可自寻查找。</li><li>鉴于每个人的根目录名称都不一样，本帖<strong>博客根目录</strong>一律以<code>[BlogRoot]</code>指代。</li><li>本帖涉及魔改源码的内容，会使用<strong>diff代码块</strong>标识，复制时请<strong>不要忘记删除</strong>前面的<code>+、-</code>符号。</li><li>因为<code>.pug</code>和<code>.styl</code>以及<code>.yml</code>等对缩进要求较为严格，请尽量<strong>不要使用记事本等无法提供语法高亮的文本编辑器</strong>进行修改。</li><li>本系列基于<code>Butterfly主题</code>进行魔改方案编写，hexo 版本 <code>6.3.0</code>，Butterfly 版本 <code>4.12.0</code>。</li><li>魔改会过程常常引入<strong>自定义的css与js文件</strong>，具体方法见方法见<a href="https://b.leonus.cn/2022/custom.html">Hexo博客添加自定义css和js文件</a></li></ol></blockquote><p><strong>博客搭建与魔改系列教程导航🚥🚥🚥</strong></p><ol><li>🎀<a href="https://redbeancc.github.io/post/3324b066.html">hexo基础搭建教程（一）</a></li><li>🎆<a href="https://redbeancc.github.io/post/837c228f.html">hexo基础搭建教程（二）</a></li><li>🎇<a href="https://redbeancc.github.io/post/781096aa.html">魔改教程总结（一）</a>⬅当前位置🛸</li><li>🧨<a href="https://redbeancc.github.io/post/48067a72.html">魔改教程总结（二）</a></li><li>✨<a href="https://redbeancc.github.io/post/518d920.html">魔改教程总结（三）</a></li></ol><h1 id="生成文章唯一链接"><a href="#生成文章唯一链接" class="headerlink" title="生成文章唯一链接"></a>生成文章唯一链接</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/2a27183854352c1440789dc71aa4f80a.png" alt="image-20240301171335465"></p></div></div><p>Hexo的默认文章链接格式是年，月，日，标题这种格式来生成的。如果你的标题是中文的话，那你的URL链接就会包含中文，</p><p>复制后的URL路径就是把中文变成了一大堆字符串编码，如果你在其他地方用这边文章的url链接，偶然你又修改了改文章的标题，那这个URL链接就会失效。为了给每一篇文章来上一个属于自己的链接，写下此教程，利用 hexo-abbrlink 插件，A Hexo plugin to generate static post link based on post titles ,来解决这个问题。 参考github官方： hexo-abbrlink 按照此教程配置完之后如下：</p><ol><li><p>安装插件，在博客根目录 <code>[BlogRoot]</code> 下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure></li><li><p>插件安装成功后，在根目录 <code>[Blogroot]</code>的配置文件 <code>_config.yml</code>找到 permalink：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># permalink: :year/:month/:day/:title/</span><br><span class="line"><span class="deletion">- permalink: :year/:month/:day/:title/</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+ permalink: post/:abbrlink.html</span></span><br><span class="line"><span class="addition">+ abbrlink:</span></span><br><span class="line"><span class="addition">+   alg: crc32</span></span><br><span class="line"><span class="addition">+   rep: hex</span></span><br></pre></td></tr></table></figure></li><li><p>执行 hexo 三连</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li><li><p>每次执行三连后，文章会自动获取唯一链接</p></li></ol>              </div>            </details><h1 id="页面样式调节"><a href="#页面样式调节" class="headerlink" title="页面样式调节"></a>页面样式调节</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>这个教程是通过css样式调节各个页面透明度、模糊度（亚克力效果）、圆角、边框样式等，看起来会更加舒适。</p><ol><li><p>复制以下代码进去自定义的<code>custom.css</code>文件</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*---------------- 页面样式调节---------------------- */</span></span><br><span class="line">  <span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attr">--trans-light</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.88</span>);</span><br><span class="line">    <span class="attr">--trans-dark</span>: <span class="built_in">rgba</span>(<span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>, <span class="number">0.88</span>);</span><br><span class="line">    <span class="attr">--border-style</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">169</span>, <span class="number">169</span>, <span class="number">169</span>);</span><br><span class="line">    <span class="attr">--backdrop-filter</span>: <span class="built_in">blur</span>(<span class="number">5px</span>) <span class="built_in">saturate</span>(<span class="number">150%</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* 首页文章卡片 */</span></span><br><span class="line">  <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--border-style);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* 首页侧栏卡片 */</span></span><br><span class="line">  <span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--border-style);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* 文章页、归档页、普通页面 */</span></span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-id">#post</span>,</span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-id">#page</span>,</span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-id">#archive</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--border-style);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* 导航栏 */</span></span><br><span class="line">  <span class="selector-id">#page-header</span><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.75</span>);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#page-header</span><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.7</span>) <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* 夜间模式遮罩 */</span></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span>,</span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span>,</span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#post</span>,</span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#archive</span>,</span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#page</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-dark);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/*---------------- 页面样式调节---------------------- */</span></span><br></pre></td></tr></table></figure></li><li><p>参数说明：</p><ul><li><code>--trans-light</code>：白天模式带透明度的背景色，如<code>rgba(255, 255, 255, 0.88)</code>底色是纯白色，其中0.88就透明度，在0-1之间调节，值越大越不透明；</li><li><code>--trans-dark</code>: 夜间模式带透明度的背景色，如<code>rgba(25, 25, 25, 0.88)</code>底色是柔和黑色，其中0.88就透明度，在0-1之间调节，值越大越不透明;</li><li><code>--border-style</code>: 边框样式，<code>1px solid rgb(169, 169, 169)</code>指宽度为1px的灰色实体边框;</li><li><code>--backdrop-filter</code>: 背景过滤器，如<code>blur(5px) saturate(150%)</code>表示饱和度为150%的、高斯模糊半径为5px的过滤器，这是亚克力效果的一种实现方法;</li><li>大家可以根据自己喜好进行调节，不用拘泥于我的样式！</li></ul></li><li><p>记住在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项中引入该css文件：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject: </span><br><span class="line">  head: </span><br><span class="line"><span class="addition">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot;&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>重启项目即可看见效果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="一图流教程"><a href="#一图流教程" class="headerlink" title="一图流教程"></a>一图流教程</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/192149b0dce0ae6ec120800e184c216f.png" alt="image-20240301162214003"></p></div></div><ol><li><p>在<code>[BlogRoot]\source</code>文件夹下新建一个文件夹<code>css</code>，该文件夹用于存放自定义的<code>css样式</code>，再新建一个名为<code>custom.css</code>，在里面写入以下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 一图流教程 */</span></span><br><span class="line">  <span class="comment">/* 白天模式头图与页脚遮罩 */</span></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* 页脚与头图透明 */</span></span><br><span class="line">  <span class="selector-id">#footer</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>) <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#page-header</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/* 夜间模式页脚遮罩隐藏 */</span></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/* 夜间模式页脚头部遮罩隐藏 */</span></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* 阅读模式 */</span></span><br><span class="line">  <span class="selector-class">.read-mode</span> <span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">158</span>, <span class="number">204</span>, <span class="number">171</span>, <span class="number">0.5</span>) <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.read-mode</span> <span class="selector-tag">div</span><span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">158</span>, <span class="number">204</span>, <span class="number">171</span>, <span class="number">0.5</span>) <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* 夜间模式下的阅读模式 */</span></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.read-mode</span> <span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>, <span class="number">0.9</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ffffff</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.read-mode</span> <span class="selector-tag">div</span><span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>, <span class="number">0.9</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ffffff</span>;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">/* 一图流教程end */</span></span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>文件中的<code>inject</code>配置项的<code>head</code>子项加入以下代码，代表引入刚刚创建的<code>custom.css</code>文件（这是相对路径的写法）</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>文件中的<code>index_img</code>和<code>footer_bg</code>配置项取消头图与页脚图的加载项避免冗余加载</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The banner image of home page</span></span><br><span class="line"><span class="attr">index_img:</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Footer Background</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><p>部分人反映一图流改完了背景图也没了，那大概率是你之前没设置背景图。在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>文件中的<code>background</code>配置项设置背景图</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">background:</span>  <span class="string">url(/img/home_bg.webp)</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="首页分类磁贴1-0（小冰）"><a href="#首页分类磁贴1-0（小冰）" class="headerlink" title="首页分类磁贴1.0（小冰）"></a>首页分类磁贴1.0（小冰）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/c4c60ccbf388e5ea4cf2d6d2aa7c0c51.png" alt="image-20240301170233497"></p></div></div><p>这个插件主要实现了以下功能：</p><ol><li>自定义 tags 或 categories 的排列和展示</li><li>自定义 tags 或 categories 的展示图标，名称</li><li>自定义排列的行数，默认 2 行</li></ol><div class="note warning flat"><p>这个插件在 hexo 7.0.0 版本会报错，回退版本到 hexo 6.3.0 即可</p></div><p><strong>教程：</strong></p><ol><li><p>在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-magnet --save</span><br></pre></td></tr></table></figure><p>注意，一定要加 <code>--save</code>，不然本地预览的时候可能不会显示！！！</p></li><li><p>在网站配置文件<code>_config.yml</code>新增以下项 (注意不是主题配置文件)，这里的<code>分类名字必须和你文章的分类名字一一对应</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">magnet:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">categories</span></span><br><span class="line">  <span class="attr">devide:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">教程</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の魔改教程</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">📚</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">游戏评测</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の游戏评测</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">🎮</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生活趣闻</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の生活趣闻</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">🐱‍👓</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">vue</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の编程学习</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">👩‍💻</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">学习</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の读书笔记</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">📒</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">随想</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の胡思乱想</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">💡</span></span><br><span class="line">  <span class="attr">color_setting:</span></span><br><span class="line">    <span class="attr">text_color:</span> <span class="string">black</span></span><br><span class="line">    <span class="attr">text_hover_color:</span> <span class="string">white</span></span><br><span class="line">    <span class="attr">background_color:</span> <span class="string">&quot;#rgb(233,233,233)&quot;</span></span><br><span class="line">    <span class="attr">background_hover_color:</span> <span class="string">&quot;rgb(115,213,206)&quot;</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">temple_html:</span> <span class="string">&#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height: auto&quot;&gt;&lt;div id=&quot;catalog_magnet&quot;&gt;$&#123;temple_html_item&#125;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">  <span class="attr">plus_style:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>配置项的含义：</p><ul><li><p>enable</p><p>参数：true/false<br>含义：是否开启插件</p></li><li><p>enable_page</p><p>参数：/<br>含义：路由地址，如 / 代表主页。/me/ 代表自我介绍页等等</p></li><li><p>priority</p><p>参数：1<br>含义：插件的叠放顺序，数字越大，叠放约靠前。</p></li><li><p>type</p><p>参数：categories/tags<br>含义：选择筛选分类还是标签</p></li><li><p>devide</p><p>参数：2<br>含义：表示分隔的列数，2 表示分为两列展示</p></li><li><p>display</p><p>参数：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">教程</span> <span class="comment"># 这里是tags或者categories的名称</span></span><br><span class="line">  <span class="attr">display_name:</span> <span class="string">小冰の魔改教程</span> <span class="comment"># 这里是替换的名称</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">📚</span> <span class="comment"># 这里是展示的图标</span></span><br></pre></td></tr></table></figure><p>含义：配置项，可自行设置，按照设置的顺序展示</p></li><li><p>color_setting</p><p>参数：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">text_color:</span> <span class="string">black</span> <span class="comment"># 文字默认颜色</span></span><br><span class="line"><span class="attr">text_hover_color:</span> <span class="string">white</span> <span class="comment"># 文字鼠标悬浮颜色</span></span><br><span class="line"><span class="attr">background_color:</span> <span class="string">&quot;#f2f2f2&quot;</span> <span class="comment"># 文字背景默认颜色</span></span><br><span class="line"><span class="attr">background_hover_color:</span> <span class="string">&quot;#b30070&quot;</span> <span class="comment"># 文字背景悬浮颜色</span></span><br></pre></td></tr></table></figure><p>含义：颜色配置项，可自行设置</p></li><li><p>layout</p><p>参数：type; （class&amp;id）<br>参数：name;<br>参数：index；（数字）<br>含义：如果说 magnet 是一幅画，那么这个 layout 就是指定了哪面墙来挂画<br>而在 HTML 的是世界里有两种墙分别 type 为 id 和 class。<br>其中在定义 class 的时候会出现多个 class 的情况，这时就需要使用 index，确定是哪一个。<br>最后墙的名字即是 name;</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是墙&quot;</span> <span class="attr">id</span>=<span class="string">&quot;recent-posts&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- id=&gt;type  recent-posts=&gt;name    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是画框&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是纸&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--这里通过js挂载magnet，也就是画画--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>temple_html</p><p>参数：html 模板字段<br>含义：包含挂载容器</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recent-post-item&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;height: auto&quot;</span>&gt;</span> <span class="comment">&lt;!--文章容器--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;catalog_magnet&quot;</span>&gt;</span>  <span class="comment">&lt;!--挂载容器--&gt;</span></span><br><span class="line">    $&#123;temple_html_item&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>plus_style</p><p>参数：“”<br>含义：提供可自定义的 style，如加入黑夜模式。</p></li></ul></li><li><p>执行 hexo 三连</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li><li><p>我们可以看到黑夜模式看起来特别的别扭，因此还要做一下黑夜模式的颜色适配，在<code>custom.css</code>文件中添加以下代码适配黑夜模式(具体颜色可以自己调节)：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 小冰分类分类磁铁黑夜模式适配 */</span></span><br><span class="line"><span class="comment">/* 一般状态 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.magnet_link_context</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#1e1e1e</span>;</span><br><span class="line">  <span class="attribute">color</span>: antiquewhite;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标悬浮状态 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.magnet_link_context</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">54</span>,<span class="number">185</span>,<span class="number">176</span>);</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#f2f2f2</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 首页分类磁贴end */</span></span><br></pre></td></tr></table></figure></li></ol><div class="note warning flat"><p>如果点击链接跳转错误，检查：</p><ol><li><p>categories的名称和 name 是否一致</p></li><li><p>观察浏览器地址发现跳转到了 <code>http://example.com</code>，修改<code>_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="comment">#url: http://example.com</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://localhost:4000</span></span><br></pre></td></tr></table></figure><p>后期可以将这个地址改为托管平台的地址。</p></li></ol></div>              </div>            </details><h1 id="文章置顶滚动栏（店长）"><a href="#文章置顶滚动栏（店长）" class="headerlink" title="文章置顶滚动栏（店长）"></a>文章置顶滚动栏（店长）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/1599709f18a14ac146e5ef95fb2206c0.png" alt="image-20240301172531850"></p></div></div><ol><li><p>安装插件,在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-swiper --save</span><br></pre></td></tr></table></figure></li><li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-swiper</span></span><br><span class="line"><span class="comment"># 首页轮播图</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/8e1264d1/</span></span><br><span class="line"><span class="attr">swiper:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">1</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">timemode:</span> <span class="string">date</span> <span class="comment">#date/updated</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">default_descr:</span> <span class="string">再怎么看我也不知道怎么描述它的啦！</span></span><br><span class="line">  <span class="comment"># swiper_css: /css/swiper.min.css #swiper css依赖</span></span><br><span class="line">  <span class="comment"># swiper_js: /js/swiper.min.js #swiper js依赖</span></span><br><span class="line">  <span class="comment"># custom_css: /css/swiperstyle.css # 适配主题样式补丁</span></span><br><span class="line">  <span class="comment"># custom_js: /js/swiper_init.js # swiper初始化方法</span></span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span> <span class="comment">#swiper css依赖</span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span> <span class="comment">#swiper js依赖</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css</span> <span class="comment"># 适配主题样式补丁</span></span><br><span class="line">  <span class="attr">custom_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js</span> <span class="comment"># swiper初始化方法</span></span><br></pre></td></tr></table></figure></li><li><p>参数释义</p></li></ol><div class="table-container"><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">备选值/类型</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">priority</td><td style="text-align:left">number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td style="text-align:left">enable</td><td style="text-align:left">true/false</td><td style="text-align:left">【必选】控制开关</td></tr><tr><td style="text-align:left">enable_page</td><td style="text-align:left">path/all</td><td style="text-align:left">【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为all</td></tr><tr><td style="text-align:left">timemode</td><td style="text-align:left">date/updated</td><td style="text-align:left">【可选】时间显示，date为显示创建日期，updated为显示更新日期,默认为date</td></tr><tr><td style="text-align:left">layout.type</td><td style="text-align:left">id/class</td><td style="text-align:left">【可选】挂载容器类型，填写id或class，不填则默认为id</td></tr><tr><td style="text-align:left"><a href="http://layout.name/">layout.name</a></td><td style="text-align:left">text</td><td style="text-align:left">【必选】挂载容器名称</td></tr><tr><td style="text-align:left">layout.index</td><td style="text-align:left">0和正整数</td><td style="text-align:left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td></tr><tr><td style="text-align:left">default_descr</td><td style="text-align:left">text</td><td style="text-align:left">默认文章描述</td></tr><tr><td style="text-align:left">swiper_css</td><td style="text-align:left">url</td><td style="text-align:left">【可选】自定义的swiper依赖项css链接</td></tr><tr><td style="text-align:left">swiper_js</td><td style="text-align:left">url</td><td style="text-align:left">【可选】自定义的swiper依赖项加js链接</td></tr><tr><td style="text-align:left">custom_css</td><td style="text-align:left">url</td><td style="text-align:left">【可选】适配主题样式补丁</td></tr><tr><td style="text-align:left">custom_js</td><td style="text-align:left">url</td><td style="text-align:left">【可选】swiper初始化方法</td></tr></tbody></table></div><p>使用方法:在文章的<code>front_matter</code>中添加<code>swiper_index</code>配置项即可。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章标题</span><br><span class="line">date: 创建日期</span><br><span class="line">updated: 更新日期</span><br><span class="line">cover: 文章封面</span><br><span class="line">description: 文章描述</span><br><span class="line"><span class="section">swiper<span class="emphasis">_index: 1 #置顶轮播图顺序，非负整数，数字越大越靠前</span></span></span><br><span class="line"><span class="emphasis"><span class="section">---</span></span></span><br></pre></td></tr></table></figure>              </div>            </details><h1 id="自定义字体"><a href="#自定义字体" class="headerlink" title="自定义字体"></a>自定义字体</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="note warning flat"><p>声明：<strong>非商免字体</strong>未经授权仅限个人使用，不得用于商业用途！</p></div><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/b840292d3f7abfad07187f9a7f7330c5.png" alt="image-20240301173924313"></p></div></div><ol><li><p>准备好字体文件后，在<code>[BlogRoot]\source\css\custom.css</code>（没有就自己创建）中添加以下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*------------- 自定义字体 ------------------*/</span></span><br><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="comment">/* 为载入的字体取名字(随意) */</span></span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;redbean&#x27;</span>;</span><br><span class="line">  <span class="comment">/* 字体文件地址(相对或者绝对路径都可以，/source 为根目录 /) */</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">/font/ZhuZiAWan.woff2</span>);</span><br><span class="line">  <span class="comment">/* 定义加粗样式(加粗多少) */</span></span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="comment">/* 定义字体样式(斜体/非斜体) */</span></span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="comment">/* 定义显示样式 */</span></span><br><span class="line">  <span class="attribute">font-display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*------------- 自定义字体end ------------------*/</span></span><br></pre></td></tr></table></figure></li><li><p>各个属性的定义：</p><ol><li>font-family属性值中使用webfont来声明使用的是服务器端字体，即设置文本的字体名称。</li><li>src属性值中首先指定了字体文件所在的路径。</li><li>format声明字体文件的格式，可以省略文件格式的声明，单独使用src属性值。</li><li>font-style：设置文本样式。取值：normal:不使用斜体；italic:使用斜体；oblique:使用倾斜体；inherit：从父元素继承。</li><li>支持格式：<em>.eot(老版本IE)，</em>.otf，<em>.ttf，</em>.woff，*.woff2(推荐)</li></ol></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>中的<code>font</code>配置项以及<code>blog_title_font</code>配置项写上你刚刚引入的字体名称，系统会根据先后次序从前到后依次加载这些字体：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Global font settings</span></span><br><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span> <span class="string">&#x27;15px&#x27;</span></span><br><span class="line">  <span class="attr">code-font-size:</span> <span class="string">&#x27;14px&#x27;</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">redbean,</span> <span class="string">Consolas,</span> <span class="string">-apple-system,</span> <span class="string">&#x27;Quicksand&#x27;</span><span class="string">,</span> <span class="string">&#x27;Nimbus Roman No9 L&#x27;</span><span class="string">,</span> <span class="string">&#x27;PingFang SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Hiragino Sans GB&#x27;</span><span class="string">,</span> <span class="string">&#x27;Noto Serif SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft Yahei&#x27;</span><span class="string">,</span> <span class="string">&#x27;WenQuanYi Micro Hei&#x27;</span><span class="string">,</span> <span class="string">&#x27;ST Heiti&#x27;</span><span class="string">,</span> <span class="string">sans-serif;</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">Consolas,</span> <span class="string">redbean,</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">Menlo,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Font settings for the site title and site subtitle</span></span><br><span class="line"><span class="comment"># 左上角網站名字 主頁居中網站名字</span></span><br><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">var(--global-font)</span></span><br></pre></td></tr></table></figure></li><li><p>重启项目即可看到</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="wowjs动画（首页卡片弹出的动画）"><a href="#wowjs动画（首页卡片弹出的动画）" class="headerlink" title="wowjs动画（首页卡片弹出的动画）"></a>wowjs动画（首页卡片弹出的动画）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/f0a6a445402914a3751508d0fe06a98d.png" alt="image-20240301174350860"></p></div></div><ol><li><p>安装插件,在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-wowjs --save</span><br></pre></td></tr></table></figure></li><li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wowjs动画特效</span></span><br><span class="line"><span class="comment"># see https://www.npmjs.com/package/hexo-butterfly-wowjs</span></span><br><span class="line"><span class="attr">wowjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制动画开关。true是打开，false是关闭</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">10</span> <span class="comment">#过滤器优先级</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment">#移动端是否启用，默认移动端禁用</span></span><br><span class="line">  <span class="attr">animateitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">recent-post-item</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span> <span class="comment"># animate__zoomIn #必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">200ms</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">30</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> <span class="comment">#选填项，动画重复的次数</span></span><br><span class="line">    <span class="comment"># 置顶滚动栏</span></span><br><span class="line">    <span class="comment"># - class: blog-slider swiper-container-fade swiper-container-horizontal</span></span><br><span class="line">    <span class="comment">#   style: animate__zoomIn</span></span><br><span class="line">    <span class="comment">#   duration: 1.5s</span></span><br><span class="line">    <span class="comment">#   delay: 200ms</span></span><br><span class="line">    <span class="comment">#   offset: 30</span></span><br><span class="line">    <span class="comment">#   iteration: 1</span></span><br><span class="line">    <span class="comment"># 分类磁贴</span></span><br><span class="line">    <span class="comment"># - class: catalog_magnet</span></span><br><span class="line">    <span class="comment">#   style: animate__zoomIn</span></span><br><span class="line">    <span class="comment">#   duration: 1.5s·</span></span><br><span class="line">    <span class="comment">#   delay: 200ms</span></span><br><span class="line">    <span class="comment">#   offset: 30</span></span><br><span class="line">    <span class="comment">#   iteration: 1</span></span><br><span class="line">    <span class="comment"># 侧边卡片栏</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-widget</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">200ms</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">30</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span></span><br><span class="line">    <span class="comment"># 分页按钮</span></span><br><span class="line">    <span class="comment"># - class: pagination</span></span><br><span class="line">    <span class="comment">#   style: animate__jackInTheBox</span></span><br><span class="line">    <span class="comment">#   duration: 1.5s</span></span><br><span class="line">    <span class="comment">#   delay: 200ms</span></span><br><span class="line">    <span class="comment">#   offset: 30</span></span><br><span class="line">    <span class="comment">#   iteration: 1</span></span><br><span class="line">    <span class="comment"># 友链卡片</span></span><br><span class="line">    <span class="comment"># - class: flink-list-card</span></span><br><span class="line">    <span class="comment">#   style: animate__flipInY</span></span><br><span class="line">    <span class="comment">#   duration: 3s</span></span><br><span class="line">    <span class="comment"># - class: flink-list-card</span></span><br><span class="line">    <span class="comment">#   style: animate__animated</span></span><br><span class="line">    <span class="comment">#   duration: 3s</span></span><br><span class="line">    <span class="comment"># - class: article-sort-item</span></span><br><span class="line">    <span class="comment">#   style: animate__slideInRight</span></span><br><span class="line">    <span class="comment">#   duration: 1.5s</span></span><br><span class="line">    <span class="comment"># - class: site-card</span></span><br><span class="line">    <span class="comment">#   style: animate__flipInY</span></span><br><span class="line">    <span class="comment">#   duration: 3s</span></span><br><span class="line">    <span class="comment"># - class: site-card</span></span><br><span class="line">    <span class="comment">#   style: animate__animated</span></span><br><span class="line">    <span class="comment">#   duration: 3s</span></span><br><span class="line">  <span class="attr">animate_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</span></span><br><span class="line">  <span class="attr">wow_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</span></span><br><span class="line">  <span class="attr">wow_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</span></span><br></pre></td></tr></table></figure></li><li><p>参数释义</p></li></ol><div class="table-container"><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">备选值/类型</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">enable</td><td style="text-align:left">true/false</td><td style="text-align:left">【必选】控制开关</td></tr><tr><td style="text-align:left">priority</td><td style="text-align:left">number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td style="text-align:left">mobile</td><td style="text-align:left">true/false</td><td style="text-align:left">控制移动端是否启用，默认移动端禁用</td></tr><tr><td style="text-align:left">animateitem.class</td><td style="text-align:left">class</td><td style="text-align:left">【可选】添加动画类名，只支持给class添加</td></tr><tr><td style="text-align:left">animateitem.style</td><td style="text-align:left">text</td><td style="text-align:left">【可选】动画样式，具体类型参考<a href="https://animate.style/">animate.css</a></td></tr><tr><td style="text-align:left">animateitem.duration</td><td style="text-align:left">time,单位为s或ms</td><td style="text-align:left">【可选】动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</td></tr><tr><td style="text-align:left">animateitem.delay</td><td style="text-align:left">time,单位为s或ms</td><td style="text-align:left">【可选】动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</td></tr><tr><td style="text-align:left">animateitem.offset</td><td style="text-align:left">number,单位为px</td><td style="text-align:left">【可选】开始动画的距离（相对浏览器底部）。</td></tr><tr><td style="text-align:left">animateitem.iteration</td><td style="text-align:left">number,单位为s或ms</td><td style="text-align:left">【可选】动画重复的次数</td></tr><tr><td style="text-align:left">animate_css</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】animate.css的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</code></td></tr><tr><td style="text-align:left">wow_js</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】wow.min.js的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</code></td></tr><tr><td style="text-align:left">wow_init_js</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】wow_init.js的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</code></td></tr></tbody></table></div><p>wowjs详细用法见原帖。</p>              </div>            </details><h1 id="配置手机PC页面白天黑夜共四个背景图（店长）"><a href="#配置手机PC页面白天黑夜共四个背景图（店长）" class="headerlink" title="配置手机PC页面白天黑夜共四个背景图（店长）"></a>配置手机PC页面白天黑夜共四个背景图（店长）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/95f00b811a411da1688653ffa549eb49.png" alt="image-20240301203034108"></p></div></div><p>详见：<a href="https://akilar.top/posts/23fdf850/">糖果屋微调合集</a></p><ol><li><p>首先是PC端的白天黑夜双背景，修改<code>[BlogRoot]\themes\butterfly\layout\includes\layout.pug</code>，大概在14，15行左右</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ - var DefaultBg = page.defaultbg ? page.defaultbg : theme.background.default</span></span><br><span class="line"><span class="addition">+ - var DDMBg = theme.background.darkmode ? theme.background.darkmode : DefaultBg</span></span><br><span class="line"><span class="addition">+ - var DarkmodeBg = page.darkmodebg ? page.darkmodebg : DDMBg</span></span><br><span class="line">  if theme.background</span><br><span class="line">    #web_bg</span><br><span class="line"><span class="addition">+     if page.defaultbg || page.darkmodebg</span></span><br><span class="line"><span class="addition">+       style.</span></span><br><span class="line"><span class="addition">+         #web_bg&#123;</span></span><br><span class="line"><span class="addition">+           background: #&#123;DefaultBg&#125; !important;</span></span><br><span class="line"><span class="addition">+           background-attachment: local!important;</span></span><br><span class="line"><span class="addition">+           background-position: center!important;</span></span><br><span class="line"><span class="addition">+           background-size: cover!important;</span></span><br><span class="line"><span class="addition">+           background-repeat: no-repeat!important;</span></span><br><span class="line"><span class="addition">+         &#125;</span></span><br><span class="line"><span class="addition">+         [data-theme=&quot;dark&quot;]</span></span><br><span class="line"><span class="addition">+           #web_bg&#123;</span></span><br><span class="line"><span class="addition">+             background: #&#123;DarkmodeBg&#125; !important;</span></span><br><span class="line"><span class="addition">+             background-attachment: local!important;</span></span><br><span class="line"><span class="addition">+             background-position: center!important;</span></span><br><span class="line"><span class="addition">+             background-size: cover!important;</span></span><br><span class="line"><span class="addition">+             background-repeat: no-repeat!important;</span></span><br><span class="line"><span class="addition">+           &#125;</span></span><br></pre></td></tr></table></figure></li><li><p>再是实现手机端的白天黑夜双背景，在<code>[BlogRoot]\themes\butterfly\source\css\_layout</code>目录下新建一个<code>web-bg.styl</code>文件，写入以下内容：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$web</span>-bg-night = <span class="built_in">hexo-config</span>(<span class="string">&#x27;background.darkmode&#x27;</span>) ? <span class="built_in">unquote</span>(<span class="built_in">hexo-config</span>(<span class="string">&#x27;background.darkmode&#x27;</span>)) : <span class="variable">$web</span>-bg</span><br><span class="line"><span class="variable">$mobile</span>-bg-day = <span class="built_in">hexo-config</span>(<span class="string">&#x27;background.mobileday&#x27;</span>) ? <span class="built_in">unquote</span>(<span class="built_in">hexo-config</span>(<span class="string">&#x27;background.mobileday&#x27;</span>)) : <span class="variable">$web</span>-bg</span><br><span class="line"><span class="variable">$mobile</span>-bg-night = <span class="built_in">hexo-config</span>(<span class="string">&#x27;background.mobilenight&#x27;</span>) ? <span class="built_in">unquote</span>(<span class="built_in">hexo-config</span>(<span class="string">&#x27;background.mobilenight&#x27;</span>)) : <span class="variable">$web</span>-bg-night</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line">  <span class="selector-id">#web_bg</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$web</span>-bg-night</span><br><span class="line">    <span class="attribute">background-attachment</span>: local</span><br><span class="line">    <span class="attribute">background-position</span>: center</span><br><span class="line">    <span class="attribute">background-size</span>: cover</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">800px</span>)</span><br><span class="line">  #web_bg</span><br><span class="line">    background: $mobile-bg-day !important</span><br><span class="line">    background-attachment: local !important</span><br><span class="line">    background-position: center !important</span><br><span class="line">    background-size: cover !important</span><br><span class="line">    background-repeat: no-repeat !important</span><br><span class="line">  [data-theme=&quot;dark&quot;]</span><br><span class="line">    #web_bg</span><br><span class="line">      background: $mobile-bg-night !important</span><br><span class="line">      background-attachment: local !important</span><br><span class="line">      background-position: center !important</span><br><span class="line">      background-size: cover !important</span><br><span class="line">      background-repeat: no-repeat !important</span><br></pre></td></tr></table></figure></li><li><p>然后还要修改一下<code>[BlogRoot]\themes\butterfly\source\css\var.styl</code>,大约35行的位置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  $text-line-height = 2</span><br><span class="line"><span class="deletion">- $web-bg = hexo-config(&#x27;background&#x27;) &amp;&amp; unquote(hexo-config(&#x27;background&#x27;))</span></span><br><span class="line"><span class="addition">+ $web-bg = hexo-config(&#x27;background.default&#x27;) &amp;&amp; unquote(hexo-config(&#x27;background.default&#x27;))</span></span><br><span class="line">  $index_top_img_height = hexo-config(&#x27;index_top_img_height&#x27;) ? convert(hexo-config(&#x27;index_top_img_height&#x27;)) : 100vh</span><br></pre></td></tr></table></figure></li><li><p>再修改一下配置项，在<code>[BlogRoot]/_config.butterfly.yml</code>中找到<code>background</code>配置项，内容改为：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Website Background (設置網站背景)</span></span><br><span class="line"><span class="comment"># can set it to color or image (可設置圖片 或者 顔色)</span></span><br><span class="line"><span class="comment"># The formal of image: url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="attr">background:</span> </span><br><span class="line">  <span class="attr">default:</span> <span class="string">url(/img/home_bg.webp)</span> <span class="comment">#【必选】默认背景</span></span><br><span class="line">  <span class="attr">darkmode:</span> <span class="string">url(/img/dark_bg.webp)</span> <span class="comment">#【可选】PC端夜间模式背景</span></span><br><span class="line">  <span class="attr">mobileday:</span> <span class="string">url(/img/m2.webp)</span> <span class="comment">#【可选】移动端日间默认背景</span></span><br><span class="line">  <span class="attr">mobilenight:</span> <span class="string">url(/img/m1.webp)</span> <span class="comment">#【可选】移动端夜间模式背景</span></span><br></pre></td></tr></table></figure></li><li><p>当开了<code>Pjax</code>，还要再把<code>#web_bg</code>加到<code>pjax</code>选择器中。修改<code>[BlogRoot]\themes\butterfly\layout\includes\third-party\pjax.pug</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  script(src=url_for(theme.CDN.pjax))</span><br><span class="line">  script.</span><br><span class="line">    let pjaxSelectors = [</span><br><span class="line">      &#x27;title&#x27;,</span><br><span class="line">      &#x27;#config-diff&#x27;,</span><br><span class="line">      &#x27;#body-wrap&#x27;,</span><br><span class="line">      &#x27;#rightside-config-hide&#x27;,</span><br><span class="line">      &#x27;#rightside-config-show&#x27;,</span><br><span class="line"><span class="addition">+     &#x27;#web_bg&#x27;,</span></span><br><span class="line">      &#x27;.js-pjax&#x27;</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="Vue-Element-样式弹窗"><a href="#Vue-Element-样式弹窗" class="headerlink" title="Vue+Element 样式弹窗"></a>Vue+Element 样式弹窗</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/575a9fb53dc61e446bf2126428c21eba.png" alt="image-20240301205042929"></p></div></div><ol><li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>中 引入<code>Vue</code>和<code>Element</code>相关依赖：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line"><span class="addition">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.zhimg.com/element-ui@2.15.6/lib/theme-chalk/index.css&quot;&gt; # 引入组件库(f12)</span></span><br><span class="line">  bottom:    </span><br><span class="line"><span class="addition">+    - &lt;script async src=&quot;https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js&quot;&gt;&lt;/script&gt; # 引入VUE(f12)</span></span><br><span class="line"><span class="addition">+    - &lt;script async src=&quot;https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js&quot;&gt;&lt;/script&gt; # 引入ElementUI(f12)</span></span><br></pre></td></tr></table></figure></li><li><p>在 <code>[BlogRoot]/source/js</code>下新建 copy.js，没有 js 目录就新建，把下面代码全部复制进去：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 禁用f12与按键防抖 start */</span></span><br><span class="line"><span class="comment">// 防抖全局计时器</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">TT</span> = <span class="literal">null</span>;    <span class="comment">//time用来控制事件的触发</span></span><br><span class="line"><span class="comment">// 防抖函数:fn-&gt;逻辑 time-&gt;防抖时间</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, time</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable constant_">TT</span> !== <span class="literal">null</span>) <span class="built_in">clearTimeout</span>(<span class="variable constant_">TT</span>);</span><br><span class="line">  <span class="variable constant_">TT</span> = <span class="built_in">setTimeout</span>(fn, time);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 复制提醒</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;copy&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">debounce</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">        <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.$notify(&#123;</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&quot;哎嘿！复制成功🍬&quot;</span>,</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&quot;若要转载最好保留原文链接哦，给你一个大大的赞！🤞🤞&quot;</span>,</span><br><span class="line">            <span class="attr">position</span>: <span class="string">&#x27;top-left&#x27;</span>,</span><br><span class="line">            <span class="attr">offset</span>: <span class="number">50</span>,</span><br><span class="line">            <span class="attr">showClose</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">5000</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;, <span class="number">300</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// f12提醒但不禁用</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">onkeydown</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="number">123</span> == e.<span class="property">keyCode</span> || (e.<span class="property">ctrlKey</span> &amp;&amp; e.<span class="property">shiftKey</span> &amp;&amp; (<span class="number">74</span> === e.<span class="property">keyCode</span> || <span class="number">73</span> === e.<span class="property">keyCode</span> || <span class="number">67</span> === e.<span class="property">keyCode</span>)) || (e.<span class="property">ctrlKey</span> &amp;&amp; <span class="number">85</span> === e.<span class="property">keyCode</span>)) &#123;</span><br><span class="line">      <span class="title function_">debounce</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">          <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.$notify(&#123;</span><br><span class="line">              <span class="attr">title</span>: <span class="string">&quot;你已被发现😜&quot;</span>,</span><br><span class="line">              <span class="attr">message</span>: <span class="string">&quot;小伙子，扒源记住要遵循GPL协议！&quot;</span>,</span><br><span class="line">              <span class="attr">position</span>: <span class="string">&#x27;top-left&#x27;</span>,</span><br><span class="line">              <span class="attr">offset</span>: <span class="number">50</span>,</span><br><span class="line">              <span class="attr">showClose</span>: <span class="literal">true</span>,</span><br><span class="line">              <span class="attr">type</span>: <span class="string">&quot;warning&quot;</span>,</span><br><span class="line">              <span class="attr">duration</span>: <span class="number">5000</span></span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;, <span class="number">300</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">/* 禁用f12与按键防抖 end */</span></span><br></pre></td></tr></table></figure><ul><li><p><code>notify</code>：弹窗类型，可以替换为<code>message</code>（信息提示）和<code>confirm</code>（二次确认提示）</p></li><li><p><code>title</code>：弹窗标题，可以改为自定义标题</p></li><li><p><code>message</code>:弹窗信息，可以改为自定义内容</p></li><li><p><code>position</code>：弹出位置，bottom、top和left、right两两组合</p></li><li><p><code>offset</code>：偏移量，简单可以理解为与边界的距离</p></li><li><p><code>showClose</code>：是否显示关闭按钮</p></li><li><p><code>type</code>：提示类型，可选success/warning/info/error等</p></li><li><p><code>duration</code>：停留时间，弹出停留至消失的时间，单位ms</p><p>详见：<a href="https://blog.csdn.net/weixin_53791978/article/details/124169067">Vue中常用的提示信息</a></p></li></ul></li><li><p>在 <code>_config.butterfly.yml</code>中的 inject 引入 copy.js</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  bottom:</span><br><span class="line"><span class="addition">+    - &lt;script async src=&quot;/js/copy.js&quot;&gt;&lt;/script&gt; # 复制时利用 element-ui 提醒</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="夜间模式切换动画"><a href="#夜间模式切换动画" class="headerlink" title="夜间模式切换动画"></a>夜间模式切换动画</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/98d07c4f30faac426749bc7c04ad0ba6.png" alt="image-20240301210644589"></p></div></div><div class="note warning flat"><p>需要前置：vue+element 引入</p></div><ol><li><p>新建<code>[BlogRoot]\themes\butterfly\layout\includes\custom\sun_moon.pug</code>,这部分其实实质上就是一个svg文件，通过js操作它的旋转显隐，淡入淡出实现动画效果。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">svg(aria-hidden=&#x27;true&#x27;, style=&#x27;position:absolute; overflow:hidden; width:0; height:0&#x27;)</span><br><span class="line">  symbol#icon-sun(viewBox=&#x27;0 0 1024 1024&#x27;)</span><br><span class="line">    path(d=&#x27;M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z&#x27;, fill=&#x27;#FFD878&#x27;, p-id=&#x27;8420&#x27;)</span><br><span class="line">    path(d=&#x27;M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z&#x27;, fill=&#x27;#FFE4A9&#x27;, p-id=&#x27;8421&#x27;)</span><br><span class="line">    path(d=&#x27;M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8422&#x27;)</span><br><span class="line">    path(d=&#x27;M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8423&#x27;)</span><br><span class="line">  symbol#icon-moon(viewBox=&#x27;0 0 1024 1024&#x27;)</span><br><span class="line">    path(d=&#x27;M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z&#x27;, fill=&#x27;#FFB531&#x27;, p-id=&#x27;11345&#x27;)</span><br><span class="line">    path(d=&#x27;M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z&#x27;, fill=&#x27;#030835&#x27;, p-id=&#x27;11346&#x27;)</span><br></pre></td></tr></table></figure></li><li><p>新建<code>[BlogRoot]\themes\butterfly\source\css\_layout\sun_moon.styl</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.Cuteen_DarkSky</span>,</span><br><span class="line"><span class="selector-class">.Cuteen_DarkSky</span><span class="selector-pseudo">:before</span></span><br><span class="line">  <span class="attribute">content</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attribute">position</span> fixed</span><br><span class="line">  <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">right</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">bottom</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">88888888</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.Cuteen_DarkSky</span></span><br><span class="line">  <span class="attribute">background</span> <span class="built_in">linear-gradient</span>(to top, <span class="number">#f8cd71</span> <span class="number">0</span>, <span class="number">#5bfde9</span> <span class="number">80%</span>)</span><br><span class="line">  <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">    <span class="attribute">transition</span> <span class="number">2s</span> ease all</span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">background</span> <span class="built_in">linear-gradient</span>(to top, <span class="number">#30cfd0</span> <span class="number">0</span>, <span class="number">#330867</span> <span class="number">100%</span>)</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.DarkMode</span></span><br><span class="line">  <span class="selector-class">.Cuteen_DarkSky</span></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">opacity</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.Cuteen_DarkPlanet</span></span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">99999999</span></span><br><span class="line">  <span class="attribute">position</span> fixed</span><br><span class="line">  <span class="attribute">left</span> -<span class="number">50%</span></span><br><span class="line">  <span class="attribute">top</span> -<span class="number">50%</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">200%</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">200%</span></span><br><span class="line">  -webkit-<span class="attribute">animation</span> CuteenPlanetMove <span class="number">2s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">  <span class="attribute">animation</span> CuteenPlanetMove <span class="number">2s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">  <span class="attribute">transform-origin</span> center bottom</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> CuteenPlanetMove &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> CuteenPlanetMove &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.Cuteen_DarkPlanet</span></span><br><span class="line">  <span class="selector-id">#sun</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">44%</span></span><br><span class="line">    <span class="attribute">top</span> <span class="number">30%</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">6rem</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">6rem</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#ffee94</span></span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">40px</span> <span class="number">#ffee94</span></span><br><span class="line">    <span class="comment">// opacity 0</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#moon</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">44%</span></span><br><span class="line">    <span class="attribute">top</span> <span class="number">30%</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">6rem</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">6rem</span></span><br><span class="line">    <span class="attribute">box-shadow</span> -<span class="number">1.8em</span> <span class="number">1.8em</span> <span class="number">0</span> <span class="number">0.2em</span> <span class="number">#fff</span></span><br><span class="line">    <span class="comment">// opacity 1</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// &amp;:after</span></span><br><span class="line">  <span class="comment">//   position absolute</span></span><br><span class="line">  <span class="comment">//   left 42%</span></span><br><span class="line">  <span class="comment">//   top 30%</span></span><br><span class="line">  <span class="comment">//   width 6rem</span></span><br><span class="line">  <span class="comment">//   height 6rem</span></span><br><span class="line">  <span class="comment">//   border-radius 50%</span></span><br><span class="line">  <span class="comment">//   content &#x27;&#x27;</span></span><br><span class="line">  <span class="comment">//   background #ffef9e</span></span><br><span class="line">  <span class="comment">//   box-shadow 0 0 30px #ffef9e</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search</span></span><br><span class="line">  <span class="selector-tag">span</span></span><br><span class="line">    <span class="attribute">display</span> none</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.menus_item</span></span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">text-decoration</span> none<span class="meta">!important</span></span><br><span class="line"><span class="comment">//按钮相关，对侧栏按钮做过魔改的可以调整这里的数值</span></span><br><span class="line"><span class="comment">// .icon-V</span></span><br><span class="line"><span class="comment">//   padding 5px</span></span><br></pre></td></tr></table></figure></li><li><p>新建<code>[BlogRoot]\themes\butterfly\source\js\sun_moon.js</code>,去除了冗余代码，去jquery</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">switchNightMode</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;beforeend&#x27;</span>, <span class="string">&#x27;&lt;div class=&quot;Cuteen_DarkSky&quot;&gt;&lt;div class=&quot;Cuteen_DarkPlanet&quot;&gt;&lt;div id=&quot;sun&quot;&gt;&lt;/div&gt;&lt;div id=&quot;moon&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span>),</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;DarkMode&#x27;</span>) ? (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;0&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)) : (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;1&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)),</span><br><span class="line">                <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">transition</span> = <span class="string">&#x27;opacity 3s&#x27;</span>;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="title function_">remove</span>();</span><br><span class="line">                    &#125;, <span class="number">1e3</span>);</span><br><span class="line">                &#125;, <span class="number">2e3</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// 先设置太阳月亮透明度</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="title function_">activateDarkMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="comment">// GLOBAL_CONFIG.Snackbar !== undefined &amp;&amp; btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)</span><br><span class="line">        <span class="comment">// 延时弹窗提醒</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">                <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.$notify(&#123;</span><br><span class="line">                        <span class="attr">title</span>: <span class="string">&quot;关灯啦🌙&quot;</span>,</span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&quot;当前已成功切换至夜间模式！&quot;</span>,</span><br><span class="line">                        <span class="attr">position</span>: <span class="string">&#x27;top-left&#x27;</span>,</span><br><span class="line">                        <span class="attr">offset</span>: <span class="number">50</span>,</span><br><span class="line">                        <span class="attr">showClose</span>: <span class="literal">true</span>,</span><br><span class="line">                        <span class="attr">type</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">                        <span class="attr">duration</span>: <span class="number">5000</span></span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 先设置太阳月亮透明度</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="title function_">activateLightMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">                <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.$notify(&#123;</span><br><span class="line">                        <span class="attr">title</span>: <span class="string">&quot;开灯啦🌞&quot;</span>,</span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&quot;当前已成功切换至白天模式！&quot;</span>,</span><br><span class="line">                        <span class="attr">position</span>: <span class="string">&#x27;top-left&#x27;</span>,</span><br><span class="line">                        <span class="attr">offset</span>: <span class="number">50</span>,</span><br><span class="line">                        <span class="attr">showClose</span>: <span class="literal">true</span>,</span><br><span class="line">                        <span class="attr">type</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">                        <span class="attr">duration</span>: <span class="number">5000</span></span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// handle some cases</span></span><br><span class="line">    <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>()</span><br><span class="line">    <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>).<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>修改<code>[BlogRoot]\themes\butterfly\layout\includes\head.pug</code>,在文件末位加上一行</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  //- global config</span><br><span class="line">  !=partial(&#x27;includes/head/config&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">  include ./head/config_site.pug</span><br><span class="line">  include ./head/noscript.pug</span><br><span class="line"></span><br><span class="line">  !=fragment_cache(&#x27;injectHeadJs&#x27;, function()&#123;return inject_head_js()&#125;)</span><br><span class="line"></span><br><span class="line">  !=fragment_cache(&#x27;injectHead&#x27;, function()&#123;return injectHtml(theme.inject.head)&#125;)</span><br><span class="line"><span class="addition">+  // 白黑夜切换动画</span></span><br><span class="line"><span class="addition">+ include ./custom/sun_moon.pug</span></span><br></pre></td></tr></table></figure></li><li><p>修改<code>[BlogRoot]\themes\butterfly\layout\includes\rightside.pug</code>,把原本的昼夜切换按钮替换掉</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  when &#x27;translate&#x27;</span><br><span class="line">    if translate.enable</span><br><span class="line">      button#translateLink(type=&quot;button&quot; title=_p(&#x27;rightside.translate_title&#x27;))= translate.default</span><br><span class="line">  when &#x27;darkmode&#x27;</span><br><span class="line">    if darkmode.enable &amp;&amp; darkmode.button</span><br><span class="line"><span class="deletion">-     button#darkmode(type=&quot;button&quot; title=_p(&#x27;rightside.night_mode_title&#x27;))</span></span><br><span class="line"><span class="deletion">-       i.fas.fa-adjust</span></span><br><span class="line"><span class="addition">+     a.icon-V.hidden(onclick=&#x27;switchNightMode()&#x27;,  title=_p(&#x27;rightside.night_mode_title&#x27;))</span></span><br><span class="line"><span class="addition">+       svg(width=&#x27;25&#x27;, height=&#x27;25&#x27;, viewBox=&#x27;0 0 1024 1024&#x27;)</span></span><br><span class="line"><span class="addition">+         use#modeicon(xlink:href=&#x27;#icon-moon&#x27;)</span></span><br></pre></td></tr></table></figure></li><li><p>修改<code>[BlogRoot]\_config.butterfly.yml</code>,引入一下js</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  bottom:</span><br><span class="line"><span class="addition">+    - &lt;script src=&quot;/js/sun_moon.js&quot; async&gt;&lt;/script&gt; # 白黑夜切换动画</span></span><br></pre></td></tr></table></figure></li><li><p>重启项目并切换夜间模式即可看见效果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h1 id="引入-iconfont-自定义图标（店长）"><a href="#引入-iconfont-自定义图标（店长）" class="headerlink" title="引入 iconfont 自定义图标（店长）"></a>引入 iconfont 自定义图标（店长）</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/d2ebecef/">Iconfont Inject</a></p><h2 id="新建图标项目"><a href="#新建图标项目" class="headerlink" title="新建图标项目"></a>新建图标项目</h2><ol><li><p>访问<a href="https://www.iconfont.cn/">阿里巴巴矢量图标库</a>,注册登录。</p></li><li><p>搜索自己心仪的图标，然后选择<strong>添加入库</strong>，加到购物车。</p></li><li><p>选择完毕后点击右上角的购物车图标，打开侧栏，选择添加到项目，如果没有项目就新建一个。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/50321b3542e32c4d6f5034cd751d04d5.png" alt=""></p></li><li><p>可以通过上方顶栏<code>菜单-&gt;资源管理-&gt;我的项目</code>，找到之前添加的图标项目。(现在的 iconfont 可以在图标库的项目设置里直接打开彩色设置，然后采用 fontclass 的引用方式即可使用多彩图标。但是<strong>单一项目彩色图标上限是40个图标</strong>，酌情采用。)</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/545617b4f830675305150ae0355dd054.png" alt=""></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/b05314ea2b630cb27f27cb87e147ad64.png" alt=""></p></li></ol><h2 id="引入图标"><a href="#引入图标" class="headerlink" title="引入图标"></a>引入图标</h2><p>线上引入方案，我使用的是官方文档中最便捷的<code>font-class</code>方案。这一方案偶尔会出现图标加载不出的情况。但是便于随时对图标库进行升级，换一下在线链接即可，适合新手使用。最新版本的iconfont支持直接在项目设置中开启彩色图标，从而实现直接用class添加多彩色图标。（推荐直接用这个即可）</p><ol><li><p>首先获取引入的 js 地址</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/ac825e6355104b23af510721404bfe04.png" alt="image-20240301183226655"></p><div class="note warning flat"><p>项目中每加入一个新图标，这里的地址就得重新生成，否则新加入的图标不生效。</p></div></li><li><p>在 <code>[BlogRoot]\_config.butterfly.yml</code>中的 <code>inject</code>加入</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;//at.alicdn.com/t/c/foxxxxxxxx.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># 阿里图标引入</span></span><br></pre></td></tr></table></figure><p>这里放入刚刚复制的地址，每加一个新图标都需要修改。</p></li></ol>              </div>            </details><h1 id="导航栏魔改"><a href="#导航栏魔改" class="headerlink" title="导航栏魔改"></a>导航栏魔改</h1><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="note warning flat"><ol><li>需要前置：vue+element 样式</li><li>需要前置：夜间模式切换动画</li><li>需要前置：引入 iconfont 自定义图标</li></ol></div><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/cfa0e50cbe33f25b3201477801e43805.png" alt="image-20240301212854398"></p></div></div><h2 id="导航栏居中渐变色"><a href="#导航栏居中渐变色" class="headerlink" title="导航栏居中渐变色"></a>导航栏居中渐变色</h2><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/3261cdd5b138182a64d3e999eefe4bbd.png" alt="image-20240301194203601"></p></div></div><ol><li><p>在<code>[BlogRoot]\source\css\custom.css</code>中引入如下css代码，然后在主题配置文件<code>_config.butterfly.yml</code>中引入该文件：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*--------------------------------- 菜单居中 -------------------------------------*/</span></span><br><span class="line"><span class="comment">/* 一级菜单居中 */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: fit-content <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 子菜单横向展示 */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 这里的2是代表导航栏的第2个元素，即有子菜单的元素，可以按自己需求修改 */</span></span><br><span class="line"><span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>) <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">5</span>) <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 导航栏颜色 */</span></span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">60deg</span>, <span class="number">#ffd7e4</span> <span class="number">0</span>, <span class="number">#c8f1ff</span> <span class="number">93%</span>);</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.95</span>;</span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#page-header</span><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.95</span>) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*-------------------------- 菜单居中end -----------------------------*/</span></span><br></pre></td></tr></table></figure><p>此处的<code>css</code>实现了两个作用：菜单栏居中、子菜单横向显示。其中子菜单横向显示要根据自己的实际情况来改，例如你的以及菜单的第2个选项中有子菜单，那就要加一项调节第2个选项中的子菜单，这个具体调节多少要根据你的具体情况为准，可以自己慢慢调到中间。</p></li></ol><h2 id="导航栏多色动态图标（店长）"><a href="#导航栏多色动态图标（店长）" class="headerlink" title="导航栏多色动态图标（店长）"></a>导航栏多色动态图标（店长）</h2><p>详见：<a href="https://akilar.top/posts/23fdf850/">糖果屋微调合集</a></p><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/dd41127c19108eab488a48bd52844ff8.png" alt="image-20240301200122352"></p></div></div><div class="note warning flat"><p>需要前置教程引入 iconfont 自定义图标</p></div><ol><li><p>替换<code>[BlogRoot]\themes\butterfly\layout\includes\header\menu_item.pug</code>为以下代码，本方案默认使用观感最佳的悬停父元素触发子元素动画效果，默认动画为<code>faa-tada</code>。注意：可以把之前的代码注释掉，再在后面加上如下代码，以便于回滚，此代码在<code>butterfly 4.12.0</code> 上可以运行并保留 hide 字段隐藏子菜单的功能，其他版本自行测试。代码的本质并不复杂，就是扫描配置文件对应的配置项，然后根据<code>||</code>的分割标志筛选出对应的图标名称、对应链接等，从而渲染出 html 页面。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">if theme.menu</span><br><span class="line">  .menus_items</span><br><span class="line">    each value, label in theme.menu</span><br><span class="line">      if typeof value !== &#x27;object&#x27;</span><br><span class="line">        .menus_item</span><br><span class="line">          - const valueArray = value.split(&#x27;||&#x27;)</span><br><span class="line">          a.site-page.faa-parent.animated-hover(href=url_for(trim(value.split(&#x27;||&#x27;)[0])))</span><br><span class="line">            if valueArray[1]</span><br><span class="line">              i.fa-fw(class=trim(valueArray[1]))</span><br><span class="line">              - var icon_value = trim(value.split(&#x27;||&#x27;)[1])</span><br><span class="line">              - var anima_value = value.split(&#x27;||&#x27;)[2] ? trim(value.split(&#x27;||&#x27;)[2]) : &#x27;faa-tada&#x27;</span><br><span class="line">              if icon_value.substring(0,2)==&quot;fa&quot;      </span><br><span class="line">                i.fa-fw(class=icon_value + &#x27; &#x27; + anima_value)</span><br><span class="line">              else if icon_value.substring(0,4)==&quot;icon&quot;          </span><br><span class="line">                svg.icon(aria-hidden=&quot;true&quot; class=anima_value)</span><br><span class="line">                  use(xlink:href=`#`+ icon_value)</span><br><span class="line">            span=&#x27; &#x27;+label</span><br><span class="line">      else</span><br><span class="line">        .menus_item</span><br><span class="line">          - const labelArray = label.split(&#x27;||&#x27;)</span><br><span class="line">          - const hideClass = labelArray[3] &amp;&amp; trim(labelArray[3]) === &#x27;hide&#x27; ? &#x27;hide&#x27; : &#x27;&#x27;</span><br><span class="line">          a.site-page.group.faa-parent.animated-hover(class=`$&#123;hideClass&#125;` href=&#x27;javascript:void(0);&#x27;)</span><br><span class="line">            if labelArray[1]</span><br><span class="line">              - var icon_label = trim(label.split(&#x27;||&#x27;)[1])</span><br><span class="line">              - var anima_label = label.split(&#x27;||&#x27;)[2] ? trim(label.split(&#x27;||&#x27;)[2]) : &#x27;faa-tada&#x27;</span><br><span class="line">              if icon_label.substring(0,2)==&quot;fa&quot;      </span><br><span class="line">                i.fa-fw(class=icon_label + &#x27; &#x27; + anima_label)</span><br><span class="line">              else if icon_label.substring(0,4)==&quot;icon&quot;    </span><br><span class="line">                svg.icon(aria-hidden=&quot;true&quot; class=anima_label)</span><br><span class="line">                  use(xlink:href=`#`+ icon_label)</span><br><span class="line">            span=&#x27; &#x27;+ trim(labelArray[0])</span><br><span class="line">            i.fas.fa-chevron-down</span><br><span class="line">          ul.menus_item_child</span><br><span class="line">            each val,lab in value </span><br><span class="line">              - const valArray = val.split(&#x27;||&#x27;)</span><br><span class="line">              li</span><br><span class="line">                a.site-page.child.faa-parent.animated-hover(href=url_for(trim(val.split(&#x27;||&#x27;)[0])))</span><br><span class="line">                  if valArray[1]</span><br><span class="line">                    - var icon_val = trim(val.split(&#x27;||&#x27;)[1])</span><br><span class="line">                    - var anima_val = val.split(&#x27;||&#x27;)[2] ? trim(val.split(&#x27;||&#x27;)[2]) : &#x27;faa-tada&#x27;</span><br><span class="line">                    if icon_val.substring(0,2)==&quot;fa&quot;      </span><br><span class="line">                      i.fa-fw(class=icon_val + &#x27; &#x27; + anima_val)</span><br><span class="line">                    else if icon_val.substring(0,4)==&quot;icon&quot;</span><br><span class="line">                      svg.icon(aria-hidden=&quot;true&quot; class=anima_val)</span><br><span class="line">                        use(xlink:href=`#`+ icon_val)                    </span><br><span class="line">                  span=&#x27; &#x27;+ lab</span><br></pre></td></tr></table></figure></li><li><p>以下是填写示例，在<code>[BlogRoot]\_config.butterfly.yml</code>中修改。<code>icon-xxx</code>字样的为<code>iconfont</code>的<code>symbol</code>引入方案的<code>id</code>值，可以在你的<code>iconfont</code>图标库内查询，其中hide属性也是可以用的。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">icon-HOME</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">icon-mianxingshijianzhou</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="string">文章||icon-fengche||faa-tada</span> <span class="string">||</span> <span class="attr">hide:</span></span><br><span class="line">    <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">icon-tag</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">    <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">icon-fenlei</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="string">清单||icon-list||faa-tada</span> <span class="string">||</span> <span class="attr">hide:</span></span><br><span class="line">    <span class="string">音乐:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="string">电影:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">    <span class="string">文章统计:</span> <span class="string">/charts/</span> <span class="string">||</span> <span class="string">icon-zhifeiji</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="string">个人</span> <span class="string">||</span> <span class="string">icon-xiuxian</span> <span class="string">||</span> <span class="string">faa-tada</span> <span class="string">||</span> <span class="attr">hide:</span></span><br><span class="line">    <span class="string">闲言碎语:</span> <span class="string">/bb/</span> <span class="string">||</span> <span class="string">icon-shejiaoxinxi</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">    <span class="string">友链:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">icon-gerenzhongxin</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">    <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">icon-aixin</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br></pre></td></tr></table></figure></li><li><p>要注意的是，这里的动态图标是<code>svg.icon</code>的标签，因此上面调节<code>.iconfont</code>的css并不使用，我们需要在自定义样式文件<code>custom.css</code>里加上一些样式来限制图标的大小和颜色等，具体大小自行调节。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*------- 导航栏多色图标 --------*/</span></span><br><span class="line">svg<span class="selector-class">.icon</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1.28em</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1.28em</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">    fill: currentColor;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*------- 导航栏多色图标end --------*/</span></span><br></pre></td></tr></table></figure></li><li><p>重启项目即可看到效果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol><h2 id="导航栏右侧搜索和切换夜间模式"><a href="#导航栏右侧搜索和切换夜间模式" class="headerlink" title="导航栏右侧搜索和切换夜间模式"></a>导航栏右侧搜索和切换夜间模式</h2><div class="note warning flat"><ol><li>需要前置：vue+element 样式</li><li>需要前置：夜间模式切换动画</li><li>需要前置：引入 iconfont 自定义图标</li></ol></div><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/f62f189d53d50ee8bcfeda96ad3477df.png" alt="image-20240301212854398"></p></div></div><ol><li><p>重构导航栏：修改<code>[blogRoot]\themes\Butterfly\layout\includes\header\nav.pug</code>，替换成下面的代码，其中图标啥的自己改一下：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">nav<span class="selector-id">#nav</span></span><br><span class="line">  span<span class="selector-id">#blog-info</span></span><br><span class="line">    <span class="selector-tag">a</span>(href=<span class="built_in">url_for</span>(<span class="string">&#x27;/&#x27;</span>) title=config.title)</span><br><span class="line">      <span class="keyword">if</span> theme<span class="selector-class">.nav</span><span class="selector-class">.logo</span></span><br><span class="line">        <span class="selector-tag">img</span><span class="selector-class">.site-icon</span>(<span class="attribute">src</span>=<span class="built_in">url_for</span>(theme.nav.logo))</span><br><span class="line">      <span class="keyword">if</span> theme<span class="selector-class">.nav</span><span class="selector-class">.display_title</span></span><br><span class="line">        <span class="selector-tag">span</span>.site-name=config<span class="selector-class">.title</span></span><br><span class="line">    </span><br><span class="line">  <span class="selector-id">#menus</span></span><br><span class="line">    !=<span class="built_in">partial</span>(<span class="string">&#x27;includes/header/menu_item&#x27;</span>, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    <span class="comment">//- 这两行是导航栏显示标题用的</span></span><br><span class="line">    <span class="built_in">center</span>(id=<span class="string">&quot;name-container&quot;</span>)</span><br><span class="line">      <span class="selector-tag">a</span>(id=<span class="string">&quot;page-name&quot;</span> href=<span class="string">&quot;javascript:scrollToTop()&quot;</span>) PAGE_NAME</span><br><span class="line">      </span><br><span class="line">    <span class="selector-id">#nav-right</span></span><br><span class="line">      <span class="keyword">if</span> (theme<span class="selector-class">.algolia_search</span><span class="selector-class">.enable</span> || theme<span class="selector-class">.local_search</span><span class="selector-class">.enable</span> || theme<span class="selector-class">.docsearch</span>.enable)</span><br><span class="line">        <span class="selector-id">#search-button</span></span><br><span class="line">          <span class="comment">//- a.site-page.social-icon.search</span></span><br><span class="line">          <span class="comment">//-   i.fas.fa-search.fa-fw</span></span><br><span class="line">          <span class="selector-tag">a</span><span class="selector-class">.search</span><span class="selector-class">.faa-parent</span><span class="selector-class">.animated-hover</span>(title=<span class="string">&quot;检索站内任何你想要的信息&quot;</span>)</span><br><span class="line">            svg<span class="selector-class">.faa-tada</span><span class="selector-class">.icon</span>(style=<span class="string">&quot;height:24px;width:24px;fill:currentColor;position:relative;top:6px&quot;</span> aria-hidden=<span class="string">&quot;true&quot;</span>)</span><br><span class="line">              <span class="built_in">use</span>(xlink:href=<span class="string">&#x27;#icon-sousuo&#x27;</span>)</span><br><span class="line">            span=<span class="string">&#x27; &#x27;</span>+<span class="built_in">_p</span>(<span class="string">&#x27;search.title&#x27;</span>)  </span><br><span class="line"></span><br><span class="line">      <span class="comment">//- 暗黑模式按钮</span></span><br><span class="line">      <span class="selector-tag">a</span><span class="selector-class">.sun_moon</span><span class="selector-class">.faa-parent</span><span class="selector-class">.animated-hover</span>(onclick=<span class="string">&#x27;switchNightMode()&#x27;</span>,  title=<span class="built_in">_p</span>(<span class="string">&#x27;rightside.night_mode_title&#x27;</span>) id=<span class="string">&quot;nightmode-button&quot;</span>)</span><br><span class="line">        svg<span class="selector-class">.faa-tada</span>(style=<span class="string">&quot;height:25px;width:25px;fill:currentColor;position:relative;top:7px&quot;</span>, viewBox=<span class="string">&#x27;0 0 1024 1024&#x27;</span>)</span><br><span class="line">          use<span class="selector-id">#modeicon</span>(xlink:href=<span class="string">&#x27;#icon-weather-color_moon-stars&#x27;</span>)        </span><br><span class="line">        </span><br><span class="line">      <span class="selector-id">#toggle-menu</span></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">          <span class="selector-tag">i</span><span class="selector-class">.fas</span><span class="selector-class">.fa-bars</span>.fa-fw</span><br></pre></td></tr></table></figure></li><li><p>标题增强：在<code>custom.css</code>加入如下代码，其中<code>var(--theme-color)</code>替换成你自己的主题色：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*--------------------------- 导航栏增强 ----------------------------*/</span></span><br><span class="line"><span class="comment">/* 标题增强 */</span></span><br><span class="line"><span class="selector-id">#site-name</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  -moz-<span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  -ms-<span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  -o-<span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  -o-<span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f015&quot;</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">var</span>(--theme-color);</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Font Awesome 6 Free&quot;</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">34px</span>; <span class="comment">/*如果有溢出或者垂直不居中的现象微调一下这个参数*/</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>; <span class="comment">/*根据个人喜好*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#site-name</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  scale: <span class="number">1.03</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#site-name</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.3em</span>; <span class="comment">/*一定要把字体调大点，否则效果惨不忍睹！*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 顶栏常驻 */</span></span><br><span class="line"><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span>&#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>)<span class="meta">!important</span>;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>)<span class="meta">!important</span>;</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>)<span class="meta">!important</span>;</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>)<span class="meta">!important</span>;</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>)<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span>&#123;</span><br><span class="line">  <span class="attribute">transition</span>: none<span class="meta">!important</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: none<span class="meta">!important</span>;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: none<span class="meta">!important</span>;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: none<span class="meta">!important</span>;</span><br><span class="line">  -o-<span class="attribute">transition</span>: none<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 导航栏显示标题 */</span></span><br><span class="line"><span class="selector-id">#page-name</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">color</span>: white <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;回到顶部&quot;</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="built_in">var</span>(--theme-color);</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">45px</span>; <span class="comment">/*如果垂直位置不居中可以微调此值，也可以删了*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-name</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#name-container</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#name-container</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  scale: <span class="number">1.03</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-name</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">30px</span>; <span class="comment">/*如果文字间隔不合理可以微调修改，第二个是水平方向的padding，第一个是垂直的*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 修复滚动显示标题居中 */</span></span><br><span class="line">center<span class="selector-id">#name-container</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: fit-content <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">42%</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  center<span class="selector-id">#name-container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 导航栏右面图标黑白夜开关等*/</span></span><br><span class="line"><span class="selector-id">#nightmode-button</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*--------------------------- 导航栏增强 end ----------------------------*/</span></span><br></pre></td></tr></table></figure></li><li><p>显示标题：新建<code>[BlogRoot]\source\js\nav.js</code>，并写入如下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, tonav);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, tonav);</span><br><span class="line"><span class="comment">//响应pjax</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tonav</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display:none&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> position = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>();</span><br><span class="line">    $(<span class="variable language_">window</span>).<span class="title function_">scroll</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> scroll = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>();</span><br><span class="line">        <span class="keyword">if</span> (scroll &gt; position) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;menus_items&quot;</span>)[<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display:none!important&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;menus_items&quot;</span>)[<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display:none&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        position = scroll;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//修复没有弄右键菜单的童鞋无法回顶部的问题</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;page-name&quot;</span>).<span class="property">innerText</span> = <span class="variable language_">document</span>.<span class="property">title</span>.<span class="title function_">split</span>(<span class="string">&quot; | Rean&#x27;s Blog&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">scrollToTop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;menus_items&quot;</span>)[<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display:none&quot;</span>);</span><br><span class="line">    btf.<span class="title function_">scrollToDest</span>(<span class="number">0</span>, <span class="number">500</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>将 <code>nav.js</code>引入 <code>_config.butterfly.yml</code>的 inject 部分中（<strong>放在最后一个</strong>）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line"> bottom:</span><br><span class="line">   +   - &lt;script src=&quot;https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt; # jQuery</span><br><span class="line">   ...</span><br><span class="line">   ...</span><br><span class="line">   +    - &lt;script src=&quot;/js/nav.js&quot;&gt;&lt;/script&gt;  # 回到顶部</span><br></pre></td></tr></table></figure></li><li><p>重启项目：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="comment"># vscode</span></span><br><span class="line">hexo cl; hexo g; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><div class="note success flat"><p>先修改到导航栏，敬请期待下面的魔改教程总结！😋😋😋</p></div>]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo基础搭建教程（二）</title>
      <link href="/post/837c228f.html"/>
      <url>/post/837c228f.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>前言</strong>📇</p><ol><li>本文参考<a href="https://www.fomal.cc/posts/4aa2d85f.html">Hexo博客搭建基础教程(二)</a></li><li>本系列基本上都是各位大佬造好的轮子，具体参考 <a href="https://www.fomal.cc/">Fomalhaut大佬</a>。其目的在于防止各位大佬的链接失效，且个人复习总结使用，如有侵权请联系删除。</li><li>本系列起始空白的虚拟机，一步一步搭建魔改页面，使用本地端口。若想部署在其它平台，可自寻查找。</li><li>鉴于每个人的根目录名称都不一样，本帖<strong>博客根目录</strong>一律以<code>[BlogRoot]</code>指代。</li><li>本帖涉及魔改源码的内容，会使用<strong>diff代码块</strong>标识，复制时请<strong>不要忘记删除</strong>前面的<code>+、-</code>符号。</li><li>因为<code>.pug</code>和<code>.styl</code>以及<code>.yml</code>等对缩进要求较为严格，请尽量<strong>不要使用记事本等无法提供语法高亮的文本编辑器</strong>进行修改。</li><li>本系列基于<code>Butterfly主题</code>进行魔改方案编写，hexo 版本 <code>6.3.0</code>，Butterfly 版本 <code>4.12.0</code>。</li><li>魔改会过程常常引入<strong>自定义的css与js文件</strong>，具体方法见方法见<a href="https://b.leonus.cn/2022/custom.html">Hexo博客添加自定义css和js文件</a></li></ol></blockquote><p><strong>博客搭建与魔改系列教程导航🚥🚥🚥</strong></p><ol><li>🎀<a href="https://redbeancc.github.io/post/3324b066.html">hexo基础搭建教程（一）</a></li><li>🎆<a href="https://redbeancc.github.io/post/837c228f.html">hexo基础搭建教程（二）</a>⬅当前位置🛸</li><li>🎇<a href="https://redbeancc.github.io/post/781096aa.html">魔改教程总结（一）</a></li><li>🧨<a href="https://redbeancc.github.io/post/48067a72.html">魔改教程总结（二）</a></li><li>✨<a href="https://redbeancc.github.io/post/518d920.html">魔改教程总结（三）</a></li></ol><h1 id="1-安装主题"><a href="#1-安装主题" class="headerlink" title="1. 安装主题"></a>1. 安装主题</h1><p>本系列用的主题版本为<code>Butterfly@4.12.0</code>，使用 github 方式安装</p><ol><li><p>在<code>[BlogRoot]</code>（我这里是<code>C:\Users\XinPuSen\Desktop\Blog</code>）目录下打开 <code>git bash</code>命令行模式</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b 4.12 https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/af1504ad4b4f97c21dadc8e527b6bcfa.png" alt="image-20240229181125213"></p></li><li><p>应用主题</p><ul><li><p>修改站点配置文件<code>[BlogRoot/_config.yml]</code>，把主题改为<code>butterfly</code>，可以按 <code>ctrl</code>+<code>f</code>快速寻找。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/d65a4c5586cbbe79eabb464cd2216345.png" alt="image-20240229181611411"></p></li><li><p>如果你没有<code>pug</code>以及<code>stylus</code>的渲染器，请下载安装，这两个渲染器是<code>Butterfly</code>生成基础页面所需的依赖包：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><ul><li>—save：表示会写入<code>package.json</code></li></ul><div class="note warning flat"><p>如果卡在 <code>still ideaTree buildDeps</code>使用镜像：<code>npm config set registry http://registry.npm.taobao.org/</code></p></div></li><li><p>为了减少升级主题后带来的不便，请使用以下方法（建议，可以不做，高度魔改的一般都不会升级主题了，不然魔改的会被覆盖掉）<br>把主题文件夹【<code>[BlogRoot]\themes\butterfly</code>】中的 <code>_config.yml</code> 复制到 Hexo 根目录里（我这里路径为【<code>C:\Users\XinPuSen\Desktop\Blog</code>】），同时重新命名为 <code>_config.butterfly.yml</code>。以后只需要在 <code>_config.butterfly.yml</code>进行配置即可生效。Hexo会自动合并主题中的<code>_config.yml</code>和 <code>_config.butterfly.yml</code>里的配置，如果存在同名配置，会使用<code>_config.butterfly.yml</code>的配置，其优先度较高。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/76e73c104229a71f333a52ad70a53474.png" alt="image-20240229182703944"></p></li></ul></li></ol><h1 id="2-基础用法说明"><a href="#2-基础用法说明" class="headerlink" title="2. 基础用法说明"></a>2. 基础用法说明</h1><h2 id="2-1-Front-matter"><a href="#2-1-Front-matter" class="headerlink" title="2.1 Front-matter"></a>2.1 Front-matter</h2><p><code>Front-matter</code> 是 markdown 文件最上方以<code>---</code>分隔的区域，用于指定个别档案的变数。</p><ul><li>Page Front-matter 用于页面配置</li><li>Post Front-matter 用于文章页配置</li></ul><div class="note warning flat"><p>如果标注可选的参数，可根据自己需要添加，不用全部都写</p></div><p><strong>Page Front-matter：</strong></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">type:</span><br><span class="line">comments:</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aside:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:left">写法</th><th>解释</th></tr></thead><tbody><tr><td style="text-align:left">title</td><td>【必需】页面标题</td></tr><tr><td style="text-align:left">date</td><td>【必需】页面创建日期</td></tr><tr><td style="text-align:left">type</td><td>【必需】标籤、分类和友情链接三个页面需要配置</td></tr><tr><td style="text-align:left">updated</td><td>【可选】页面更新日期</td></tr><tr><td style="text-align:left">description</td><td>【可选】页面描述</td></tr><tr><td style="text-align:left">keywords</td><td>【可选】页面关键字</td></tr><tr><td style="text-align:left">comments</td><td>【可选】显示页面评论模块(默认 true)</td></tr><tr><td style="text-align:left">top_img</td><td>【可选】页面顶部图片</td></tr><tr><td style="text-align:left">mathjax</td><td>【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td></tr><tr><td style="text-align:left">kates</td><td>【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td></tr><tr><td style="text-align:left">aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr><tr><td style="text-align:left">aplayer</td><td>【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td></tr><tr><td style="text-align:left">highlight_shrink</td><td>【可选】配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)</td></tr></tbody></table></div><p><strong>Post Front-matter：</strong></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">comments:</span></span><br><span class="line"><span class="emphasis">cover:</span></span><br><span class="line"><span class="emphasis">toc:</span></span><br><span class="line"><span class="emphasis">toc_</span>number:</span><br><span class="line">toc<span class="emphasis">_style_</span>simple:</span><br><span class="line">copyright:</span><br><span class="line">copyright<span class="emphasis">_author:</span></span><br><span class="line"><span class="emphasis">copyright_</span>author<span class="emphasis">_href:</span></span><br><span class="line"><span class="emphasis">copyright_</span>url:</span><br><span class="line">copyright<span class="emphasis">_info:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line"><span class="section">aside:</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>写法</th><th>解释</th></tr></thead><tbody><tr><td>title</td><td>【必需】文章标题</td></tr><tr><td>date</td><td>【必需】文章创建日期</td></tr><tr><td>updated</td><td>【可选】文章更新日期</td></tr><tr><td>tags</td><td>【可选】文章标籤</td></tr><tr><td>categories</td><td>【可选】文章分类</td></tr><tr><td>keywords</td><td>【可选】文章关键字</td></tr><tr><td>description</td><td>【可选】文章描述</td></tr><tr><td>top_img</td><td>【可选】文章顶部图片</td></tr><tr><td>cover</td><td>【可选】文章缩略图(如果没有设置top_img,文章页顶部将显示缩略图，可设为false/图片地址/留空)</td></tr><tr><td>comments</td><td>【可选】显示文章评论模块(默认 true)</td></tr><tr><td>toc</td><td>【可选】显示文章TOC(默认为设置中toc的enable配置)</td></tr><tr><td>toc_number</td><td>【可选】显示toc_number(默认为设置中toc的number配置)</td></tr><tr><td>toc_style_simple</td><td>【可选】显示 toc 简洁模式</td></tr><tr><td>copyright</td><td>【可选】显示文章版权模块(默认为设置中post_copyright的enable配置)</td></tr><tr><td>copyright_author</td><td>【可选】文章版权模块的文章作者</td></tr><tr><td>copyright_author_href</td><td>【可选】文章版权模块的文章作者链接</td></tr><tr><td>copyright_url</td><td>【可选】文章版权模块的文章连结链接</td></tr><tr><td>copyright_info</td><td>【可选】文章版权模块的版权声明文字</td></tr><tr><td>mathjax</td><td>【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td>【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr></tbody></table></div><div class="note warning flat"><p>注意：我的博客根目录路径为 【C:\Users\XinPuSen\Desktop\Blog】，下文所说的根目录都是此路径，将用[BlogRoot]代替。</p></div><h2 id="2-2-标签页"><a href="#2-2-标签页" class="headerlink" title="2.2 标签页"></a>2.2 标签页</h2><ol><li><p>前往你的Hexo博客根目录，打开<code>Git Bash</code>执行如下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]\source\</code>会生成一个含有<code>index.md</code>文件的<code>tags</code>文件夹。</p></li><li><p>修改<code>[BlogRoot]\source\tags\index.md</code>，添加<code>type: &quot;tags&quot;</code>。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2022-10-28 12:00:00</span><br><span class="line"><span class="section">type: &quot;tags&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="2-3-友情链接"><a href="#2-3-友情链接" class="headerlink" title="2.3 友情链接"></a>2.3 友情链接</h2><ol><li><p>前往你的Hexo博客根目录，打开cmd命令窗口执行如下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page link</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]\source\</code>会生成一个含有<code>index.md</code>文件的<code>link</code>文件夹</p></li><li><p>修改<code>[BlogRoot]\source\link\index.md</code>，添加<code>type: &quot;link&quot;</code></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2022-10-28 12:00:00</span><br><span class="line"><span class="section">type: &quot;link&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure></li><li><p>前往<code>[BlogRoot]\source\_data</code>创建一个<code>link.yml</code>文件（如果沒有 <code>_data</code> 文件夹，请自行创建），并写入如下信息（根据你的需要写）：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="number">1</span><span class="string">.技术支持</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">本网站的搭建由以下开源作者提供技术支持</span></span><br><span class="line">  <span class="attr">link_list:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> </span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://hexo.io/zh-cn/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">快速、简单且强大的网志框架</span></span><br><span class="line">      <span class="attr">siteshot:</span> <span class="string">https://source.fomal.cc/siteshot/hexo.io.jpg</span></span><br><span class="line">      </span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="number">2</span><span class="string">.友情链接</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">一些好朋友~~</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Fomalhaut🥝</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://fomal.cc/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">/assets/head.jpg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">Future</span> <span class="string">is</span> <span class="string">now</span> <span class="string">🍭🍭🍭</span></span><br><span class="line">      <span class="attr">siteshot:</span> <span class="string">https://source.fomal.cc/siteshot/www.fomal.cn.jpg</span></span><br></pre></td></tr></table></figure><p>class_name和class_desc支持 html 格式，如不需要，也可以留空。</p></li></ol><h2 id="2-4-分类页"><a href="#2-4-分类页" class="headerlink" title="2.4 分类页"></a>2.4 分类页</h2><ol><li><p>前往你的Hexo博客根目录，打开cmd命令窗口执行如下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]\source\</code>会生成一个含有<code>index.md</code>文件的<code>categories</code>文件夹</p></li><li><p>修改<code>[BlogRoot]\source\categories\index.md</code>，添加<code>type: &quot;categories&quot;</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2024-02-21 23:40:05</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure></li></ol><h2 id="2-5-关于我"><a href="#2-5-关于我" class="headerlink" title="2.5 关于我"></a>2.5 关于我</h2><ol><li><p>前往你的Hexo博客根目录，打开cmd命令窗口执行如下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page about</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]\source\</code>会生成一个含有<code>index.md</code>文件的<code>about</code>文件夹</p></li><li><p>修改<code>[BlogRoot]\source\about\index.md</code>，添加<code>type: &quot;about&quot;</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 关于我</span><br><span class="line">date: 2024-02-21 23:44:48</span><br><span class="line">type: &quot;about&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure></li></ol><h1 id="3-语言"><a href="#3-语言" class="headerlink" title="3. 语言"></a>3. 语言</h1><p>修改站点配置文件<code>_config.yml</code>，默认语言是 en 。<br>主题支持三种语言：</p><ul><li>default(en)</li><li>zh-CN (简体中文)</li><li>zh-TW (繁体中文)</li></ul><h1 id="4-网站资料"><a href="#4-网站资料" class="headerlink" title="4. 网站资料"></a>4. 网站资料</h1><p>修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改站点配置文件<code>_config.yml</code>。部分参数如下，详细参数可参考官方的<a href="https://hexo.io/zh-cn/docs/configuration">配置描述</a>。</p><div class="table-container"><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">title</td><td style="text-align:center">网站标题</td></tr><tr><td style="text-align:center">subtitle</td><td style="text-align:center">描述</td></tr><tr><td style="text-align:center">description</td><td style="text-align:center">网站描述</td></tr><tr><td style="text-align:center">keywords</td><td style="text-align:center">网站的关键词。支持多个关键词</td></tr><tr><td style="text-align:center">author</td><td style="text-align:center">您的名字</td></tr><tr><td style="text-align:center">language</td><td style="text-align:center">网站使用的语言。对于简体中文用户来说，使用不同的主题可能需要设置成不同的值，请参考你的主题的文档自行设置，常见的有 zh-Hans和 zh-CN。</td></tr><tr><td style="text-align:center">timezone</td><td style="text-align:center">网站时区。Hexo 默认使用您电脑的时区。请参考 时区列表 进行设置，如 America/New_York, Japan, 和 UTC 。一般的，对于中国大陆地区可以使用 Asia/Shanghai</td></tr></tbody></table></div><h1 id="5-主题配置文件"><a href="#5-主题配置文件" class="headerlink" title="5. 主题配置文件"></a>5. 主题配置文件</h1><blockquote><p>_config_butterfly.yml：butterfly 主题配置文件，修改的开关都在这里</p></blockquote><h2 id="5-1-导航菜单"><a href="#5-1-导航菜单" class="headerlink" title="5.1 导航菜单"></a>5.1 导航菜单</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">Tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">Categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">List||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">    <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="attr">Link:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="attr">About:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><ul><li>必须是 <code>/xxx/</code>，后面<code>||</code>分开，然后写图标名，如果不想显示图标，图标名可不写</li><li>若主题版本大于 v4.0.0，可以直接在子目录里添加 hide 隐藏子目录，如下面的List</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">Tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">Categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">List||fas</span> <span class="string">fa-list||hide:</span></span><br><span class="line">   <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="attr">Link:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="attr">About:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><ul><li>文字可自行更改，中英文都可以</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">清单||fa</span> <span class="string">fa-heartbeat||hide:</span></span><br><span class="line">    <span class="string">音乐:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="string">照片:</span> <span class="string">/Gallery/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-images</span></span><br><span class="line">    <span class="string">电影:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="string">友链:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><p><strong>最终效果如下：</strong></p><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/ef18754197606e96f235d7a51e685e39.png" alt="image-20240229213648576"></p></div></div><h2 id="5-2-代码"><a href="#5-2-代码" class="headerlink" title="5.2 代码"></a>5.2 代码</h2><h3 id="5-2-1-代码高亮主题"><a href="#5-2-1-代码高亮主题" class="headerlink" title="5.2.1 代码高亮主题"></a>5.2.1 代码高亮主题</h3><p>Butterfly支持 6 种代码高亮样式：</p><ul><li>darker</li><li>pale night</li><li>light</li><li>ocean</li><li>mac</li><li>mac light</li></ul><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>highlight_theme</code>属性。</p><div class="tabs" id="highlight_theme"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="highlight_theme-1">darker</button><button type="button" class="tab " data-href="highlight_theme-2">pale night</button><button type="button" class="tab " data-href="highlight_theme-3">light</button><button type="button" class="tab " data-href="highlight_theme-4">ocean</button><button type="button" class="tab " data-href="highlight_theme-5">mac</button><button type="button" class="tab " data-href="highlight_theme-6">mac light</button></ul><div class="tab-contents"><div class="tab-item-content active" id="highlight_theme-1"><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">darker</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/a82de2bf8441ce75f3f99076ae688cef.webp?x-oss-process=image/format,png" alt=""></p></div><div class="tab-item-content" id="highlight_theme-2"><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">pale</span> <span class="string">night</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/8b1fbb5c8cb6f32bdffc433bd4afa1c1.webp?x-oss-process=image/format,png" alt=""></p></div><div class="tab-item-content" id="highlight_theme-3"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_theme: light</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/7780317b5f3f73cd43555db291076cb4.webp?x-oss-process=image/format,png" alt=""></p></div><div class="tab-item-content" id="highlight_theme-4"><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">ocean</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/d7d108ae597028bb08103c635d5a7751.webp?x-oss-process=image/format,png" alt=""></p></div><div class="tab-item-content" id="highlight_theme-5"><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">mac</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/70d1b847f4938d86fdb3e85679b61acb.webp?x-oss-process=image/format,png" alt=""></p></div><div class="tab-item-content" id="highlight_theme-6"><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">mac</span> <span class="string">light</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/18c1c28a4ce70f2102a9639c739afae6.webp?x-oss-process=image/format,png" alt=""></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h3 id="5-2-2-代码复制"><a href="#5-2-2-代码复制" class="headerlink" title="5.2.2 代码复制"></a>5.2.2 代码复制</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>highlight_copy</code>属性，<code>true</code>表示可以复制。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="5-2-3-代码框展开-关闭"><a href="#5-2-3-代码框展开-关闭" class="headerlink" title="5.2.3 代码框展开\关闭"></a>5.2.3 代码框展开\关闭</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>。中的<code>highlight_shrink</code>属性。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">false</span> <span class="comment">#代码框展开，有&gt;点击按钮</span></span><br></pre></td></tr></table></figure><p>在默认情况下，代码框自动展开，可设置是否所有代码框都关闭状态，点击&gt;可展开代码。</p><ul><li>true 全部代码框不展开，需点击&gt;打开</li><li>false 代码框展开，有&gt;点击按钮</li><li>none 不显示&gt;按钮</li></ul><h3 id="5-2-4-代码换行"><a href="#5-2-4-代码换行" class="headerlink" title="5.2.4 代码换行"></a>5.2.4 代码换行</h3><p>在默认情况下，Hexo 在编译的时候不会实现代码自动换行。如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。</p><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>code_word_wrap</code>属性。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="5-2-5-代码高度限制"><a href="#5-2-5-代码高度限制" class="headerlink" title="5.2.5 代码高度限制"></a>5.2.5 代码高度限制</h3><p>可配置代码高度限制，超出的部分会隐藏，并显示展开按钮。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_height_limit:</span> <span class="number">200</span> <span class="comment"># unit: px</span></span><br></pre></td></tr></table></figure><ol><li>单位是<code>px</code>，直接添加数字，如 200</li><li>实际限制高度为<code>highlight_height_limit + 30 px</code> ，多增加 30px 限制，目的是避免代码高度只超出highlight_height_limit 一点时，出现展开按钮，展开没内容。</li><li>不适用于隐藏后的代码块（ css 设置 <code>display: none</code>）。</li></ol><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/98068e0666243497368abb0fab370d22.png" alt="image-20240301125506395"></p></div></div><h2 id="5-3-社交图片"><a href="#5-3-社交图片" class="headerlink" title="5.3 社交图片"></a>5.3 社交图片</h2><p><code>Butterfly</code>支持<a href="https://fontawesome.com/icons?from=io">font-awesome v6</a>图标。</p><p>书写格式：<code>图标名：url || 描述性文字</code>。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">fab fa-github:</span> <span class="string">https://github.com/xxxxx</span> <span class="string">||</span> <span class="string">Github</span></span><br><span class="line">  <span class="attr">fas fa-envelope:</span> <span class="string">mailto:xxxxxx@gmail.com</span> <span class="string">||</span> <span class="string">Email</span></span><br></pre></td></tr></table></figure><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/cbba70d8c7b36eeefda944c96e4c6baa.png" alt="image-20240301125711830"></p></div></div><h2 id="5-4-顶部图"><a href="#5-4-顶部图" class="headerlink" title="5.4 顶部图"></a>5.4 顶部图</h2><p>如果不要显示顶部图，可直接配置 <code>disable_top_img: true</code>。</p><div class="table-container"><table><thead><tr><th>配置</th><th>解释</th></tr></thead><tbody><tr><td>index_img</td><td>主页的 top_img</td></tr><tr><td>default_top_img</td><td>默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td></tr><tr><td>archive_img</td><td>归档页面的 top_img</td></tr><tr><td>tag_img</td><td>tag子页面 的 默认 top_img</td></tr><tr><td>tag_per_img</td><td>tag子页面的 top_img，可配置每个 tag 的 top_img</td></tr><tr><td>category_img</td><td>category 子页面 的 默认 top_img</td></tr><tr><td>category_per_img</td><td>category 子页面的 top_img，可配置每个 category 的 top_img</td></tr></tbody></table></div><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_img:</span> <span class="string">xxx.png</span></span><br></pre></td></tr></table></figure><p>其它页面 （tags/categories/自建页面）和文章页的<code>top_img</code>，请到对应的 md 页面设置<code>front-matter</code>中的<code>top_img</code>。</p><h2 id="5-5-文章置顶和封面"><a href="#5-5-文章置顶和封面" class="headerlink" title="5.5 文章置顶和封面"></a>5.5 文章置顶和封面</h2><ol><li><p>你可以直接在文章的<code>front-matter</code>区域里添加<code>sticky: 1</code>属性来把这篇文章置顶。数值越大，置顶的优先级越大。</p></li><li><p>文章的markdown文档上，在<code>Front-matter</code>添加<code>cover</code>，并填上要显示的图片地址。如果不配置<code>cover</code>，可以设置显示默认的<code>cover</code>；如果不想在首页显示cover，可以设置为<code>false</code>。<br>修改主题配置文件<code>_config.butterfly.yml</code>。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># 是否显示文章封面</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 封面显示的位置</span></span><br><span class="line">  <span class="comment"># 三个值可配置 left , right , both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># 当没有设置cover时，默认的封面显示</span></span><br><span class="line">  <span class="attr">default_cover:</span> </span><br></pre></td></tr></table></figure><p>当配置多张图片时，会随机选择一张作为cover，此时写法应为：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">default_cover:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/img/bg1.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/img/bg2.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/img/bg3.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/img/bg4.webp</span></span><br></pre></td></tr></table></figure><p>这里 <code>/</code>目录指<code>source</code>目录</p><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/5a31c0463a3c0948f75c0f933b277427.png" alt="image-20240301130448637"></p></div></div></li></ol><h2 id="5-6-文章页相关配置"><a href="#5-6-文章页相关配置" class="headerlink" title="5.6 文章页相关配置"></a>5.6 文章页相关配置</h2><h3 id="5-6-1-文章-meta-显示"><a href="#5-6-1-文章-meta-显示" class="headerlink" title="5.6.1 文章 meta 显示"></a>5.6.1 文章 meta 显示</h3><p><code>post_meta</code>这个属性用于显示文章的相关信息的，修改主题配置文件<code>_config.butterfly.yml</code>。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 主页文章日期是创建日或者更新日或都显示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative 显示日期还是相对日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 主页是否显示标签</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 文章页日期是创建日或者更新日或都显示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative 显示日期还是相对日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示标签</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br></pre></td></tr></table></figure><h3 id="5-6-2-文章版权和协议许可"><a href="#5-6-2-文章版权和协议许可" class="headerlink" title="5.6.2 文章版权和协议许可"></a>5.6.2 文章版权和协议许可</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">author_href:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure><p>由于<code>Hexo 4.1</code>开始，默认对网址进行解码，以至于如果是中文网址，会被解码，可设置<code>decode: true</code>来显示中文网址。如果有文章（例如：转载文章）不需要显示版权，可以在文章页<code>Front-matter</code>中单独设置。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copyright: false</span><br></pre></td></tr></table></figure><p>从<code>v3.0.0</code>开始，支持对单独文章设置版权信息，可以在文章<code>Front-matter</code>单独设置。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">post<span class="emphasis">_copyright:</span></span><br><span class="line"><span class="emphasis">copyright_</span>author: xxxx</span><br><span class="line">copyright<span class="emphasis">_author_</span>href: https://xxxxxx.com</span><br><span class="line">copyright<span class="emphasis">_url: https://xxxxxx.com</span></span><br><span class="line"><span class="emphasis">copyright_</span>info: 此文章版权归xxxxx所有，如有转载，请註明来自原作者</span><br></pre></td></tr></table></figure><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/cec59844660c4699a4b9678657719a71.png" alt="image-20240301133139550"></p></div></div><h3 id="5-6-3-文章打赏"><a href="#5-6-3-文章打赏" class="headerlink" title="5.6.3 文章打赏"></a>5.6.3 文章打赏</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/wechat.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">wechat</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/alipay.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">alipay</span></span><br></pre></td></tr></table></figure><h3 id="5-6-4-文章目录TOC"><a href="#5-6-4-文章目录TOC" class="headerlink" title="5.6.4 文章目录TOC"></a>5.6.4 文章目录TOC</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span> <span class="comment"># 文章页是否显示 TOC</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">false</span> <span class="comment"># 普通页面是否显示 TOC</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span> <span class="comment"># 是否显示章节数</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">false</span><span class="comment"># 是否展开 TOC</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">false</span> <span class="comment"># for post 简洁模式（侧边栏只显示 TOC, 只对文章页有效 ）</span></span><br></pre></td></tr></table></figure><h3 id="5-6-5-相关文章推荐"><a href="#5-6-5-相关文章推荐" class="headerlink" title="5.6.5 相关文章推荐"></a>5.6.5 相关文章推荐</h3><p>相关文章推荐的原理是根据文章tags的比重来推荐，修改主题配置文件<code>_config.butterfly.yml</code>。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span> <span class="comment"># 显示推荐文章数目</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># or created or updated 文章日期显示创建日或者更新日</span></span><br></pre></td></tr></table></figure><h3 id="5-6-6-文章过期提醒"><a href="#5-6-6-文章过期提醒" class="headerlink" title="5.6.6 文章过期提醒"></a>5.6.6 文章过期提醒</h3><p>可设置是否显示文章过期提醒，以更新时间为基准。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Displays outdated notice for a post (文章过期提醒)</span></span><br><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">365</span> <span class="comment"># 距离更新时间多少天才显示文章过期提醒</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">It</span> <span class="string">has</span> <span class="string">been</span> <span class="comment"># 天数之前的文字</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">days</span> <span class="string">since</span> <span class="string">the</span> <span class="string">last</span> <span class="string">update,</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">the</span> <span class="string">article</span> <span class="string">may</span> <span class="string">be</span> <span class="string">outdated.</span> <span class="comment"># 天数之后的文字</span></span><br></pre></td></tr></table></figure><h3 id="5-6-7-文章分页按钮"><a href="#5-6-7-文章分页按钮" class="headerlink" title="5.6.7 文章分页按钮"></a>5.6.7 文章分页按钮</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># post_pagination (分页)</span></span><br><span class="line"><span class="comment"># value: 1 || 2 || false# false:为关闭分页按钮；1:下一篇显示的是旧文章；2:下一篇显示的是新文章</span></span><br><span class="line"><span class="comment"># 1: The &#x27;next post&#x27; will link to old post</span></span><br><span class="line"><span class="comment"># 2: The &#x27;next post&#x27; will link to new post</span></span><br><span class="line"><span class="comment"># false: disable pagination</span></span><br><span class="line"><span class="attr">post_pagination:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="5-7-头像"><a href="#5-7-头像" class="headerlink" title="5.7 头像"></a>5.7 头像</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">/img/avatar.jpg</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">false</span> <span class="comment"># true则会一直转圈</span></span><br></pre></td></tr></table></figure><h2 id="5-8-文章内容复制相关配置"><a href="#5-8-文章内容复制相关配置" class="headerlink" title="5.8 文章内容复制相关配置"></a>5.8 文章内容复制相关配置</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># copy settings</span></span><br><span class="line"><span class="comment"># copyright: Add the copyright information after copied content (复制的内容后面加上版权信息)</span></span><br><span class="line"><span class="attr">copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span><span class="comment"># 是否开启网站复制权限</span></span><br><span class="line">  <span class="attr">copyright:</span><span class="comment"># 复制的内容后面加上版权信息</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span><span class="comment"># 是否开启复制版权信息添加</span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">50</span><span class="comment"># 字数限制，当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息</span></span><br></pre></td></tr></table></figure><h2 id="5-9-Footer-设置"><a href="#5-9-Footer-设置" class="headerlink" title="5.9 Footer 设置"></a>5.9 Footer 设置</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2024</span><span class="comment"># 站点起始时间</span></span><br><span class="line">  <span class="attr">custom_text:</span><span class="comment"># 是一个给你用来在页脚自定义文本的选项。通常你可以在这里写声明文本等,支持 HTML。</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">false</span> <span class="comment"># Copyright of theme and framework</span></span><br></pre></td></tr></table></figure><p>可以参考tzy大佬的的<code>custom_text</code>填写示例：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">I</span> <span class="string">wish</span> <span class="string">you</span> <span class="string">to</span> <span class="string">become</span> <span class="string">your</span> <span class="string">own</span> <span class="string">sun,</span> <span class="literal">no</span> <span class="string">need</span> <span class="string">to</span> <span class="string">rely</span> <span class="string">on</span> <span class="string">who&#x27;s</span> <span class="string">light.&lt;p&gt;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://hexo.io/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo&quot;</span> <span class="string">title=&quot;博客框架为Hexo&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://butterfly.js.org/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender&quot;</span> <span class="string">title=&quot;主题采用butterfly&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://www.jsdelivr.com/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr&quot;</span> <span class="string">title=&quot;本站使用JsDelivr为静态资源提供CDN加速&quot;&gt;&lt;/a&gt;</span> <span class="string">&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://vercel.com/</span> <span class="string">&quot;&gt;&lt;img src=&quot;</span><span class="string">https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&amp;logo=Vercel&quot;</span> <span class="string">title=&quot;本站采用双线部署，默认线路托管于Vercel&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://vercel.com/</span> <span class="string">&quot;&gt;&lt;img src=&quot;</span><span class="string">https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&amp;logo=Codio&quot;</span> <span class="string">title=&quot;本站采用双线部署，联通线路托管于Coding&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://github.com/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub&quot;</span> <span class="string">title=&quot;本站项目由Gtihub托管&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris&quot;</span> <span class="string">title=&quot;本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可&quot;&gt;&lt;/a&gt;&lt;/p&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/1ed9c7dae72237995e61ba01729068ed.png" alt="img"></p><p>对于部分人需要写 ICP 的，也可以写在custom_text里。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">&lt;a</span> <span class="string">href=&quot;icp链接&quot;&gt;&lt;img</span> <span class="string">class=&quot;icp-icon&quot;</span> <span class="string">src=&quot;icp图片&quot;&gt;&lt;span&gt;备案号：xxxxxx&lt;/span&gt;&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><h2 id="5-10-右下角按钮"><a href="#5-10-右下角按钮" class="headerlink" title="5.10 右下角按钮"></a>5.10 右下角按钮</h2><h3 id="5-10-1-简繁转换"><a href="#5-10-1-简繁转换" class="headerlink" title="5.10.1 简繁转换"></a>5.10.1 简繁转换</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 默认按钮显示文字(网站是简体，应设置为&#x27;default: 繁&#x27;)</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">繁</span></span><br><span class="line">  <span class="comment"># the language of website (1 - Traditional Chinese/ 2 - Simplified Chinese）</span></span><br><span class="line">  <span class="comment"># 网站默认语言，1: 繁体中文, 2: 简体中文</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">2</span></span><br><span class="line">  <span class="comment"># Time delay 延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># 当文字是简体时，按钮显示的文字</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">&#x27;繁&#x27;</span></span><br><span class="line">  <span class="comment"># 当文字是繁体时，按钮显示的文字</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">&#x27;簡&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="5-10-2-夜间模式"><a href="#5-10-2-夜间模式" class="headerlink" title="5.10.2 夜间模式"></a>5.10.2 夜间模式</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dark mode</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># dark 和 light 两种模式切换按钮</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Switch dark/light mode automatically (自動切換 dark mode和 light mode)</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 1  Following System Settings, if the system doesn&#x27;t support dark mode, it will switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: false</span></span><br><span class="line">  <span class="attr">autoChangeMode:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>v2.0.0 开始增加一个选项，可开启自动切换light mode 和 dark mode。</p><ul><li><code>autoChangeMode: 1</code> 跟随系统而变化，不支持的浏览器/系统将按照时间晚上6点到早上6点之间切换为 dark mode。</li><li><code>autoChangeMode: 2</code>只按照时间 晚上6点到早上6点之间切换为 dark mode,其余时间为light mode。</li><li><code>autoChangeMode: false</code> 取消自动切换。</li></ul><h3 id="5-10-3-阅读模式"><a href="#5-10-3-阅读模式" class="headerlink" title="5.10.3 阅读模式"></a>5.10.3 阅读模式</h3><p>阅读模式下会去掉除文章外的内容，避免干扰阅读。只会出现在文章页面，右下角会有阅读模式按钮。</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">readmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="5-11-侧边栏设置"><a href="#5-11-侧边栏设置" class="headerlink" title="5.11 侧边栏设置"></a>5.11 侧边栏设置</h2><h3 id="5-11-1-排版"><a href="#5-11-1-排版" class="headerlink" title="5.11.1 排版"></a>5.11.1 排版</h3><p>可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏。</p><p>修改主题配置文件<code>_config.butterfly.yml</code>，下面是本人博客的配置项可以参考</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">archive:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">category:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="comment"># fab fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">🛴</span> <span class="string">前往小家...</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/redbeancc</span></span><br><span class="line">  <span class="attr">card_announcement:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">欢迎来到我的博客</span></span><br><span class="line">  <span class="attr">card_recent_post:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">5</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort:</span> <span class="string">date</span> <span class="comment"># date or updated</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_categories:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">expand:</span> <span class="string">none</span> <span class="comment"># none/true/false</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_tags:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">40</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">color:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">orderby:</span> <span class="string">random</span> <span class="comment"># Order of tags, random/name/length</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_archives:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">monthly</span> <span class="comment"># yearly or monthly</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">MMMM</span> <span class="string">YYYY</span> <span class="comment"># eg: YYYY年MM月</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_webinfo:</span></span><br><span class="line">    <span class="attr">headline:</span> <span class="string">网站信息</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">post_count:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">last_push_date:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_post_series:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">series_title:</span> <span class="literal">false</span> <span class="comment"># The title shows the series name</span></span><br><span class="line">    <span class="attr">orderBy:</span> <span class="string">&#x27;date&#x27;</span> <span class="comment"># Order by title or date</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br></pre></td></tr></table></figure><h3 id="5-11-2-访问人数-UV-和-PV"><a href="#5-11-2-访问人数-UV-和-PV" class="headerlink" title="5.11.2 访问人数(UV 和 PV)"></a>5.11.2 访问人数(UV 和 PV)</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">false</span>  <span class="comment"># 本站总访客数</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">false</span>  <span class="comment"># 本站总访问量 </span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span>  <span class="comment"># 本文总阅读量</span></span><br></pre></td></tr></table></figure><h3 id="5-11-3-运行时间"><a href="#5-11-3-运行时间" class="headerlink" title="5.11.3 运行时间"></a>5.11.3 运行时间</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Time difference between publish date and now (網頁運行時間)</span></span><br><span class="line"><span class="comment"># Formal: Month/Day/Year Time or Year/Month/Day Time</span></span><br><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">publish_date:</span> <span class="number">02</span><span class="string">/21/2024</span> <span class="number">00</span><span class="string">:00:00</span></span><br><span class="line">  <span class="comment">##网页开通时间</span></span><br><span class="line">  <span class="comment">#格式: 月/日/年 时间</span></span><br><span class="line">  <span class="comment">#也可以写成 年/月/日 时间</span></span><br></pre></td></tr></table></figure><h3 id="5-11-4-最新评论"><a href="#5-11-4-最新评论" class="headerlink" title="5.11.4 最新评论"></a>5.11.4 最新评论</h3><p><code>v3.1.0</code> 以上支持。如果未配置任何评论，前先不要开启该功能。</p><p>最新评论只会在刷新时才会去读取，并不会实时变化。<br>由于 API 有 访问次数限制，为了避免调用太多，主题默认存取期限为 10 分鐘。也就是説，调用后资料会存在 <code>localStorage</code> 里，10分鐘内刷新网站只会去 <code>localStorage</code> 读取资料。 10 分鐘期限一过，刷新页面时才会去调取 API 读取新的数据。（3.6.0 新增了 storage 配置，可自行配置缓存时间）。</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Aside widget - Newest Comments</span></span><br><span class="line"><span class="attr">newest_comments:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span>  <span class="comment"># 显示的数量</span></span><br><span class="line">  <span class="attr">storage:</span> <span class="number">10</span> <span class="comment"># 设置缓存时间，单位 分钟 </span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="literal">true</span> <span class="comment"># 是否显示头像</span></span><br></pre></td></tr></table></figure><h2 id="5-12-网站背景"><a href="#5-12-网站背景" class="headerlink" title="5.12 网站背景"></a>5.12 网站背景</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 图片格式 url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="comment"># 颜色（HEX值/RGB值/颜色单词/渐变色)</span></span><br><span class="line"><span class="comment"># 留空 不显示背景</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">url(/img/home_bg.webp)</span></span><br></pre></td></tr></table></figure><p>如果你的网站根目录不是<code>&#39;/&#39;</code>，使用本地图片时，需加上你的根目录。<br>例如：网站是 <code>https://yoursite.com/blog</code>，引用一张<code>img/xx.png</code>图片，则设置<code>background</code>为 <code>url(/blog/img/xx.png)</code>，<code>/</code>指的是<code>/source</code>目录。</p><h2 id="5-13-打字效果"><a href="#5-13-打字效果" class="headerlink" title="5.13 打字效果"></a>5.13 打字效果</h2><p>详见：<a href="https://github.com/disjukr/activate-power-mode">activate-power-mode</a></p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line"><span class="comment"># https://github.com/disjukr/activate-power-mode</span></span><br><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span> <span class="comment"># open particle animation (冒光特效)</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">true</span> <span class="comment">#  open shake (抖動特效)</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="5-14-footer-背景"><a href="#5-14-footer-背景" class="headerlink" title="5.14 footer 背景"></a>5.14 footer 背景</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># footer是否显示图片背景(与top_img一致)</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>留空/false</code>：显示默认的颜色</li><li><code>图片链接</code>：显示所配置的图片</li><li><code>颜色包括HEX值 - #0000FF | RGB值 - rgb(0,0,255) | 颜色单词 - orange | 渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)</code>：对应的颜色</li><li><code>true</code>：显示跟 top_img 一样</li></ul><h2 id="5-15-背景特效"><a href="#5-15-背景特效" class="headerlink" title="5.15 背景特效"></a>5.15 背景特效</h2><div class="tabs" id="canvas"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="canvas-1">静止彩带</button><button type="button" class="tab " data-href="canvas-2">动态彩带</button><button type="button" class="tab " data-href="canvas-3">canvas_next</button></ul><div class="tab-contents"><div class="tab-item-content active" id="canvas-1"><p>可设置每次刷新更换彩带，或者每次点击更换彩带。详细配置可查看<a href="https://github.com/hustcc/ribbon.js">canvas_ribbon</a></p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">false</span>  <span class="comment">#設置是否每次點擊都更換彩带</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手機端不顯示 true 手機端顯示</span></span><br></pre></td></tr></table></figure><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/f5aa3abe09025d4a80290694abf27c6b.png" alt="image-20240301140140450"></p></div></div></div><div class="tab-item-content" id="canvas-2"><p>好看的彩带背景，会飘动。<br>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_fluttering_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/22244264e2850b0b30abc575ad26e75b.png" alt="image-20240301140417453"></p></div></div></div><div class="tab-item-content" id="canvas-3"><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&#x27;255,254,250&#x27;</span> <span class="comment">#color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">1</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">88</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手機端不顯示 true 手機端顯示</span></span><br></pre></td></tr></table></figure><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/1ecc27d7d5476976fc044b81622af964.png" alt="image-20240301140856508"></p></div></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="5-16-鼠标点击效果"><a href="#5-16-鼠标点击效果" class="headerlink" title="5.16 鼠标点击效果"></a>5.16 鼠标点击效果</h2><div class="tabs" id="mouseclick"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="mouseclick-1">烟花</button><button type="button" class="tab " data-href="mouseclick-2">爱心</button><button type="button" class="tab " data-href="mouseclick-3">文字</button></ul><div class="tab-contents"><div class="tab-item-content active" id="mouseclick-1"><p><code>zIndex</code>建议只在<code>-1</code>和<code>9999</code>上选。<br><code>-1</code> 代表烟火效果在底部。<br><code>9999</code> 代表烟火效果在前面。</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span> <span class="comment"># -1 or 9999</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="mouseclick-2"><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 点击出現爱心</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="mouseclick-3"><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 点击出现文字，文字可自行修改</span></span><br><span class="line"><span class="comment"># Mouse click effects: words (鼠標點擊效果: 文字)</span></span><br><span class="line"><span class="attr">clickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">text:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">富强</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">民主</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">文明</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">和谐</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">自由</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">平等</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">公正</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">法治</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">爱国</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">敬业</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">诚信</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">友善</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br><span class="line">  <span class="attr">random:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="5-17-自定义字体和字体大小"><a href="#5-17-自定义字体和字体大小" class="headerlink" title="5.17 自定义字体和字体大小"></a>5.17 自定义字体和字体大小</h2><h3 id="5-17-1-全局字体"><a href="#5-17-1-全局字体" class="headerlink" title="5.17.1 全局字体"></a>5.17.1 全局字体</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>font-family</code>属性即可，如不需要配置，请留空。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Global font settings</span></span><br><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span> <span class="string">&#x27;15px&#x27;</span></span><br><span class="line">  <span class="attr">code-font-size:</span> <span class="string">&#x27;14px&#x27;</span></span><br><span class="line">  <span class="comment"># -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot; , &quot;Helvetica Neue&quot; , Lato, Roboto, &quot;PingFang SC&quot; , &quot;Microsoft JhengHei&quot; , &quot;Microsoft YaHei&quot; , sans-serif</span></span><br><span class="line">  <span class="comment"># Wenkai, consolas, -apple-system, &#x27;Quicksand&#x27;, &#x27;Nimbus Roman No9 L&#x27;, &#x27;PingFang SC&#x27;, &#x27;Hiragino Sans GB&#x27;, &#x27;Noto Serif SC&#x27;, &#x27;Microsoft Yahei&#x27;, &#x27;WenQuanYi Micro Hei&#x27;, &#x27;ST Heiti&#x27;, sans-serif;</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">var(--global-font),</span> <span class="string">Consolas_1,</span> <span class="string">-apple-system,</span> <span class="string">&#x27;Quicksand&#x27;</span><span class="string">,</span> <span class="string">&#x27;Nimbus Roman No9 L&#x27;</span><span class="string">,</span> <span class="string">&#x27;PingFang SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Hiragino Sans GB&#x27;</span><span class="string">,</span> <span class="string">&#x27;Noto Serif SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft Yahei&#x27;</span><span class="string">,</span> <span class="string">&#x27;WenQuanYi Micro Hei&#x27;</span><span class="string">,</span> <span class="string">&#x27;ST Heiti&#x27;</span><span class="string">,</span> <span class="string">sans-serif;</span></span><br><span class="line">  <span class="comment"># consolas, ZhuZiAWan_light, &quot;Microsoft YaHei&quot;, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, sans-serif</span></span><br><span class="line">  <span class="comment"># Consolas_1, ZhuZiAWan_light, &quot;Microsoft YaHei&quot;, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, sans-serif</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">Consolas_1,</span> <span class="string">var(--global-font),</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">Menlo,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br></pre></td></tr></table></figure><h3 id="5-17-2-Blog-标题字体"><a href="#5-17-2-Blog-标题字体" class="headerlink" title="5.17.2 Blog 标题字体"></a>5.17.2 Blog 标题字体</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>blog_title_font</code>属性即可，如不需要配置，请留空。<br>如不需要使用网络字体，只需要把font_link留空就行。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Font settings for the site title and site subtitle</span></span><br><span class="line"><span class="comment"># https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap</span></span><br><span class="line"><span class="comment"># Titillium Web, &#x27;PingFang SC&#x27; , &#x27;Hiragino Sans GB&#x27; , &#x27;Microsoft JhengHei&#x27; , &#x27;Microsoft YaHei&#x27; , sans-serif</span></span><br><span class="line"><span class="comment"># 左上角網站名字 主頁居中網站名字</span></span><br><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span> </span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">var(--global-font)</span></span><br></pre></td></tr></table></figure><h2 id="5-18-网站副标题"><a href="#5-18-网站副标题" class="headerlink" title="5.18 网站副标题"></a>5.18 网站副标题</h2><p>可设置主页中显示的网站副标题或者喜欢的座右铭。</p><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>subtitle</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># the subtitle on homepage (主頁subtitle)</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># loop (循環打字)</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># source 調用第三方服務</span></span><br><span class="line">  <span class="comment"># source: false 關閉調用</span></span><br><span class="line">  <span class="comment"># source: 1  調用一言網的一句話（簡體） https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 2  調用一句網（簡體） http://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 3  調用今日詩詞（簡體） https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle 會先顯示 source , 再顯示 sub 的內容</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 如果關閉打字效果，subtitle 只會顯示 sub 的第一行文字</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&quot;及时当勉励 ，岁月不待人。&quot;</span></span><br></pre></td></tr></table></figure><p>预览效果见本站主页：<a href="https://redbeancc.github.io">RedBean🌺🌺</a></p><h2 id="5-19-页面加载动画preloader"><a href="#5-19-页面加载动画preloader" class="headerlink" title="5.19 页面加载动画preloader"></a>5.19 页面加载动画preloader</h2><p>当进入网页时，因为加载速度的问题，可能会导致top_img图片出现断层显示，或者网页加载不全而出现等待时间，开启preloader后，会显示加载动画，等页面加载完，加载动画会消失。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 加载动画 Loading Animation</span></span><br><span class="line"><span class="attr">preloader:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="5-20-字数统计"><a href="#5-20-字数统计" class="headerlink" title="5.20 字数统计"></a>5.20 字数统计</h2><p>注意必须要安装依赖才能设置为<code>true</code>，否则会报错！</p><ol><li>安装插件：在你的博客根目录，打开cmd命令窗口执行<code>npm install hexo-wordcount --save</code>。</li><li>开启配置：修改主题配置文件<code>_config.butterfly.yml</code>中的<code>wordcount</code>。</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="5-21-图片放大查看"><a href="#5-21-图片放大查看" class="headerlink" title="5.21 图片放大查看"></a>5.21 图片放大查看</h2><p>修改主题配置文件<code>_config.butterfly.yml</code>中<code>fancybox</code>属性</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fancybox http://fancyapps.com/fancybox/3/</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="5-22-Pjax"><a href="#5-22-Pjax" class="headerlink" title="5.22 Pjax"></a>5.22 Pjax</h2><p>当用户点击链接，通过 <code>ajax</code> 更新页面需要变化的部分，然后使用 HTML5 的 <code>pushState</code> 修改浏览器的 URL 地址。这样可以不用重复加载相同的资源<code>（css/js）</code>， 从而提升网页的加载速度。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pjax [Beta]</span></span><br><span class="line"><span class="comment"># It may contain bugs and unstable, give feedback when you find the bugs.</span></span><br><span class="line"><span class="comment"># https://github.com/MoOx/pjax</span></span><br><span class="line"><span class="attr">pjax:</span> </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 对于一些第三方插件，有些并不支持 pjax 。</span></span><br><span class="line">  <span class="comment"># 你可以把网页加入到 exclude 里，这个网页会被 pjax 排除在外。</span></span><br><span class="line">  <span class="comment"># 点击该网页会重新加载网站。</span></span><br><span class="line">  <span class="attr">exclude:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">/music/</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/no-pjax/</span></span><br></pre></td></tr></table></figure><p>注意：使用 pjax 后，一些自己DIY的js可能会无效，跳转页面时需要重新调用（例如朋友圈、说说等），具体请参考<a href="https://github.com/MoOx/pjax">Pjax文档</a>。</p><h2 id="5-23-Inject"><a href="#5-23-Inject" class="headerlink" title="5.23 Inject"></a>5.23 Inject</h2><p>如想添加额外的 js/css/meta 等等东西，可以在 Inject 里添加，head(<code>&lt;/body&gt;</code>标签之前)， bottom(<code>&lt;/html&gt;</code>标签之前)。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/xxx.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="5-24-本地搜索系统"><a href="#5-24-本地搜索系统" class="headerlink" title="5.24 本地搜索系统"></a>5.24 本地搜索系统</h2><ol><li><p>安装依赖：前往博客根目录，打开cmd命令窗口执行<code>npm install hexo-generator-search --save</code>。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure></li><li><p>注入配置：修改站点配置文件<code>_config.yml</code>，添加如下代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本地搜索</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p>主题中开启搜索：在主题配置文件<code>_config.butterfly.yml</code>中修改以下内容：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br></pre></td></tr></table></figure></li><li><p>重新编译运行，即可看到效果：前往博客根目录，打开cmd命令窗口依次执行如下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo cl &amp;&amp; hexo generate</span><br><span class="line">hexo s -p 8000</span><br></pre></td></tr></table></figure><p>详情可参考 <a href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a></p><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/460787a345914c2553e51f3f73460d14.png" alt="image-20240301151334032"></p></div></div></li></ol><h2 id="5-25-主题颜色"><a href="#5-25-主题颜色" class="headerlink" title="5.25 主题颜色"></a>5.25 主题颜色</h2><p>在<code>_config.butterfly.yml</code>中，开启美化，将网站主题颜色修改</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Beautify/Effect (美化/效果)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Theme color for customize</span></span><br><span class="line"><span class="comment"># Notice: color value must in double quotes like &quot;#000&quot; or may cause error!</span></span><br><span class="line"></span><br><span class="line"><span class="attr">theme_color:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">main:</span> <span class="string">&quot;#64d1c9&quot;</span></span><br><span class="line"><span class="comment">#   paginator: &quot;#00c4b6&quot;</span></span><br><span class="line"><span class="comment">#   button_hover: &quot;#FF7242&quot;</span></span><br><span class="line"><span class="comment">#   text_selection: &quot;#00c4b6&quot;</span></span><br><span class="line"><span class="comment">#   link_color: &quot;#99a9bf&quot;</span></span><br><span class="line"><span class="comment">#   meta_color: &quot;#858585&quot;</span></span><br><span class="line">  <span class="attr">hr_color:</span> <span class="string">&quot;#64d1c9&quot;</span></span><br><span class="line"><span class="comment">#   code_foreground: &quot;#F47466&quot;</span></span><br><span class="line"><span class="comment">#   code_background: &quot;rgba(27, 31, 35, .05)&quot;</span></span><br><span class="line"><span class="comment">#   toc_color: &quot;#00c4b6&quot;</span></span><br><span class="line"><span class="comment">#   blockquote_padding_color: &quot;#49b1f5&quot;</span></span><br><span class="line"><span class="comment">#   blockquote_background_color: &quot;#49b1f5&quot;</span></span><br><span class="line"><span class="comment">#   scrollbar_color: &quot;#49b1f5&quot;</span></span><br><span class="line"><span class="comment">#   meta_theme_color_light: &quot;ffffff&quot;</span></span><br><span class="line"><span class="comment">#   meta_theme_color_dark: &quot;#0d0d0d&quot;</span></span><br></pre></td></tr></table></figure><p>这里也可以修改颜色，比如按钮、切割线等。</p><div class="note warning flat"><p>基础介绍已完成，下面将是 butterfly 主题魔改部分！</p></div>]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo基础搭建教程（一）</title>
      <link href="/post/3324b066.html"/>
      <url>/post/3324b066.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>前言</strong>📇</p><ol><li>本文参考<a href="https://www.fomal.cc/posts/e593433d.html">Hexo博客搭建基础教程(一)</a>、<a href="https://blog.csdn.net/wushibo123/article/details/124619123">【2023最新版】Hexo+github搭建个人博客并绑定个人域名</a></li><li>本系列基本上都是各位大佬造好的轮子，具体参考 <a href="https://www.fomal.cc/">Fomalhaut大佬</a>。其目的在于防止各位大佬的链接失效，且个人复习总结使用，如有侵权请联系删除。</li><li>本系列起始空白的虚拟机，一步一步搭建魔改页面，使用本地端口。若想部署在其它平台，可自寻查找。</li><li>鉴于每个人的根目录名称都不一样，本帖<strong>博客根目录</strong>一律以<code>[BlogRoot]</code>指代。</li><li>本帖涉及魔改源码的内容，会使用<strong>diff代码块</strong>标识，复制时请<strong>不要忘记删除</strong>前面的<code>+、-</code>符号。</li><li>因为<code>.pug</code>和<code>.styl</code>以及<code>.yml</code>等对缩进要求较为严格，请尽量<strong>不要使用记事本等无法提供语法高亮的文本编辑器</strong>进行修改。</li><li>本系列基于<code>Butterfly主题</code>进行魔改方案编写，hexo 版本 <code>6.3.0</code>，Butterfly 版本 <code>4.12.0</code>。</li><li>魔改会过程常常引入<strong>自定义的css与js文件</strong>，具体方法见方法见<a href="https://b.leonus.cn/2022/custom.html">Hexo博客添加自定义css和js文件</a></li></ol></blockquote><p><strong>博客搭建与魔改系列教程导航🚥🚥🚥</strong></p><ol><li>🎀<a href="https://redbeancc.github.io/post/3324b066.html">hexo基础搭建教程（一）</a>⬅当前位置🛸</li><li>🎆<a href="https://redbeancc.github.io/post/837c228f.html">hexo基础搭建教程（二）</a></li><li>🎇<a href="https://redbeancc.github.io/post/781096aa.html">魔改教程总结（一）</a></li><li>🧨<a href="https://redbeancc.github.io/post/48067a72.html">魔改教程总结（二）</a></li><li>✨<a href="https://redbeancc.github.io/post/518d920.html">魔改教程总结（三）</a></li></ol><h1 id="1-环境与工具准备"><a href="#1-环境与工具准备" class="headerlink" title="1. 环境与工具准备"></a>1. 环境与工具准备</h1><ul><li>windows 10 操作系统</li><li>node.js</li><li>git</li><li>hexo</li><li>butterfly（魔改主题）</li></ul><h1 id="2-安装配置-node"><a href="#2-安装配置-node" class="headerlink" title="2. 安装配置 node"></a>2. 安装配置 node</h1><p>下载地址：<a href="https://nodejs.org/en">https://nodejs.org/en</a></p><p>可以不用下载最新的 node，防止版本冲突，我的 node 版本为 <a href="https://nodejs.org/download/release/v18.19.1/node-v18.19.1-x64.msi">18.19.1</a></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/8cc654b755b6be042f028dd0f5c64522.png" alt="image-20240229153439679"></p><p>一路 next 默认就好。安装完成后在 cmd 执行命令，查看是否安装成功。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\XinPuSen&gt;node --version</span><br><span class="line">v18.19.1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更换镜像源</span></span><br><span class="line">C:\Users\XinPuSen&gt;npm config get registry</span><br><span class="line">https://registry.npmjs.org/</span><br><span class="line"></span><br><span class="line">C:\Users\XinPuSen&gt;npm config set registry http://registry.npmjs.org/</span><br><span class="line"></span><br><span class="line">C:\Users\XinPuSen&gt;npm config get registry</span><br><span class="line">http://registry.npmjs.org/</span><br></pre></td></tr></table></figure><div class="note warning flat"><p>这里去掉 s，是为了安装后面的插件不报错，换成阿里的应该也行，没试过。</p></div><p>安装完成后，cmd不要关闭，继续安装需要的模块 express （本地服务器）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-g 是在全局安装</span></span><br><span class="line">C:\Users\XinPuSen&gt;npm install express -g</span><br></pre></td></tr></table></figure><h1 id="3-安装-git"><a href="#3-安装-git" class="headerlink" title="3. 安装 git"></a>3. 安装 git</h1><blockquote><ul><li><p>hexo 初始化需要加载一些 github 上的依赖库，所以需要下载 git</p></li><li><p>git 官网下载很慢，这里用的 cnpm ：<a href="https://registry.npmmirror.com/binary.html?path=git-for-windows/，找个不需要太新的版本下载即可，防止版本冲突。">https://registry.npmmirror.com/binary.html?path=git-for-windows/，找个不需要太新的版本下载即可，防止版本冲突。</a></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/a1ed15b95dea7e28e665721e78024f9a.png" alt="image-20240229163333379"></p></li><li><p>下载安装，一路默认 next 即可</p></li></ul></blockquote><h1 id="4-安装-hexo"><a href="#4-安装-hexo" class="headerlink" title="4. 安装 hexo"></a>4. 安装 hexo</h1><p>创建新的目录 Blog，<code>[BlogRoot]</code>就是此目录。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装 hexo</span></span><br><span class="line">C:\Users\XinPuSen\Desktop\Blog&gt;npm install -g hexo-cli</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看安装 hexo 是否成功</span></span><br><span class="line">C:\Users\XinPuSen\Desktop\Blog&gt;hexo -v</span><br><span class="line">hexo-cli: 4.3.1</span><br><span class="line">os: win32 10.0.19043</span><br><span class="line">node: 18.19.1</span><br><span class="line">acorn: 8.10.0</span><br><span class="line">ada: 2.7.2</span><br><span class="line">ares: 1.20.1</span><br><span class="line">base64: 0.5.0</span><br><span class="line">brotli: 1.0.9</span><br><span class="line">cjs_module_lexer: 1.2.2</span><br><span class="line">cldr: 43.1</span><br><span class="line">icu: 73.2</span><br><span class="line">llhttp: 6.1.0</span><br><span class="line">modules: 108</span><br><span class="line">napi: 9</span><br><span class="line">nghttp2: 1.57.0</span><br><span class="line">nghttp3: 0.7.0</span><br><span class="line">ngtcp2: 0.8.1</span><br><span class="line">openssl: 3.0.13+quic</span><br><span class="line">simdutf: 3.2.18</span><br><span class="line">tz: 2023c</span><br><span class="line">undici: 5.28.3</span><br><span class="line">unicode: 15.0</span><br><span class="line">uv: 1.44.2</span><br><span class="line">uvwasi: 0.0.19</span><br><span class="line">v8: 10.2.154.26-node.28</span><br><span class="line">zlib: 1.2.13.1-motley</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/618002bada7a98074cc51dd1d4f97eea.png" alt="image-20240229163827294"></p><ol><li><p>初始化 hexo</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/018a8104d3f0f4edcc69dbd18eefdbd6.png" alt="image-20240229164048852"></p><p>这时候回到目录，发现文件下载下来了</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/15f557369c63c6e3013b0404a2a6b0e3.png" alt="image-20240229164143949"></p><ul><li>node_modules:：这是下载的依赖包，都在里面</li><li>scaffolds：模板文件，生成的新页面，文章页的模板就在里面</li><li>source：这是最主要的目录，我们写的笔记就存放在这里</li><li>themes：主题文件，这里有默认的 landscape，稍后换成 butterfly</li><li>.gitignore：顾名思义，上传 github 中需要忽略的文件名就写在里面</li><li>_config.landscape：主题配置文件，不用管</li><li>_config：hexo 的配置文件，网站名字，第三方插件配置信息写在里面</li><li>package：依赖版本等信息，在使用 <code>npm i</code>命令时需要下载的依赖及其版本信息就在这个文件中</li></ul></li><li><p>hexo，启动！</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">git bash</span></span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vscode</span></span><br><span class="line">hexo cl;hexo g;hexo s</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当然也可以分开来一个个运行</span></span><br><span class="line">hexo cl # 等价于 hexo clear，清除数据，比如修改主题后立即生效，防止缓存</span><br><span class="line">hexo g  # 等价于 hexo generate，生成静态网页</span><br><span class="line">hexo s  # 等价于 hexo server，启动本地服务器，-p 5000，可指定端口，默认4000</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/2a713448662d8f0ac13f67e0f2de8d8e.png" alt="image-20240229165231344"></p></li><li><p>浏览器输入 <code>http://localhost:4000</code></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/a6607f104c44cfed3ff9d53bb4b1e61a.png" alt="image-20240229165736569"></p></li></ol><div class="note warning flat"><p>出现以上页面即为成功，本章已顺利完成，敬请期待下面教程。</p></div>]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git 多用户连接 gitee 和 github</title>
      <link href="/post/4d5b51ef.html"/>
      <url>/post/4d5b51ef.html</url>
      
        <content type="html"><![CDATA[<h1 id="git-多用户连接-gitee-和-github"><a href="#git-多用户连接-gitee-和-github" class="headerlink" title="git 多用户连接 gitee 和 github"></a>git 多用户连接 gitee 和 github</h1><h2 id="一、通过邮箱生成公私钥（使用-git-bash）"><a href="#一、通过邮箱生成公私钥（使用-git-bash）" class="headerlink" title="一、通过邮箱生成公私钥（使用 git bash）"></a>一、通过邮箱生成公私钥（使用 git bash）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## git bash</span></span><br><span class="line"><span class="comment"># 生成 gitee 的公私钥</span></span><br><span class="line">ssh-keygen -t rsa -f ~/.ssh/id_rsa_gitee -C <span class="string">&quot;youxiang@qq.com&quot;</span></span><br><span class="line"><span class="comment"># 生成 github 的公私钥</span></span><br><span class="line">ssh-keygen -t rsa -f ~/.ssh/id_rsa_github -C <span class="string">&quot;youxiang@qq.com&quot;</span></span><br><span class="line"><span class="comment"># 连按三下回车</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/2efb40498199c237acd3d2887adf4895.png" alt="image-20240221215650404"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/88d6de9b156b7530668d75ac3942e1a0.png" alt="image-20240221215906227"></p><h2 id="二、公钥设置进网站账户"><a href="#二、公钥设置进网站账户" class="headerlink" title="二、公钥设置进网站账户"></a>二、公钥设置进网站账户</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/fc9d2e000aab308b3a8c3c7120d947dd.png" alt="img"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/669668262abe3bccd8ecc838d81b8c12.png" alt="img"></p><h2 id="三、在-git-bash-上激活公钥，并授权"><a href="#三、在-git-bash-上激活公钥，并授权" class="headerlink" title="三、在 git bash 上激活公钥，并授权"></a>三、在 git bash 上激活公钥，并授权</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## git bash</span></span><br><span class="line"><span class="comment"># 激活 gitee 公钥</span></span><br><span class="line">ssh -T git@gitee.com -i ~/.ssh/id_rsa_gitee</span><br><span class="line"><span class="comment"># 授权</span></span><br><span class="line">授权 控制台输入<span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 激活 github 公钥</span></span><br><span class="line">ssh -T git@github.com -i ~/.ssh/id_rsa_github</span><br><span class="line"><span class="comment"># 授权</span></span><br><span class="line">授权 控制台输入<span class="built_in">yes</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/9590bffb15afa5fdd80ed9bfea3b6368.png" alt="image-20240221220336995"></p><blockquote><p>若出现失败</p><ol><li>首先查看 .ssh 目录下是否有 known_hosts 文件，若有，先删除</li><li>查看ssh链接的 github 地址</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看链接GitHub的地址</span></span><br><span class="line">ssh -vT git@github.com</span><br></pre></td></tr></table></figure><p>如果出现 127.0.0.1 或 ::1，说明 github 的 ip 地址访问不对，使用以下命令获取github的ip地址存入hosts文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## 下面命令都是在 cmd 中执行</span><br><span class="line"># 获取 github ip地址存入 hosts 文件</span><br><span class="line">nslookup github.com 8.8.8.8</span><br><span class="line"># 刷新 dns 缓存（windows）</span><br><span class="line">ipconfig /flushdns</span><br></pre></td></tr></table></figure><p>出现原因是用了 steam++ 修改了hosts</p></blockquote><h2 id="四、将私钥文件添加到-git"><a href="#四、将私钥文件添加到-git" class="headerlink" title="四、将私钥文件添加到 git"></a>四、将私钥文件添加到 git</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## git bash</span></span><br><span class="line"><span class="comment"># 启动链接输入</span></span><br><span class="line">ssh-agent bash</span><br><span class="line"><span class="comment"># 私钥文件添加到 git</span></span><br><span class="line">ssh-add ~/.ssh/id_rsa_gitee</span><br><span class="line">ssh-add ~/.ssh/id_rsa_github</span><br></pre></td></tr></table></figure><h2 id="五、配置-config-文件"><a href="#五、配置-config-文件" class="headerlink" title="五、配置 config 文件"></a>五、配置 config 文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## git bash</span></span><br><span class="line"><span class="comment">#创建 config 文件，一般在 .ssh/config 文件内</span></span><br><span class="line"><span class="built_in">touch</span> ~/.ssh/config</span><br></pre></td></tr></table></figure><p>文件内容如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># config</span><br><span class="line">Host gitee.com</span><br><span class="line">HostName gitee.com</span><br><span class="line">IdentityFile C:\\Users\\25361\\.ssh\\id_rsa_gitee</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">User git</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Host github.com</span><br><span class="line">HostName github.com</span><br><span class="line">IdentityFile C:\\Users\\25361\\.ssh\\id_rsa_github</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">User git</span><br></pre></td></tr></table></figure><p>测试如下，即为成功</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/17ea764b4ff03b87938451a134a2df70.png" alt="image-20240221220935850"></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/post/4a17b156.html"/>
      <url>/post/4a17b156.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> 随想 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>IDEA 的初始化配置</title>
      <link href="/post/631eafec.html"/>
      <url>/post/631eafec.html</url>
      
        <content type="html"><![CDATA[<h1 id="初始化-IDEA"><a href="#初始化-IDEA" class="headerlink" title="初始化 IDEA"></a>初始化 IDEA</h1><h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><blockquote><ol><li>Lombok</li><li>Material Theme UI</li><li>Maven Helper</li><li>MybatisX</li><li>Rainbow Brackets</li><li>Scala</li><li><strong>Spring Assistant</strong></li></ol></blockquote><h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><ol><li><p>滑轮改变字体大小</p><p>Setting -&gt; Editor -&gt; Genral </p><p>Change font size with Ctrl+Mouse Wheel 勾上</p></li><li><p>自动导包</p><p>Setting -&gt; Editor -&gt; Genral -&gt; Auto import</p><p>Add unambiguous imports on the fly 勾上</p><p>Optimize imports on the fly（for current project）勾上</p></li><li><p>忽略大小写</p><p>Setting -&gt; Editor -&gt; Genral -&gt; Code Completion</p><p>Match case 取消勾选</p></li><li><p>文件注释<br>File &gt; settings &gt; Editor -&gt; File and Code Templates</p><p>标签页中有 includes -&gt; File Header</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">    @author 你的名字</span><br><span class="line">    @create $&#123;YEAR&#125;-$&#123;MONTH&#125;-$&#123;DAY&#125;-$&#123;TIME&#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure></li><li><p>鼠标悬停弹出解释说明</p><p>setting &gt; Editor &gt; General &gt; Code Completion</p><p>勾选 show the parameter info popup in 1000 ms</p></li><li><p>默认编码 utf-8</p><p>File &gt; settings &gt; Editor &gt; File Encodings</p><p>全改成 UTF-8</p></li><li><p>设置maven</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt; &lt;localRepository&gt;C:\Users\25361\.m2\repository&lt;/localRepository&gt; &lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;alimaven&lt;/id&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/repositories/central/&lt;/url&gt; &lt;/mirror&gt; &lt;/mirrors&gt; &lt;profiles&gt; &lt;profile&gt; &lt;id&gt;jdk-1.8&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;jdk&gt;1.8&lt;/jdk&gt; &lt;/activation&gt; &lt;properties&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt; &lt;/properties&gt; &lt;/profile&gt; &lt;/profiles&gt; &lt;/settings&gt;</span><br></pre></td></tr></table></figure></li><li><p>忽略 .idea 文件夹</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> idea </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RabbitMQ 学习笔记</title>
      <link href="/post/fcfb9005.html"/>
      <url>/post/fcfb9005.html</url>
      
        <content type="html"><![CDATA[<h1 id="RabbitMQ"><a href="#RabbitMQ" class="headerlink" title="RabbitMQ"></a>RabbitMQ</h1><blockquote><p>RabbitMQ：高性能的异步通讯组件</p></blockquote><h2 id="1-初识-MQ"><a href="#1-初识-MQ" class="headerlink" title="1. 初识 MQ"></a>1. 初识 MQ</h2><h3 id="1-1-同步操作"><a href="#1-1-同步操作" class="headerlink" title="1.1 同步操作"></a>1.1 同步操作</h3><blockquote><ul><li>本次操作必须知道上次操作的结果</li><li>缺点<ol><li>拓展性差</li><li>性能下降</li><li>级联失败</li></ol></li><li>优点：<ol><li>即时性高，即刻知道结果</li></ol></li></ul></blockquote><h3 id="1-2-异步操作"><a href="#1-2-异步操作" class="headerlink" title="1.2 异步操作"></a>1.2 异步操作</h3><blockquote><ul><li>每次的操作相互独立，互不影响</li><li>三种角色<ul><li>消息发送者：生产者</li><li>消息代理（broker）</li><li>消息接收：消费者</li></ul></li><li>优点<ol><li>生产者只需生产一次</li><li>消费者监听消息代理，便于拓展，解除耦合</li><li>无需等待，性能变好</li><li>故障隔离</li><li>缓存消息，<strong>削峰填谷</strong></li></ol></li><li>缺点<ol><li>及时性差，不能立即得到结果</li><li>不确定下游业务是否执行成功</li><li>业务安全依赖于 broker 的可靠性</li></ol></li></ul></blockquote><h3 id="1-3-MQ"><a href="#1-3-MQ" class="headerlink" title="1.3 MQ"></a>1.3 MQ</h3><p>MQ：<strong>Message Queue</strong>，即消息队列（先进先出），异步调用中的 broker</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/8acacb05d2737fa61dacdbf823dbeb81.png" alt="image-20240111152843297"></p><h2 id="2-Rabbit-MQ"><a href="#2-Rabbit-MQ" class="headerlink" title="2. Rabbit MQ"></a>2. Rabbit MQ</h2><h3 id="2-1-安装"><a href="#2-1-安装" class="headerlink" title="2.1 安装"></a>2.1 安装</h3><p>Rabbit MQ 官网：<a href="https://www.rabbitmq.com/">https://www.rabbitmq.com/</a></p><p><strong>Docker 安装</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">  <span class="literal">-e</span> RABBITMQ_DEFAULT_USER=itheima \</span><br><span class="line">  <span class="literal">-e</span> RABBITMQ_DEFAULT_PASS=<span class="number">123456</span> \</span><br><span class="line">  <span class="literal">-v</span> mq<span class="literal">-plugins</span>:/plugins \</span><br><span class="line">  <span class="literal">--name</span> mq \</span><br><span class="line">  <span class="literal">--hostname</span> mq \</span><br><span class="line">  <span class="literal">-p</span> <span class="number">15672</span>:<span class="number">15672</span> \</span><br><span class="line">  <span class="literal">-p</span> <span class="number">5672</span>:<span class="number">5672</span> \</span><br><span class="line">  <span class="literal">--network</span> hmall \</span><br><span class="line">  <span class="literal">-d</span> \</span><br><span class="line">  rabbitmq:<span class="number">3.8</span><span class="literal">-management</span></span><br><span class="line"><span class="comment"># 15672端口：图形化界面</span></span><br><span class="line"><span class="comment"># 5672端口：sh</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -e RABBITMQ_DEFAULT_USER=itheima -e RABBITMQ_DEFAULT_PASS=123456 -v mq-plugins:/plugins --name mq --hostname mq -p 15672:15672 -p 5672:5672 --network hmall -d rabbitmq:3.8-management</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/2fe7bdc87c3461c0975ec9522bde8958.png" alt="image-20240113180015170"></p><ul><li>Publisher：生产者</li><li>RabbitMQ Server Broker：RabbitMQ 消息代理</li><li>VirtualHost：虚拟主机，起数据隔离作用，每个vh中的exchange和queue相互独立。</li><li>exchange：交换机，消息必须由exchange分发给不同的queue</li><li>queue：消息队列，接收exchange发送的消息</li><li>consumer：消费者，监听queue</li></ul><h3 id="2-2-快速入门"><a href="#2-2-快速入门" class="headerlink" title="2.2 快速入门"></a>2.2 快速入门</h3><p>AMQP：Advance Message Queuing Protocol（高级消息队列<strong>协议</strong>），与语言平台无关，即可以跨语言。</p><p>Spring AMQP：spring 基于 AMQP 协议的基础上用 java 重新封装的 api。</p><h4 id="1-创建聚合项目"><a href="#1-创建聚合项目" class="headerlink" title="1. 创建聚合项目"></a>1. 创建聚合项目</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/6c875792e40acf7230fde1ac9f884751.png" alt="image-20240113181518570"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># mq_demo pom文件</span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</span><br><span class="line">         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;groupId&gt;org.example&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mq_demo&lt;/artifactId&gt;</span><br><span class="line">    &lt;packaging&gt;pom&lt;/packaging&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">    &lt;modules&gt;</span><br><span class="line">        &lt;module&gt;consumer&lt;/module&gt;</span><br><span class="line">        &lt;module&gt;publisher&lt;/module&gt;</span><br><span class="line">    &lt;/modules&gt;</span><br><span class="line">    &lt;packaging&gt;pom&lt;/packaging&gt;</span><br><span class="line"></span><br><span class="line">    &lt;parent&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;version&gt;2.7.11&lt;/version&gt;</span><br><span class="line">        &lt;relativePath/&gt;</span><br><span class="line">    &lt;/parent&gt;</span><br><span class="line"></span><br><span class="line">    &lt;properties&gt;</span><br><span class="line">        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;</span><br><span class="line">        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;</span><br><span class="line">    &lt;/properties&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!--        AMQP依赖，包含RabbitMQ--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!--        单元测试--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line"></span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># publisher pom文件</span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;artifactId&gt;publisher&lt;/artifactId&gt;</span><br><span class="line"></span><br><span class="line">    &lt;parent&gt;</span><br><span class="line">        &lt;artifactId&gt;mqDemo&lt;/artifactId&gt;</span><br><span class="line">        &lt;groupId&gt;com.example&lt;/groupId&gt;</span><br><span class="line">        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;</span><br><span class="line">    &lt;/parent&gt;</span><br><span class="line"></span><br><span class="line">    &lt;properties&gt;</span><br><span class="line">        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;</span><br><span class="line">        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;</span><br><span class="line">    &lt;/properties&gt;</span><br><span class="line"></span><br><span class="line">&lt;/project&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-父项目引入"><a href="#1-父项目引入" class="headerlink" title="1. 父项目引入"></a>1. 父项目引入</h4><p>这样每个微服务都可以使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--        AMQP依赖，包含RabbitMQ--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="2-每个微服务配置MQ服务器信息"><a href="#2-每个微服务配置MQ服务器信息" class="headerlink" title="2. 每个微服务配置MQ服务器信息"></a>2. 每个微服务配置MQ服务器信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">logging:</span><br><span class="line">  pattern:</span><br><span class="line">    dateformat: MM-dd HH:mm:ss:SSS</span><br><span class="line">spring:</span><br><span class="line">  rabbitmq:</span><br><span class="line">    host: 192.168.138.10 # 地址</span><br><span class="line">    port: 5672           # 端口</span><br><span class="line">    virtual-host: /hall  # 虚拟主机</span><br><span class="line">    username: hmall      # 用户名</span><br><span class="line">    password: 123456     # 密码</span><br></pre></td></tr></table></figure><p>注意：</p><ol><li>上面的配置信息必须一一对应，需要与15672端口查看</li><li>消费者与生产者都必须配置</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">private RabbitTemplate rabbitTemplate;</span><br><span class="line">@Test</span><br><span class="line">void testSendMessage2Queue() &#123;</span><br><span class="line">    // 队列名</span><br><span class="line">    String queueName = &quot;simple.queue&quot;;</span><br><span class="line">    // 消息</span><br><span class="line">    String msg = &quot;hello, AMQP&quot;;</span><br><span class="line">    // 发送消息</span><br><span class="line">    rabbitTemplate.convertAndSend(queueName,msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/f2ad1fb886f478330be6925fc3e2fdf1.png" alt="image-20240122200658523"></p><h4 id="3-接收消息"><a href="#3-接收消息" class="headerlink" title="3. 接收消息"></a>3. 接收消息</h4><p>SpringAMQP 提供声明式的消息监听，需要通过<strong>注解</strong>在方法上声明要监听的队列名称，将来Spring AMQP 就会把消息传递给当前方法。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">@Slf4j</span><br><span class="line">public class MqListener &#123;</span><br><span class="line"></span><br><span class="line">    @RabbitListener(queues = &quot;simple&quot;)</span><br><span class="line">    // msg 类型和上面传送的类型一致</span><br><span class="line">    public void ListenerSimpleQueue(String msg) &#123;</span><br><span class="line">        System.out.println(&quot;消费者监听到了 simple 的消息：【&quot; + msg + &quot;】&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意：</p><ol><li>启动的是consumer 的启动类，不是测试类</li><li>consumer 也得配置 MQ 服务器信息</li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/a5f40f92bf7ba0a2613b66d1a1735f67.png" alt="image-20240122203054753"></p><h2 id="3-Work-Queues"><a href="#3-Work-Queues" class="headerlink" title="3. Work Queues"></a>3. Work Queues</h2><p>任务模型：<strong>让多个消费者绑定一个消息队列，共同消费队列中的信息（每条信息只会被其中之一的消费者消费）</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/8f62fc05c89865c6b664cb44c3f534da.png" alt="image-20240122203313713"></p><blockquote><ol><li><p>创建 work.queue 消息队列</p></li><li><p>生产者一秒钟产生 50 个消息</p></li><li><p>c1 一秒消费一条</p><p>c2 两秒消费一条</p></li></ol></blockquote><h3 id="3-1-初始化"><a href="#3-1-初始化" class="headerlink" title="3.1. 初始化"></a>3.1. 初始化</h3><h4 id="1-创建-work-queue-消息队列"><a href="#1-创建-work-queue-消息队列" class="headerlink" title="1. 创建 work.queue 消息队列"></a>1. 创建 work.queue 消息队列</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/53d5512c5746f9ec0a17a87e2e317663.png" alt="image-20240122204146329"></p><h4 id="2-生产者生产消息"><a href="#2-生产者生产消息" class="headerlink" title="2. 生产者生产消息"></a>2. 生产者生产消息</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testWorkQueue</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">queueName</span> <span class="operator">=</span> <span class="string">&quot;work.queue&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">50</span>; i++) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;hello, worker, message_&quot;</span> + i;</span><br><span class="line">        rabbitTemplate.convertAndSend(queueName,msg);</span><br><span class="line">        Thread.sleep(<span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-消费者消费"><a href="#3-消费者消费" class="headerlink" title="3. 消费者消费"></a>3. 消费者消费</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RabbitListener(queues = &quot;work.queue&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ListenerWorkQueue1</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者 1 监听到了 work 的消息：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RabbitListener(queues = &quot;work.queue&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ListenerWorkQueue</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">    System.err.println(<span class="string">&quot;消费者 2 监听到了 work 的消息.........：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/6c88ffcfa9429cfe63a1e5924368f8a1.png" alt="image-20240122205146112"></p><p><strong>观察到：</strong></p><ul><li><strong>消费者 1 全是奇数，消费者 2 全是偶数</strong></li><li><strong>信息只会被消费一次</strong></li><li><strong>消费者 1 和消费者 2 所有消费的信息之和 = 生产所有的信息</strong></li></ul><p>修改代码：</p><ul><li>假设消费者 1 的性能好，消费者 2 的性能相对弱一点</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RabbitListener(queues = &quot;work.queue&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ListenerWorkQueue1</span><span class="params">(String msg)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者 1 监听到了 work 的消息：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">    Thread.sleep(<span class="number">20</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RabbitListener(queues = &quot;work.queue&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ListenerWorkQueue</span><span class="params">(String msg)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    System.err.println(<span class="string">&quot;消费者 2 监听到了 work 的消息.........：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">    Thread.sleep(<span class="number">200</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/fab3e169e4b9f3181a57db04dee22f81.png" alt="image-20240122205740016"></p><p><strong>观察到：即使是性能不同</strong></p><ul><li><strong>消费者1 和 消费者2 都是对半的消息数量</strong></li><li><strong>同时消费者 1 消费奇数，消费者 2 消费偶数</strong></li><li><strong>消费者1 消费过了，消费者2 不会消费</strong></li></ul><h4 id="4-思考"><a href="#4-思考" class="headerlink" title="4. 思考"></a>4. 思考</h4><p>轮询的结果是一人投一个，如果想让性能好的机器多消费一点，性能差的机器消费少一点怎么办？</p><h3 id="3-2-消费者消息推送限制"><a href="#3-2-消费者消息推送限制" class="headerlink" title="3.2. 消费者消息推送限制"></a>3.2. 消费者消息推送限制</h3><blockquote><p>默认情况下，RabbitMQ会将消息依次轮询投递给绑定在队列上的每一个消费者。但并没有考虑到消费者是否已经处理完消息，可能出现消息堆积。</p><p>因此我们需要修改 application.yml ，设置 preFectch 值为1，确保同一时刻最多投递给消费者 1 条消息</p></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">listener:</span></span><br><span class="line">      <span class="attr">simple:</span></span><br><span class="line">        <span class="attr">prefetch:</span> <span class="number">1</span>      <span class="comment"># 每次只能取 1 条信息，信息处理完成才能获取下一条（消费者端开启）</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/dfd818c5a76dbd47a1df2076552c42f8.png" alt="image-20240122211121926"></p><p><strong>观察到：</strong></p><ul><li><p><strong>序号变成顺序</strong></p></li><li><p><strong>性能好的多接收消息，性能差的处理的消息少</strong></p></li><li><p><strong>也就是处理完了一条消息，下一条消息才发放出来</strong></p></li></ul><h4 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h4><p>当产生的信息在队列中远远超过<strong>单个消费者</strong>消费的能力，这时候出现<strong>消费堆积</strong></p><p>处理消费堆积的方法之一：<strong>增加消费者</strong>，同时消费者的消费能力有大小，所以根据消费者的性能来消费消息意义重大。</p><h3 id="3-3-总结"><a href="#3-3-总结" class="headerlink" title="3.3. 总结"></a>3.3. 总结</h3><p>Work 模型的使用：</p><ul><li>多个消费者绑定一个队列，可以加快消息处理速度</li><li>同一条消息只会被一个消费者处理</li><li>通过设置 prefetch 来控制消费者预取的消息数量，处理完一条在处理下一条，实现能者多劳</li></ul><h2 id="4-交换机-exchange"><a href="#4-交换机-exchange" class="headerlink" title="4. 交换机 exchange"></a>4. 交换机 exchange</h2><blockquote><p>真正生产环境都会经过 exchange 来发送信息，而不是直接发送到队列，交换机的类型有以下三种：</p><ul><li>Fanout：广播</li><li>Direct：定向</li><li>Topic：话题</li></ul></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/9c8f8328ca8b2eb37d83850ed0603129.png" alt="image-20240122223303507"></p><h3 id="4-1-Fanout-交换机"><a href="#4-1-Fanout-交换机" class="headerlink" title="4.1 Fanout 交换机"></a>4.1 Fanout 交换机</h3><blockquote><p>Fanout exchange 会将接收到的消息<strong>广播</strong>到<strong>每一个</strong>跟其绑定的 queue ，所以也叫广播模式。</p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/22b313f62698926a22f5d44efa95b993.png" alt="image-20240122223515945"></p><p><span style="font-size:24px"><strong>4.1.1 测试</strong></span></p><blockquote><ol><li>在可视化页面中创建，队列 fanout.queue1 和 fanout.queue2</li><li>在可视化页面中创建，交换机 hmall.fanout，将两个队列将其绑定</li><li>在 consumer 服务中，编写两个消费者方法，分别监听 fanout.queue1 和 fanout.queue2</li><li>在 publisher 服务中，编写测试方法，向 hmall.fanout 发送消息</li></ol></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/c68ac21bd8f923bc214e6e7c4861940c.png" alt="image-20240122224156765"></p><p><strong>1. 在可视化页面中创建，队列 fanout.queue1 和 fanout.queue2</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/fc99118355841721ad9cf0d7ece9c200.png" alt="image-20240122224709591"></p><p><strong>2. 在可视化页面中创建，交换机 hmall.fanout，将两个队列将其绑定</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/cd0169d00d3e002f6d9698444471a727.png" alt="image-20240122224807992"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/1509192e4ead711d7c93910c6bc439a8.png" alt="image-20240122224857362"></p><p><strong>3. 在 consumer 服务中，编写两个消费者方法，分别监听 fanout.queue1 和 fanout.queue2</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RabbitListener(queues = &quot;fanout.queue1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenFanoutQueue1</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者 1 监听到了 fanout.queue1 的消息：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RabbitListener(queues = &quot;fanout.queue2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenFanoutQueue2</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者 2 监听到了 fanout.queue2 的消息：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4. 在 publisher 服务中，编写测试方法，向 hmall.fanout 发送消息</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testFanoutExchange</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">exchangeName</span> <span class="operator">=</span> <span class="string">&quot;hmall.fanout&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;hello, everyone&quot;</span>;</span><br><span class="line">    <span class="comment">// routingKey 暂未设置，可以为 null 或 &quot;&quot;</span></span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName,<span class="string">&quot;&quot;</span>,msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/ca2966eab4c1a87faa1f1559a5e8c9d6.png" alt="image-20240122230240815"></p><p><span style="font-size:24px"><strong>4.1.2 总结</strong></span></p><p><strong>交换机的作用是什么？</strong></p><ul><li><strong>接收 publisher 生产的消息</strong></li><li><strong>将消息按照规则路由到与之绑定的队列</strong></li><li><strong>FanoutExchange的会将消息路由到每个绑定的队列</strong></li></ul><h3 id="4-2-Direct-交换机"><a href="#4-2-Direct-交换机" class="headerlink" title="4.2 Direct 交换机"></a>4.2 Direct 交换机</h3><blockquote><p>Direct exchange 会将接收到的消息根据规则路由到指定的 Queue，因此成为<strong>定向</strong>路由</p><ul><li>每个 Queue 都与 Exchange 设置一个 BindingKey</li><li>发布者发布消息时，指定消息的 RoutingKey</li><li>Exchange 将消息路由到 BindingKey 和 RoutingKey 一致的队列</li></ul></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/c713449a5dda4967ffc2e9ea3fad832a.png" alt="image-20240123163101379"></p><p><span style="font-size: 24px;"><strong>4.2.1 案例</strong></span></p><blockquote><ol><li>在可视化页面创建，队列 direct.queue1 和 direct.queue2</li><li>在可视化页面创建，交换机 hmall.direct，将两个队列与其绑定</li><li>在 consumer 服务中编写，两个消费者方法，分别监听 direct.queue1 和 direct.queue2</li><li>在 publisher 服务中编写，测试方法，利用不同的 RoutingKey 向 hmall.direct 发送消息</li></ol></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/2e706c854dd1bbcbd42ed019d33a762b.png" alt="image-20240123163634828"></p><p><strong>1. 在可视化页面创建，队列 direct.queue1 和 direct.queue2</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/400ccb5d9682473a441f9ab9f6896c7c.png" alt="image-20240123163759623"></p><p><strong>2. 在可视化页面创建，交换机 hmall.direct，将两个队列与其绑定 </strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/730988d5a157e2d4ab54c21ef7850afb.png" alt=""></p><p>绑定：</p><ul><li>一次 RoutingKey 只能写一个</li><li>两个的写两次</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/269255271937f176ce96e95bebb0a909.png" alt="image-20240123164342863"></p><p><strong>3. 在 consumer 服务中编写，两个消费者方法，分别监听 direct.queue1 和 direct.queue2</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RabbitListener(queues = &quot;direct.queue1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenDirectQueue1</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者 1 接收到 direct.queue1 的消息：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RabbitListener(queues = &quot;direct.queue2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenDirectQueue2</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者 2 接收到 direct.queue2 的消息：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4. 在 publisher 服务中编写，测试方法，利用不同的 RoutingKey 向 hmall.direct 发送消息</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testDirectExchange</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">exchangeName</span> <span class="operator">=</span> <span class="string">&quot;hmall.direct&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">red_msg</span> <span class="operator">=</span> <span class="string">&quot;红色消息&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">yellow_msg</span> <span class="operator">=</span> <span class="string">&quot;黄色消息&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">blue_msg</span> <span class="operator">=</span> <span class="string">&quot;蓝色消息&quot;</span>;</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName,<span class="string">&quot;red&quot;</span>,red_msg);</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName,<span class="string">&quot;yellow&quot;</span>,yellow_msg);</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName,<span class="string">&quot;blue&quot;</span>,blue_msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/060e2d6688a7b0fa40dcc702035cbebf.png" alt="image-20240123165705143"></p><p><span style="font-size:24px"><strong>4.2.2 总结</strong></span></p><p><strong>描述下 Direct 交换机和 Fanout 交换机的差异？</strong></p><ul><li><strong>Fanout 交换机是<em>广播</em> 发送到每一个与之绑定的队列</strong></li><li><strong>Direct 交换机是根据 <em>RoutingKey</em> 判断发送给哪个队列</strong></li><li><strong>如果多个队列具有相同的 RoutingKey，则与 Fanout 功能类似</strong></li></ul><h3 id="4-3-Topic-交换机"><a href="#4-3-Topic-交换机" class="headerlink" title="4.3 Topic 交换机"></a>4.3 Topic 交换机</h3><blockquote><p>Topic Exchange 与 Direct Exchange 类似，区别在于 RoutingKey 可以是多个单词的列表，并且以 <strong>.</strong> 分割</p><p>Queue 和 Exchange 指定的 BindingKey 时可以使用通配符：</p><ul><li><strong>#</strong>：代指 0 或 多个单词</li><li><strong>*</strong>：代指一个单词</li></ul></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/8599453aad0bc3836b2be71eaaaae8bd.png" alt="image-20240123171620175"></p><p><span style="font-size: 24px;"><strong>4.3.1 案例</strong></span></p><blockquote><ol><li>在可视化页面创建，队列 topic.queue1 和 topic.queue2</li><li>在可视化页面创建，交换机 hmall.topic，将两个队列与其绑定</li><li>在 consumer 服务中编写，两个消费者方法，分别监听 topic.queue1 和 topic.queue2</li><li>在 publisher 服务中编写，测试方法，利用不同的 RoutingKey 向 hmall.topic发送消息</li></ol></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/7fd3b71463c486624029246e94418375.png" alt="image-20240123172442268"></p><p><strong>1. 在可视化页面创建，队列 topic.queue1 和 topic.queue2</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/e8aa2149f8267b04a4251e02e4f27055.png" alt="image-20240123171944540"></p><p><strong>2. 在可视化页面创建，交换机 hmall.topic，将两个队列与其绑定</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/237240a2face2b779f5620fa327e8acc.png" alt="image-20240123172604980"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/f3d38c29f16b170658ab1c6ee4a5d977.png" alt="image-20240123173001646"></p><p><strong>3. 在 consumer 服务中编写，两个消费者方法，分别监听 topic.queue1 和 topic.queue2</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RabbitListener(queues = &quot;topic.queue1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenTopicQueue1</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者 1 接收到 topic.queue1 的消息（china.#）：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RabbitListener(queues = &quot;topic.queue2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenTopicQueue2</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者 2 接收到 topic.queue2 的消息（#.news）：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4. 在 publisher 服务中编写，测试方法，利用不同的 RoutingKey 向 hmall.topic发送消息</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testTopicExchange</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">exchangeName</span> <span class="operator">=</span> <span class="string">&quot;hmall.topic&quot;</span>;</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName,<span class="string">&quot;china.weather&quot;</span>,<span class="string">&quot;china.weather&quot;</span>);</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName,<span class="string">&quot;china.news&quot;</span>,<span class="string">&quot;china.news&quot;</span>);</span><br><span class="line">    rabbitTemplate.convertAndSend(exchangeName,<span class="string">&quot;japan.news&quot;</span>,<span class="string">&quot;japan.news&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/a5e80b69ebf4819510d8fffc7bbaca39.png" alt="image-20240123174518139"></p><p><span style="font-size:24px"><strong>4.3.2 总结</strong></span></p><p><strong>描述下 Direct 交换机和 Topic 交换机的差异？</strong></p><ul><li><strong>Topic 交换机接收的消息 RoutingKey 可以是多个单词，以 . 分割</strong></li><li><strong>Direct 交换机接收的消息 RoutingKey 是定死的</strong></li><li><strong>Topic 交换机与队列绑定时的 bindingKey 可以指定通配符</strong></li><li><strong>#：代指 0 或 多个单词</strong></li><li><strong>*：代指一个单词</strong></li></ul><h2 id="5-java-声明队列和交换机"><a href="#5-java-声明队列和交换机" class="headerlink" title="5. java 声明队列和交换机"></a>5. java 声明队列和交换机</h2><h3 id="5-1-基于-bean-声明"><a href="#5-1-基于-bean-声明" class="headerlink" title="5.1 基于 bean 声明"></a>5.1 基于 bean 声明</h3><blockquote><p>SpringAMQP 提供了几个类，用来声明队列、交换机及其绑定关系：</p><ul><li>Queue：用于声明队列，可以用工厂类 QueueBuilder 构建</li><li>Exchange：用于声明交换机，可以用工厂类 ExchangeBuilder 构建</li><li>Binding：用于声明队列和交换机的绑定关系，可以用工厂类 BindingBuilder 构建</li></ul></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/621332777d522d9de41def552c8072e2.png" alt="image-20240123193003397"></p><p><strong>Consumer 创建 config/FanoutConfiguration</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Consumer/config/FanoutConfiguration</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FanoutConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 交换机创建</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> FanoutExchange <span class="title function_">fanoutExchange</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 两种方式</span></span><br><span class="line">        <span class="comment">// ExchangeBuilder.fanoutExchange(&quot;hmall.fanout2&quot;).build();</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">FanoutExchange</span>(<span class="string">&quot;hmall.fanout2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 队列创建</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">fanoutQueue3</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 也可以使用 队列工厂类创建队列，其中 durable 代表其持久化</span></span><br><span class="line">        <span class="comment">// QueueBuilder.durable(&quot;fanout2.queue3&quot;).build();</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;fanout2.queue3&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">fanoutQueue4</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Queue</span> <span class="variable">queue4</span> <span class="operator">=</span> QueueBuilder.durable(<span class="string">&quot;fanout2.queue4&quot;</span>).build();</span><br><span class="line">        <span class="keyword">return</span> queue4;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 绑定 binding</span></span><br><span class="line">    <span class="comment">// 实现队列和交换机的绑定</span></span><br><span class="line">    <span class="comment">// 参数：交换机，队列</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">fanoutBinding3</span><span class="params">(FanoutExchange fanoutExchange,Queue fanoutQueue3)</span> &#123;</span><br><span class="line">        <span class="comment">// 绑定(bind) 队列(Queue) 给(to) 交换机(exchange)</span></span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(fanoutQueue3).to(fanoutExchange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">fanoutBinding4</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 直接使用方法传参</span></span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(fanoutQueue4()).to(fanoutExchange());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/1bfbde83be9d65053468e7630d1d3457.png" alt="image-20240123195720117"></p><p><strong>若想实现 Direct 交换机创建，代码参考如下</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Consumer/config/DirectConfiguration</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DirectConfiguration</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DirectExchange <span class="title function_">directExchange</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ExchangeBuilder.directExchange(<span class="string">&quot;hmall.direct2&quot;</span>).build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">directQueue1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> QueueBuilder.durable(<span class="string">&quot;direct2.queue1&quot;</span>).build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">directQueue2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> QueueBuilder.durable(<span class="string">&quot;direct2.queue2&quot;</span>).build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">directBinding1Red</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(directQueue1()).to(directExchange()).with(<span class="string">&quot;red&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">directBinding1Blue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(directQueue1()).to(directExchange()).with(<span class="string">&quot;bule&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">directBinding2Red</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(directQueue2()).to(directExchange()).with(<span class="string">&quot;red&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">directBinding2Yellow</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(directQueue2()).to(directExchange()).with(<span class="string">&quot;yellow&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/c996abb5b117c63d8a3fe187f29bf622.png" alt="image-20240123201652631"></p><p><strong>从以上代码不难看出，创建 Direct 交换机和队列代码繁杂，因此，接下来提出基于注解的声明。</strong></p><h3 id="5-2-基于注解的声明"><a href="#5-2-基于注解的声明" class="headerlink" title="5.2 基于注解的声明"></a>5.2 基于注解的声明</h3><blockquote><p>SpringAMQP 还提供了基于 @RabbitListener 注解来声明队列和交换机的方式</p><p>例如：使用 注解 创建上例交换机和队列</p><p><strong>ctrl + p：可用于提示参数列表</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Consumer/listeners/MqListener</span></span><br><span class="line">    <span class="meta">@RabbitListener(bindings = @QueueBinding(</span></span><br><span class="line"><span class="meta">            value = @Queue(name = &quot;direct3.queue1&quot;, durable = &quot;true&quot;),</span></span><br><span class="line"><span class="meta">            exchange = @Exchange(name = &quot;hmall.direct3&quot;, type = ExchangeTypes.DIRECT),</span></span><br><span class="line"><span class="meta">            key = &#123;&quot;red&quot;,&quot;blue&quot;&#125;</span></span><br><span class="line"><span class="meta">    ))</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenDirectQueue3</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;消费者 1 收到了来自 &quot;</span> +</span><br><span class="line">                <span class="string">&quot;交换机（hmall.direct3）中队列（direct3.queue1）的消息：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(bindings = @QueueBinding(</span></span><br><span class="line"><span class="meta">            value = @Queue(name = &quot;direct3.queue2&quot;,durable = &quot;true&quot;),</span></span><br><span class="line"><span class="meta">            exchange = @Exchange(name = &quot;hmall.direct3&quot;,type = &quot;direct&quot;),</span></span><br><span class="line"><span class="meta">            key = &#123;&quot;red&quot;,&quot;yellow&quot;&#125;</span></span><br><span class="line"><span class="meta">    ))</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenDirectQueue4</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;消费者 2 收到了来自 &quot;</span> +</span><br><span class="line">                <span class="string">&quot;交换机（hmall.direct3）中队列（direct3.queue2）的消息：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/cc65c90265a954afbd92657c175e0021.png" alt="image-20240123204316489"></p><h3 id="5-3-总结"><a href="#5-3-总结" class="headerlink" title="5.3 总结"></a>5.3 总结</h3><p><strong>声明队列、交换机、绑定关系的 Bean 是什么？</strong></p><ul><li><strong>Queue</strong></li><li><strong>FanoutExchange、DirectExchange、TopicExchange</strong></li><li><strong>Binding</strong></li></ul><p><strong>基于 @RabbitListenner 注解创建队列和交换机有哪些常见注解？</strong></p><ul><li><strong>@Queue</strong></li><li><strong>@Exchange</strong></li></ul><h2 id="6-消息转换器"><a href="#6-消息转换器" class="headerlink" title="6. 消息转换器"></a>6. 消息转换器</h2><blockquote><p>Spring 对消息对象的处理是基于 JDK 的ObjectOutputStream 完成序列化的。存在以下问题：</p><ul><li>JDK 的序列化有安全风险</li><li>JDK 序列化的消息太大</li><li>JDK 序列化的消息可读性差</li></ul><p>建议采用  JSON 序列化代替默认的 JDK 序列化，要做两件事：</p><ul><li><p>在 publisher 和 consumer 中都要引入 jackson 依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>在 publisher 和 consumer 中都要配置 MessageConverter</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> MessageConverter <span class="title function_">messageConverter</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Jackson2JsonMessageConverter</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></blockquote><p><strong>publisher 测试代码</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testSendObject</span><span class="params">()</span> &#123;</span><br><span class="line">    Map&lt;String,Object&gt; msg = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(<span class="number">2</span>);</span><br><span class="line">    msg.put(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">    msg.put(<span class="string">&quot;age&quot;</span>,<span class="number">18</span>);</span><br><span class="line">    rabbitTemplate.convertAndSend(<span class="string">&quot;object.queue&quot;</span>,msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/5ee1b29efef926e611370f1c6849d5a6.png" alt="image-20240124162009652"></p><p><strong>Consumer 接收消息</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RabbitListener(queues = &quot;object.queue&quot;)</span></span><br><span class="line"><span class="comment">// 接收类型和传送类型一致</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenObjectQueue</span><span class="params">(Map&lt;String,Object&gt; msg)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;消费者接收到 object.queue 的消息：【&quot;</span> + msg +<span class="string">&quot;】&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> rabbitmq </tag>
            
            <tag> 消息队列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vm虚拟机挂起后docker容器访问失败</title>
      <link href="/post/d35f956c.html"/>
      <url>/post/d35f956c.html</url>
      
        <content type="html"><![CDATA[<h1 id="vm虚拟机挂起后docker容器访问失败"><a href="#vm虚拟机挂起后docker容器访问失败" class="headerlink" title="vm虚拟机挂起后docker容器访问失败"></a>vm虚拟机挂起后docker容器访问失败</h1><blockquote><p>前提，防火前全部关闭</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 关闭防火墙</span><br><span class="line">systemctl stop firewalld</span><br><span class="line"># 禁止开机自启</span><br><span class="line">systemctl disable firewalld</span><br></pre></td></tr></table></figure></blockquote><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><h3 id="1-Docker-重启（治标不治本）"><a href="#1-Docker-重启（治标不治本）" class="headerlink" title="1. Docker 重启（治标不治本）"></a>1. Docker 重启（治标不治本）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 重启docker服务</span><br><span class="line">systemctl restart docker</span><br><span class="line"># docker -q 静默模式，只显示容器编号</span><br><span class="line">docker start $(docker ps -qa)</span><br></pre></td></tr></table></figure><h3 id="2-开启-ipv4-转发功能"><a href="#2-开启-ipv4-转发功能" class="headerlink" title="2. 开启 ipv4 转发功能"></a>2. 开启 ipv4 转发功能</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;net.ipv4.ip_forward = 1&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">systemctl restart network</span><br><span class="line"># 查看</span><br><span class="line">sysctl net.ipv4.ip_forward</span><br><span class="line"># 出现 net.ipv4.ip_forward=1 即为成功</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：这里如果报错可尝试将MAC地址添加到 ifcfg-ens33（网卡配置文件）中</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 查看 ip</span><br><span class="line">[root@cc ~]# ip addr</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 ::1/128 scope host </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br><span class="line">    link/ether 00:0c:29:04:ca:00 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.138.10/24 brd 192.168.138.255 scope global noprefixroute ens33...</span><br><span class="line"></span><br><span class="line"># 00:0c:29:04:ca:00 就是MAC地址</span><br><span class="line">[root@cc ~]# vi /etc/sysconfig/network-scripts/ifcfg-ens33 </span><br><span class="line"># 文件添加 HWADDR=00:0c:29:04:ca:00</span><br><span class="line"># 重新启动 </span><br><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure></blockquote><h3 id="3-将docker的网络接口设置为不被NetworkManager管理"><a href="#3-将docker的网络接口设置为不被NetworkManager管理" class="headerlink" title="3. 将docker的网络接口设置为不被NetworkManager管理"></a>3. 将docker的网络接口设置为不被NetworkManager管理</h3><p>新建配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/NetworkManager/conf.d/10-unmanage-docker-interfaces.conf</span><br></pre></td></tr></table></figure><p>在文件中添加 <strong>注意：这里文件不要强迫症用回车分号处断开</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[keyfile]</span><br><span class="line">unmanaged-devices=interface-name:docker*;interface-name:veth*;interface-name:br-*;interface-name:vmnet*;interface-name:vboxnet*</span><br></pre></td></tr></table></figure><p>保存退出，重启服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart NetworkManager</span><br></pre></td></tr></table></figure><h4 id="经此三步后，虚拟机挂起后恢复，docker容器也可以正常访问"><a href="#经此三步后，虚拟机挂起后恢复，docker容器也可以正常访问" class="headerlink" title="经此三步后，虚拟机挂起后恢复，docker容器也可以正常访问"></a>经此三步后，虚拟机挂起后恢复，docker容器也可以正常访问</h4><p>感谢阅读</p>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VMware </tag>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker 学习笔记</title>
      <link href="/post/b48ae4c5.html"/>
      <url>/post/b48ae4c5.html</url>
      
        <content type="html"><![CDATA[<h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><h2 id="1-初识-Docker"><a href="#1-初识-Docker" class="headerlink" title="1. 初识 Docker"></a>1. 初识 Docker</h2><p>快速构建、运行、管理应用的工具</p><h3 id="1-1-安装"><a href="#1-1-安装" class="headerlink" title="1.1 安装"></a>1.1 安装</h3><p><strong>删除已有的 docker 版本</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure><p><strong>安装所需的软件包</strong></p><p>首先安装 yum 工具</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yun install -y yum-utils</span><br></pre></td></tr></table></figure><p>安装成功后，配置 yum 源（阿里）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure><p>清华源</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure><p><strong>安装 Docker</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure><p><strong>校验安装</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker -v</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><blockquote><p>images 会出现错误，代表 docker 还没有启动</p></blockquote><p><strong>启动和校验</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 启动 docker</span><br><span class="line">systemctl start docker</span><br><span class="line"></span><br><span class="line"># 关闭</span><br><span class="line">systemctl stop docker</span><br><span class="line"></span><br><span class="line"># 重启</span><br><span class="line">systemctl restart docker</span><br><span class="line"></span><br><span class="line"># 开机自启</span><br><span class="line">systemctl enable docker</span><br><span class="line"></span><br><span class="line"># 不报错说明安装成功</span><br><span class="line">docker ps</span><br></pre></td></tr></table></figure><p><strong>配置镜像加速器</strong></p><p>阿里云为例：镜像容器服务 -&gt; 镜像工具 -&gt; 镜像加速器</p><p>您可以通过修改daemon配置文件/etc/docker/daemon.json来使用加速器<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://****.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure></p><h2 id="2-Docker-使用"><a href="#2-Docker-使用" class="headerlink" title="2. Docker 使用"></a>2. Docker 使用</h2><h3 id="2-1-部署-MYSQL"><a href="#2-1-部署-MYSQL" class="headerlink" title="2.1 部署 MYSQL"></a>2.1 部署 MYSQL</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name mysql -p 3307:3306 -e TZ=Asia/Shanghai -e MYSQL_ROOT_PASSWORD=123456 mysql</span><br><span class="line"></span><br><span class="line"># 3307:3306  映射端口:容器端口</span><br><span class="line"># netstat -ntlp 查看所有端口</span><br></pre></td></tr></table></figure><p><span style="font-size:32px"><strong>问题</strong></span></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># docker 暂停</span><br><span class="line">docker stop mysql</span><br><span class="line"></span><br><span class="line"># docker 删除</span><br><span class="line">docker rm mysql</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 进入容器</span><br><span class="line"></span><br><span class="line"># docker exec -it 容器号或名 /bin/bash</span><br><span class="line">docker exec -it b30062adc08c /bin/bash</span><br><span class="line"># 或</span><br><span class="line">docker exec -it mysql /bin/bash</span><br><span class="line"></span><br><span class="line"># 进入 mysql</span><br><span class="line">mysql -uroot -p</span><br><span class="line"></span><br><span class="line"># 查看信息</span><br><span class="line">select host,user,plugin,authentication_string from mysql.user;</span><br><span class="line"></span><br><span class="line">#更新</span><br><span class="line"></span><br><span class="line">mysql&gt; use mysql;</span><br><span class="line">mysql&gt; alter user &#x27;root&#x27;@&#x27;%&#x27; identified with mysql_native_password by &#x27;123456&#x27;;</span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">mysql&gt; select host,user,plugin,authentication_string from mysql.user;</span><br></pre></td></tr></table></figure><h3 id="2-2-镜像和容器"><a href="#2-2-镜像和容器" class="headerlink" title="2.2 镜像和容器"></a>2.2 镜像和容器</h3><p>当我们利用Docker安装应用时，Docker会自动搜索并下载应用<strong>镜像</strong>(image)。镜像不仅包含应用本身，还包含应用运行所需要的环境、配置、系统函数库。Docker会 在运行镜像时创建一个隔 离环境,称为<strong>容器</strong>(container) 。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/3c0ad1b790c12df5a392dcc5350ae0ad.png" alt="image-20240111172934762"></p><h3 id="2-3-常用命令"><a href="#2-3-常用命令" class="headerlink" title="2.3 常用命令"></a>2.3 常用命令</h3><h4 id="run-命令"><a href="#run-命令" class="headerlink" title="run 命令"></a>run 命令</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">--name mysql \</span><br><span class="line">-p 3307:3306 \</span><br><span class="line">-e TZ=Asia/Shanghai \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=123456 \</span><br><span class="line">mysql</span><br></pre></td></tr></table></figure><ul><li>run：创建并运行</li><li>—name：容器名称</li><li>-p：端口映射，docker端口:容器端口</li><li>-e：envouriment，环境变量，具体看文档</li></ul><p>镜像名称结构</p><ul><li>Repository:TAG，例 mysql:5.7</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/d1613d3d3c89231c04576efc569df0d7.png" alt="image-20240111180725331"></p><p><span style="font-size:32px"><strong>注意</strong></span></p><ul><li><p>rmi：删除镜像</p></li><li><p>rm：删除容器</p></li><li><p>exec：进入容器内部操作</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it &lt;容器名&gt; bash</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-4-数据卷"><a href="#2-4-数据卷" class="headerlink" title="2.4 数据卷"></a>2.4 数据卷</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/ef6a406618dbaabae533d1d46c152c9c.png" alt="image-20240111182626491"></p><div class="table-container"><table><thead><tr><th style="text-align:center">命令</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:center">docker volume create</td><td>创建数据卷</td></tr><tr><td style="text-align:center">docker volume ls</td><td>查看所有数据卷</td></tr><tr><td style="text-align:center">docker volume rm</td><td>删除指定数据卷</td></tr><tr><td style="text-align:center">docker volume inspect &lt;卷名&gt;</td><td>查看某个数据卷详情</td></tr><tr><td style="text-align:center">docker volume prune</td><td>清除数据卷</td></tr></tbody></table></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 可以使用 help 命令查看参数详情</span><br><span class="line">docker volume --help</span><br></pre></td></tr></table></figure><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul><li><p>必须在 <strong>docker run -v 数据卷名(这里可用绝对路径):容器内目录</strong> 时才能挂载映射，已经创建好的容器不可挂载</p></li><li><p>当创建容器时，如果挂载了数据卷且数据卷不存在，会自动创建</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">doucker run -d --name nginx -p 80:80 -v html:/usr/share/nginx/html(需求目录) nginx</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-5-自定义镜像"><a href="#2-5-自定义镜像" class="headerlink" title="2.5 自定义镜像"></a>2.5 自定义镜像</h3><h4 id="2-5-1-镜像结构"><a href="#2-5-1-镜像结构" class="headerlink" title="2.5.1 镜像结构"></a>2.5.1 镜像结构</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/921d27bb84b9d7af00184159e7c6a1ae.png" alt="image-20240111191232626"></p><h4 id="2-5-2-Dockerfile"><a href="#2-5-2-Dockerfile" class="headerlink" title="2.5.2 Dockerfile"></a>2.5.2 Dockerfile</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 基础镜像</span><br><span class="line">FROM openjdk:11.0-jre-buster</span><br><span class="line"># 设定时区</span><br><span class="line">ENV TZ=Asia/Shanghai</span><br><span class="line">RUN timedatectl set-timezone $TZ</span><br><span class="line"># 拷贝jar包</span><br><span class="line">COPY docker-demo. jar /app.jar</span><br><span class="line"># 入口</span><br><span class="line">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 构建 docker </span><br><span class="line">docker build -t myImage:1.0 .</span><br></pre></td></tr></table></figure><ul><li><strong>-t</strong>：镜像起名，格式（镜像名：版本号，默认latest）</li><li><strong>。</strong>：是指Dockerfile所在目录，如果就在当前目录就是 . 。</li></ul><h3 id="2-6-网络"><a href="#2-6-网络" class="headerlink" title="2.6 网络"></a>2.6 网络</h3><p>加入自定义网络的容器才可以通过容器名互相访问</p><div class="table-container"><table><thead><tr><th style="text-align:center">命令</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">docker network create</td><td style="text-align:center">创建网络</td></tr><tr><td style="text-align:center">docker network ls</td><td style="text-align:center">查看所有网络</td></tr><tr><td style="text-align:center">docker network rm</td><td style="text-align:center">删除指定网络</td></tr><tr><td style="text-align:center">docker network prune</td><td style="text-align:center">清除未使用网络</td></tr><tr><td style="text-align:center">docker network connect</td><td style="text-align:center">使指定容器加入某网络</td></tr><tr><td style="text-align:center">docker network disconnect</td><td style="text-align:center">脱离某网络</td></tr><tr><td style="text-align:center">docker network inspect</td><td style="text-align:center">查看网络信息</td></tr></tbody></table></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 创建</span><br><span class="line">docker network create yuxuan</span><br><span class="line"></span><br><span class="line"># 查看</span><br><span class="line">docker network ls</span><br><span class="line"></span><br><span class="line"># mysql容器加入yuxuan网络</span><br><span class="line">docker network connect yuxuan mysql</span><br><span class="line">docker run -d --name mysql -p 3306:3306 --network yuxuan mysql</span><br></pre></td></tr></table></figure><h2 id="3-项目部署"><a href="#3-项目部署" class="headerlink" title="3. 项目部署"></a>3. 项目部署</h2>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>swagger3 引入 springboot 3</title>
      <link href="/post/18407320.html"/>
      <url>/post/18407320.html</url>
      
        <content type="html"><![CDATA[<h1 id="swagger3-引入-springboot-3"><a href="#swagger3-引入-springboot-3" class="headerlink" title="swagger3 引入 springboot 3"></a>swagger3 引入 springboot 3</h1><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.swagger.core.v3<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>swagger-annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.15<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springdoc<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springdoc-openapi-starter-webmvc-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="配置类"><a href="#配置类" class="headerlink" title="配置类"></a>配置类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwaggerConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">createRestApi</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2).apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.any())</span><br><span class="line">                .paths(PathSelectors.any()).build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">                .title(<span class="string">&quot;在线商店管理API&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;在线商店系统的API文档.&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="注释修改"><a href="#注释修改" class="headerlink" title="注释修改"></a>注释修改</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Api(tags = &quot;&quot;)</span>     </span><br><span class="line">改为     </span><br><span class="line"><span class="meta">@Tag(name = &quot;&quot;)</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">@ApiModel(value=&quot;&quot;, description=&quot;&quot;)</span>     </span><br><span class="line">改为    </span><br><span class="line"><span class="meta">@Schema(name=&quot;&quot;, description=&quot;&quot;)</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">@ApiModelProperty(value = &quot;&quot;, required = true)</span>     </span><br><span class="line">改为    </span><br><span class="line"><span class="meta">@Schema(name= &quot;&quot;, description = &quot;&quot;, required = true)</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">@ApiOperation(value = &quot;&quot;, notes = &quot;&quot;)</span>    </span><br><span class="line">改为    </span><br><span class="line"><span class="meta">@Operation(summary = &quot;&quot;, description = &quot;&quot;)</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">@ApiParam</span>    改为     <span class="meta">@Parameter</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">@ApiResponse(code = 404, message = &quot;&quot;)</span>  </span><br><span class="line">改为</span><br><span class="line"><span class="meta">@ApiResponse(responseCode = &quot;404&quot;, description = &quot;&quot;)</span></span><br></pre></td></tr></table></figure><h2 id="地址"><a href="#地址" class="headerlink" title="地址"></a>地址</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost:8088/swagger-ui/index.html</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> swagger </tag>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaweb 杂项</title>
      <link href="/post/54428e33.html"/>
      <url>/post/54428e33.html</url>
      
        <content type="html"><![CDATA[<h2 id="tomcat-导入jar包"><a href="#tomcat-导入jar包" class="headerlink" title="tomcat 导入jar包"></a>tomcat 导入jar包</h2><p>tomcat的jar位置和idea工程的jar包位置不同，有的jar包需要导入在tomcat中，有的是导入idea项目的库中就行。</p><h5 id="我所遇到的类加载不到的问题也就是类库没有放在上述可用三个路径之一，在当前IDE的-classpath中的添加类库只能辅助生成-class文件，如果要在服务器中直接使用这些类库中的类的话，就会引发类加载不到错误，而最方便的方法当然就是把类库直接放到WEB-INF路径下咯，当然放在Tomcat的-lib目录下面也是可以的-但要注意，相互依赖的两个包必须放在同一目录下，比如commons-beanutils-jar依赖commons-logging-jar那么它们要么放在服务器的-lib目录下要么放在WEB-INF-lib目录下。"><a href="#我所遇到的类加载不到的问题也就是类库没有放在上述可用三个路径之一，在当前IDE的-classpath中的添加类库只能辅助生成-class文件，如果要在服务器中直接使用这些类库中的类的话，就会引发类加载不到错误，而最方便的方法当然就是把类库直接放到WEB-INF路径下咯，当然放在Tomcat的-lib目录下面也是可以的-但要注意，相互依赖的两个包必须放在同一目录下，比如commons-beanutils-jar依赖commons-logging-jar那么它们要么放在服务器的-lib目录下要么放在WEB-INF-lib目录下。" class="headerlink" title="我所遇到的类加载不到的问题也就是类库没有放在上述可用三个路径之一，在当前IDE的.classpath中的添加类库只能辅助生成.class文件，如果要在服务器中直接使用这些类库中的类的话，就会引发类加载不到错误，而最方便的方法当然就是把类库直接放到WEB-INF路径下咯，当然放在Tomcat的/lib目录下面也是可以的,但要注意，相互依赖的两个包必须放在同一目录下，比如commons-beanutils.jar依赖commons-logging.jar那么它们要么放在服务器的/lib目录下要么放在WEB-INF/lib目录下。"></a>我所遇到的类加载不到的问题也就是类库没有放在上述可用三个路径之一，在当前IDE的.classpath中的添加类库只能辅助生成.class文件，如果要在服务器中直接使用这些类库中的类的话，就会引发类加载不到错误，而最方便的方法当然就是把类库直接放到WEB-INF路径下咯，当然放在Tomcat的/lib目录下面也是可以的,但要注意，相互依赖的两个包必须放在同一目录下，比如commons-beanutils.jar依赖commons-logging.jar那么它们要么放在服务器的/lib目录下要么放在WEB-INF/lib目录下。</h5>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaweb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件设计和体系结构</title>
      <link href="/post/24164508.html"/>
      <url>/post/24164508.html</url>
      
        <content type="html"><![CDATA[<h1 id="软件设计和体系结构"><a href="#软件设计和体系结构" class="headerlink" title="软件设计和体系结构"></a>软件设计和体系结构</h1><h2 id="一、引言"><a href="#一、引言" class="headerlink" title="一、引言"></a>一、引言</h2><h3 id="软件"><a href="#软件" class="headerlink" title="软件"></a><strong>软件</strong></h3><blockquote><p>定义：一系列按照特定顺序组织的计算机数据、指令的集合</p><p>特点：</p><ol><li>软件不是生产制造，是设计开发</li><li>软件不会磨损和老化</li><li>软件需要根据实际情况进行定制开发</li></ol></blockquote><h3 id="软件设计的基本原则"><a href="#软件设计的基本原则" class="headerlink" title="软件设计的基本原则"></a>软件设计的基本原则</h3><ol><li><p>抽象方法</p><ul><li>过程抽象：是指具有明确和有限功能的指令序列</li><li>数据抽象：描述数据对象的冠名数据集合</li></ul></li><li><p>体系结构</p><p>程序构件的结构或组织、这些构件交互的形式以及这些构件所用数据的结构。</p></li><li><p>设计模式</p><ul><li>含义：模式是指解决某一类问题的方法论</li><li>目的：为了可重用代码、让代码更容易被他人理解、保证代码的可靠性</li></ul></li></ol><h3 id="软件体系结构"><a href="#软件体系结构" class="headerlink" title="软件体系结构"></a>软件体系结构</h3><blockquote><p>定义：软件系统的基本组织，包含构件、构件之间、构件与环境之间的关系，以及相关的设计与进化原则等</p></blockquote><p>四个研究领域</p><ul><li>通过体系结构描述语言（ADL）解决体系结构描述问题。<ul><li>目标：提供设计体系结构更好的方法，便于设计人员相互交流，并使用相关工具来分析案例</li></ul></li><li>体系结构领域知识的总结性研究</li><li>针对特定领域的框架的研究</li><li>软件体系结构形式化支持的研究</li></ul><h2 id="二、软件模型和描述"><a href="#二、软件模型和描述" class="headerlink" title="二、软件模型和描述"></a>二、软件模型和描述</h2><h3 id="软件模型的发展脉络"><a href="#软件模型的发展脉络" class="headerlink" title="软件模型的发展脉络"></a>软件模型的发展脉络</h3><h4 id="功能模型"><a href="#功能模型" class="headerlink" title="功能模型"></a>功能模型</h4><p>也可称为过程模型和函数模型，是模型化软件结构方法中的第一个基本模型</p><h4 id="对象模型"><a href="#对象模型" class="headerlink" title="对象模型"></a>对象模型</h4><p>以对象为核心，通过对象进行对数据组织的抽象并实现数据组织和数据处理的统一，并在此基础上建立面向对象软件构造方法</p><h4 id="组件模型"><a href="#组件模型" class="headerlink" title="组件模型"></a>组件模型</h4><p>在对象模型的基础上强调了异族对象关系以及独立性问题</p><h4 id="配置型组件模型"><a href="#配置型组件模型" class="headerlink" title="配置型组件模型"></a>配置型组件模型</h4><p>又称服务器组件模型，专门针对应用服务器，定义其基于组件的基础结构模型</p><h4 id="服务模型"><a href="#服务模型" class="headerlink" title="服务模型"></a>服务模型</h4><p>服务由数据、业务逻辑、接口及服务描述构成</p><h4 id="抽象模型"><a href="#抽象模型" class="headerlink" title="抽象模型"></a>抽象模型</h4><p>对软件系统的简化和概括，提供了对系统组成和行为的高层次描述</p><h3 id="软件体系结构的描述"><a href="#软件体系结构的描述" class="headerlink" title="软件体系结构的描述"></a>软件体系结构的描述</h3><ul><li><p>非形式化描述</p><ul><li><p>统一建模语言（UML）：</p><ul><li>可视化的建模语言</li><li>建立在对象模型之上的标准系统建模方法</li><li>可以对静态或动态结构系统进行建模</li></ul><p>优点：在系统开发的各个阶段具有一致性，可以面向各种应用领域系统建模</p></li></ul></li><li><p>形式化描述</p></li></ul><h3 id="体系结构描述语言（ADL）"><a href="#体系结构描述语言（ADL）" class="headerlink" title="体系结构描述语言（ADL）"></a>体系结构描述语言（ADL）</h3><blockquote><p>关注的是使用意图，而缺乏必要的规范定义</p><p>含义：一种用于描述软件与系统结构的计算机语言</p><p>要素：构件、操作、模式、闭包、规格说明</p></blockquote><h2 id="三、软件体系结构建模和-UML"><a href="#三、软件体系结构建模和-UML" class="headerlink" title="三、软件体系结构建模和 UML"></a>三、软件体系结构建模和 UML</h2><p>统一建模语言（UML）：</p><ul><li>可视化的建模语言</li><li>在对象模型基础之上的标准系统建模方法</li><li>可以对任何静态或动态的结构系统进行建模</li></ul><p>优点：在系统开发的各个阶段具有一致性，可以面向各种应用领域系统建模</p><p>特点：</p><ul><li>统一标准</li><li>面向对象的特性</li><li>UML在演变过程中提出心的概念：模板、职责。扩展机制等</li><li>独立于开发过程</li></ul><p><strong>抽象类和接口的区别</strong></p><ul><li>抽象类是一种可以包含实现方法和抽象方法的类</li><li>接口是一种只包含抽象方法和常量声明的结构</li><li>类可以继承一个抽象类但实现多个接口</li></ul><h2 id="四、软件设计过程"><a href="#四、软件设计过程" class="headerlink" title="四、软件设计过程"></a>四、软件设计过程</h2><h3 id="软件体系结构设计方法"><a href="#软件体系结构设计方法" class="headerlink" title="软件体系结构设计方法"></a>软件体系结构设计方法</h3><h4 id="多视图建模"><a href="#多视图建模" class="headerlink" title="多视图建模"></a><span style="color:red">多视图建模</span></h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/67e67888c766cdd63d57d09c273ee365.png" alt="image-20230626085217653"></p><ol><li>多视图建模：4+1模型</li><li>逻辑视图：又称概念视图，主要是支持系统功能需求的抽象描述，即系统最终将提供给<strong>用户</strong>什么样的服务。逻辑视图描述了系统的功能需求及其之间的相互关系。</li><li>开发视图：又称模块视图，主要侧重于描述<strong>系统</strong>的组织，与逻辑视图密切相关，都描述了系统的<strong>静态结构</strong></li><li>过程视图：主要侧重于描述<strong>系统的动态行为</strong>，即系统运行时所表现出的相关特性，着重解决系统的可靠性、吞吐量、并发性、分布性、容错性</li><li>物理视图：描述如何把系统软件元素映射到硬件上，通常要考虑系统的性能、规模和容错等问题，展示了软件在生命周期的不同阶段中所需要的物理环境、硬件配置、分布状况</li><li>场景视图：场景是用户需求和系统功能实例的抽象，设计者通过分析如何满足每个场景所要求的的约束，来分析软件的体系结构</li></ol><h4 id="领域特定的软件体系结构设计"><a href="#领域特定的软件体系结构设计" class="headerlink" title="领域特定的软件体系结构设计"></a>领域特定的软件体系结构设计</h4><blockquote><p>领域特定的软件体系结构(DSSA)是领域工程的核心部分。<br>领域特定的软件体系结构借鉴领域中已经成熟的软件体系结构，实现解决方案在某个领域内的复用。</p></blockquote><h2 id="五、软件体系结构风格"><a href="#五、软件体系结构风格" class="headerlink" title="五、软件体系结构风格"></a>五、软件体系结构风格</h2><blockquote><p>人们在开发某些类型软件过程中积累起来的组织规则和结构，形成了软件体系结构风格。</p><p>软件体系结构风格是描述某一特定应用领域中系统组织方式的惯用模式。</p></blockquote><h3 id="基本风格解析"><a href="#基本风格解析" class="headerlink" title="基本风格解析"></a>基本风格解析</h3><h4 id="1-管道-过滤器"><a href="#1-管道-过滤器" class="headerlink" title="1. 管道-过滤器"></a><span style="color:red">1. 管道-过滤器</span></h4><p>定义：</p><ul><li>输入集合输入数据流，输出集合输出数据流</li><li>功能模块称为过滤器，连接过滤器之间的通路称为管道</li><li>数据流可以在过滤器中进行相关增量计算得到输出流</li></ul><p>特征</p><ul><li>在管道-过滤器风格中，构件即过滤器，对输入流进行处理、转换，处理后的结果在输出端流出。这种计算 常常是递进的，所以可能在全部的输入接收完之前就开始输出。可以并行地使用过滤器</li><li>连接件位于过滤器之间，起到信息流的导管的作用，即管道</li><li>每个构件都有输入/输出集合，构件在输入出读取数据流，并在输出处生成数据流，一个构件的输入是上一个构件的输出</li><li>过滤器必须是独立的实体，不了解信息流从哪个过滤器流出，也不需要知道信息将流入哪个过滤器。可以 指定输入的格式，可以确保输出的结果，但是可能不知道在管道之后将会是什么样子。过滤器之间也不共享状态</li></ul><p>优点</p><ul><li>由于每个构件的行为不受其他构件的影响，因此整个系统的行为比较易于理解</li><li>支持功能模块的复用</li><li>具有较强的可维护性、可扩展性</li></ul><h4 id="2-基于事件的隐式调用风格"><a href="#2-基于事件的隐式调用风格" class="headerlink" title="2.基于事件的隐式调用风格"></a>2.基于事件的隐式调用风格</h4><p>定义</p><ul><li>组件之间不直接调用对方的方法，而是通过发布事件和订阅事件的方式进行通信。当某个组件发生特定事件时，它会通知所有订阅了该事件的其他组件，从而触发相应的响应行为</li></ul><p>特点</p><ul><li>事件的触发者并不知道哪些构件会响应</li></ul><h4 id="3-仓库风格和黑板风格"><a href="#3-仓库风格和黑板风格" class="headerlink" title="3.仓库风格和黑板风格"></a>3.仓库风格和黑板风格</h4><p>仓库风格：</p><ul><li>定义：基于中央仓储，系统组件通过中央仓库进行通信和协作</li><li>特点：<ol><li>中心化的数据存储</li><li>低耦合</li><li>同步机制，确保数据的一致性和可靠性</li><li>灵活度高</li></ol></li></ul><p>黑板风格：一种特殊的仓库风格</p><ul><li>定义：基于全局的共享知识库（黑板），系统中的组件通过黑板写入和读取信息进行协作和推理</li><li>特点：<ol><li>全局知识库：系统中的组件通过读写共享的黑板来获取和传递知识</li><li>非确定性推理：组件可根据黑板上的信息进行推理和决策</li></ol></li></ul><h4 id="4-模型-视图-控制器风格"><a href="#4-模型-视图-控制器风格" class="headerlink" title="4.模型-视图-控制器风格"></a>4.模型-视图-控制器风格</h4><p>MVC（模型-视图-控制器） 模式：</p><ul><li>模型类</li><li>视图类</li><li>控制类</li></ul><h3 id="客户-服务器风格"><a href="#客户-服务器风格" class="headerlink" title="客户/服务器风格"></a>客户/服务器风格</h3><blockquote><p>系统被划分为客户端和服务器端两个角色，客户端发送请求给服务器端，服务器端处理请求并返回响应</p></blockquote><p>优点：</p><ol><li>可扩展性</li><li>可重用性</li><li>灵活性</li><li>性能优化</li></ol><p>缺点：</p><ol><li>单点故障</li><li>通信开销</li><li>维护复杂性</li><li>安全性风险</li></ol><h3 id="三层-C-S-体系结构风格"><a href="#三层-C-S-体系结构风格" class="headerlink" title="三层 C/S 体系结构风格"></a>三层 C/S 体系结构风格</h3><blockquote><p>在二层中加了一层应用服务器</p><p>将系统按照职责划分为客户端、应用服务器和数据库服务器三个层次</p></blockquote><p>优点：</p><ol><li>分离关注点：三层C/S体系结构将用户界面、业务逻辑和数据存储分离，使得各层之间的关注点清晰，提高了系统的可维护性和可扩展性。</li></ol><h3 id="浏览器-服务器风格"><a href="#浏览器-服务器风格" class="headerlink" title="浏览器/服务器风格"></a>浏览器/服务器风格</h3><blockquote><p>B/S模式第一层客户机的主体是浏览器。第二层Web服务器是实现B/S结构的关键。</p></blockquote><h3 id="正交软件体系结构"><a href="#正交软件体系结构" class="headerlink" title="正交软件体系结构"></a>正交软件体系结构</h3><ul><li>概念：由组织层和线索的构件构成</li></ul><h2 id="六、面向对象方法"><a href="#六、面向对象方法" class="headerlink" title="六、面向对象方法"></a>六、面向对象方法</h2><h3 id="1、面向对象系统开发过程概述"><a href="#1、面向对象系统开发过程概述" class="headerlink" title="1、面向对象系统开发过程概述"></a>1、面向对象系统开发过程概述</h3><blockquote><p>面向对象的思想设计软件开发的各个阶段，</p><ul><li>面向对象的分析(OOA)</li><li>面向对象的设计(OOD)</li><li>面向对象的编程实现(OOP)</li></ul></blockquote><h2 id="九、设计模式"><a href="#九、设计模式" class="headerlink" title="九、设计模式"></a><span style="color:red">九、设计模式</span></h2><h3 id="1-设计模式概述"><a href="#1-设计模式概述" class="headerlink" title="1.设计模式概述"></a>1.设计模式概述</h3><blockquote><p>​    设计模式的核心思想是<strong>总结和积累前人成功的设计经验</strong>，通过对这些经验的学习，使得人们在面对新的设计问题时，不用再重复所有的环节，而是尽量套用已有的模式实施，以提高编程的效率。模式是解决特定问题的经验，其实质是软件的复用。<br>​    模式由特定的环境，问题、解决方案三个要素组成，按照软件开发的层次可以分为体系结构模式、设计模式、程序模式，体系结构模式属于层次较高的模式，如MVC。<br>​    设计模式是对被用来在特定场景下解决一般设计问题的类和相互通信的对象的描述。基本设计模式共<strong>23种</strong>。</p></blockquote><h3 id="2-设计模式的主要作用（-）"><a href="#2-设计模式的主要作用（-）" class="headerlink" title="2.设计模式的主要作用（*）"></a>2.设计模式的主要作用（*）</h3><ul><li>优化的设计经验：设计模式为开发者提供了良好的经过优化的设计经验</li><li>较高的复用性：设计模式重用面向对象代码提供了一种方便途径，使得复用某些成功的设计和结构更加容易</li><li>丰富的表达能力：提供了一种共享的设计语言和思维方式，有助于团队协作开发</li><li>降低耦合性：设计模式的基本思想就是将程序中可能变化的部分与不变化的部分进行分离，尽量减少对象之间的耦合。</li></ul><h3 id="3-常用设计模式解析（-）"><a href="#3-常用设计模式解析（-）" class="headerlink" title="3.常用设计模式解析（*）"></a>3.常用设计模式解析（*）</h3><blockquote><p>根据目的的不同，<span style="color:red">将 23 种设计模式分为 三 种</span></p><ol><li>创建型模式：主要用于创建对象</li><li>结构型模式：主要用于处理类和对象的组合</li><li>行为型模式：主要用于描述对类或对象怎么样交互和怎样分配职责</li></ol></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/b2b373f19407a40c86e9a4f184116242.png" alt="image-20230626102305222"></p><h4 id="创建型设计模式"><a href="#创建型设计模式" class="headerlink" title="创建型设计模式"></a>创建型设计模式</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/19f5d34b217552a274ca1bb12dac19b2.png" alt="image-20230626102951456"></p><ul><li><p>简单工厂模式</p><ul><li><p>定义：定义一个类来负责创建其他类的实例，又称静态工厂方法模式，属于类的创建型模式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 产品接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体产品类A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteProductA</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;具体产品A的操作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体产品类B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteProductB</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;具体产品B的操作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简单工厂类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SimpleFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">(String productType)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (productType.equals(<span class="string">&quot;A&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ConcreteProductA</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (productType.equals(<span class="string">&quot;B&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ConcreteProductB</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;无效的产品类型&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SimpleFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleFactory</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Product</span> <span class="variable">productA</span> <span class="operator">=</span> factory.createProduct(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        productA.operation();  <span class="comment">// 输出：具体产品A的操作</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Product</span> <span class="variable">productB</span> <span class="operator">=</span> factory.createProduct(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        productB.operation();  <span class="comment">// 输出：具体产品B的操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>工厂方法模式</p><ul><li><p>定义：对简单工程模式进行了抽象和推广，具体的生产工作推延到其子类去完成</p></li><li><p>​           将对象的创建委托给具体的工厂类，从而使得客户端代码与具体的产品类解耦。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 产品接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体产品类A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteProductA</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;具体产品A的操作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体产品类B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteProductB</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;具体产品B的操作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象工厂类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> Product <span class="title function_">createProduct</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体工厂类A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteFactoryA</span> <span class="keyword">extends</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ConcreteProductA</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体工厂类B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteFactoryB</span> <span class="keyword">extends</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ConcreteProductB</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">AbstractFactory</span> <span class="variable">factoryA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteFactoryA</span>();</span><br><span class="line">        <span class="type">Product</span> <span class="variable">productA</span> <span class="operator">=</span> factoryA.createProduct();</span><br><span class="line">        productA.operation();  <span class="comment">// 输出：具体产品A的操作</span></span><br><span class="line"></span><br><span class="line">        <span class="type">AbstractFactory</span> <span class="variable">factoryB</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteFactoryB</span>();</span><br><span class="line">        <span class="type">Product</span> <span class="variable">productB</span> <span class="operator">=</span> factoryB.createProduct();</span><br><span class="line">        productB.operation();  <span class="comment">// 输出：具体产品B的操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>抽象工厂模式</p><ul><li><p>定义：提供了一个接口用于创建一系列相关对象，而无需指定具体的实现类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 抽象产品接口A</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">AbstractProductA</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">operationA</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体产品类A1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteProductA1</span> <span class="keyword">implements</span> <span class="title class_">AbstractProductA</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operationA</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;具体产品A1的操作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体产品类A2</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteProductA2</span> <span class="keyword">implements</span> <span class="title class_">AbstractProductA</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operationA</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;具体产品A2的操作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象产品接口B</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">AbstractProductB</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">operationB</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体产品类B1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteProductB1</span> <span class="keyword">implements</span> <span class="title class_">AbstractProductB</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operationB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;具体产品B1的操作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体产品类B2</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteProductB2</span> <span class="keyword">implements</span> <span class="title class_">AbstractProductB</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operationB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;具体产品B2的操作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象工厂类</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    AbstractProductA <span class="title function_">createProductA</span><span class="params">()</span>;</span><br><span class="line">    AbstractProductB <span class="title function_">createProductB</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体工厂类1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteFactory1</span> <span class="keyword">implements</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> AbstractProductA <span class="title function_">createProductA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ConcreteProductA1</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> AbstractProductB <span class="title function_">createProductB</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ConcreteProductB1</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体工厂类2</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteFactory2</span> <span class="keyword">implements</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> AbstractProductA <span class="title function_">createProductA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ConcreteProductA2</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> AbstractProductB <span class="title function_">createProductB</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ConcreteProductB2</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">AbstractFactory</span> <span class="variable">factory1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteFactory1</span>();</span><br><span class="line">        <span class="type">AbstractProductA</span> <span class="variable">productA1</span> <span class="operator">=</span> factory1.createProductA();</span><br><span class="line">        <span class="type">AbstractProductB</span> <span class="variable">productB1</span> <span class="operator">=</span> factory1.createProductB();</span><br><span class="line">        productA1.operationA();  <span class="comment">// 输出：具体产品A1的操作</span></span><br><span class="line">        productB1.operationB();  <span class="comment">// 输出：具体产品B1的操作</span></span><br><span class="line"></span><br><span class="line">        <span class="type">AbstractFactory</span> <span class="variable">factory2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteFactory2</span>();</span><br><span class="line">        <span class="type">AbstractProductA</span> <span class="variable">productA2</span> <span class="operator">=</span> factory2.createProductA();</span><br><span class="line">        <span class="type">AbstractProductB</span> <span class="variable">productB2</span> <span class="operator">=</span> factory2.createProductB();</span><br><span class="line">        productA2.operationA();  <span class="comment">// 输出：具体产品A2的操作</span></span><br><span class="line">        productB2.operationB();  <span class="comment">// 输出：具体产品B2的操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p><span style="color:red"><strong>单例模式（*）</strong></span></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/9debad37f75fd4f9b51fb8d7c9430c5c.png" alt="image-20230626105233489"></p><ul><li><p>概念：保证某个类有且仅有一个实例</p></li><li><p>目的：保证应用只有一个全局唯一的实例，并且提供一个访问它的全局访问点</p></li><li><p>饿汉式</p><ul><li>特点：在类声明时就完成了初始化</li><li>优点：实现简单，执行效率高，线程安全</li><li>缺点：类加载时就初始化，可能占用不必要的内存</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Singleton</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>懒汉式</p><ul><li>特点：使用时才初始化，即懒加载</li><li>优点：避免造成不必要的资源浪费</li><li>缺点：使用关键词进行加锁，会影响性能</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>枚举</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加其他属性和方法</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Singleton</span> <span class="variable">singleton</span> <span class="operator">=</span> Singleton.INSTANCE;</span><br><span class="line">        singleton.setName(<span class="string">&quot;Singleton Instance&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(singleton.getName());  <span class="comment">// 输出：Singleton Instance</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>原型模式</p></li><li><p>建造者模式</p></li></ul><h4 id="结构型设计模式"><a href="#结构型设计模式" class="headerlink" title="结构型设计模式"></a>结构型设计模式</h4><ul><li><p>适配器模式</p></li><li><p>桥接模式</p><ul><li><p>目的：将抽象部分与实现部分分离，使它们可以独立地变化。</p><p>​           桥接模式通过组合关系而不是继承关系来连接抽象和实现</p></li><li><p>优点：</p><ul><li>分离抽象和实现</li><li>增加系统的灵活性和可扩展性</li></ul></li><li><p>缺点</p><ul><li>增加系统的复杂性和代码量</li><li>系统运行速度变慢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现部分的接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Implementor</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">operationImpl</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体实现类A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteImplementorA</span> <span class="keyword">implements</span> <span class="title class_">Implementor</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operationImpl</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Concrete Implementor A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体实现类B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteImplementorB</span> <span class="keyword">implements</span> <span class="title class_">Implementor</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operationImpl</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Concrete Implementor B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象部分的接口</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Abstraction</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> Implementor implementor;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">Abstraction</span><span class="params">(Implementor implementor)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.implementor = implementor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 扩展抽象部分的类A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RefinedAbstractionA</span> <span class="keyword">extends</span> <span class="title class_">Abstraction</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">RefinedAbstractionA</span><span class="params">(Implementor implementor)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(implementor);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Refined Abstraction A&quot;</span>);</span><br><span class="line">        implementor.operationImpl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 扩展抽象部分的类B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RefinedAbstractionB</span> <span class="keyword">extends</span> <span class="title class_">Abstraction</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">RefinedAbstractionB</span><span class="params">(Implementor implementor)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(implementor);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Refined Abstraction B&quot;</span>);</span><br><span class="line">        implementor.operationImpl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Implementor</span> <span class="variable">implementorA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteImplementorA</span>();</span><br><span class="line">        <span class="type">Abstraction</span> <span class="variable">abstractionA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RefinedAbstractionA</span>(implementorA);</span><br><span class="line">        abstractionA.operation();</span><br><span class="line"></span><br><span class="line">        <span class="type">Implementor</span> <span class="variable">implementorB</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteImplementorB</span>();</span><br><span class="line">        <span class="type">Abstraction</span> <span class="variable">abstractionB</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RefinedAbstractionB</span>(implementorB);</span><br><span class="line">        abstractionB.operation();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>适用场景</p><ul><li>避免抽象方法和其实现方法绑定在一起</li><li>抽象接口和实现都需要扩展出子类以备使用</li><li>变动实现的方法不会影响客户程序调用的部分</li></ul></li></ul></li><li><p>组合模式</p></li><li><p>装饰模式</p></li><li><p>外观模式</p></li><li><p>享元模式</p></li><li><p>代理模式</p></li></ul><h4 id="行为型设计模式"><a href="#行为型设计模式" class="headerlink" title="行为型设计模式"></a>行为型设计模式</h4><blockquote><p>描述算法及对象之间的任务职责分配，所描述的不仅仅是类或对象的设计模式，还有之间的通信模式。</p></blockquote><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/e6cf26670fe455bf714cd5b63b2017fb.png" alt="image-20230626111259782"></p><h3 id="4-常用原则"><a href="#4-常用原则" class="headerlink" title="4.常用原则"></a>4.常用原则</h3><p>SOLID</p><ul><li>单一责任原则<ul><li>单一职责原则要求类的职责单一，引起类变化的原因单一。</li><li>优点：降低了类的复杂度，提高了可读性、可维护性，降低了变更引起的风险。</li></ul></li><li>开放封闭原则<ul><li>一个软件实体如类、模块和函数应该对扩展开放，对修改关闭。</li></ul></li><li>里氏替换原则/迪米特法则<ul><li>对于里氏替换原则，所有引用基类的地方必须透明地使用其子类的对象。</li><li>迪米特原则一个类应该对自己需要耦合或调用的类知道的最少</li></ul></li><li>接口隔离原则<ul><li>接口隔离原则强调接口的高内聚和低耦合，客户端不应该依赖它不需要的接口</li></ul></li><li>依赖倒置原则<ul><li>对于依赖倒置原则，要求面向对象的设计要对结构化的方法进行倒置，即高层模块不应依赖底层模块，二者都应依赖于抽象</li></ul></li></ul><h2 id="十、Web-服务体系结构"><a href="#十、Web-服务体系结构" class="headerlink" title="十、Web 服务体系结构"></a>十、Web 服务体系结构</h2><blockquote><ul><li>定义：通过 Web 接口提供的某个功能程序段</li><li><span style="color:red">特点：</span><ol><li>平台无关性</li><li>通用的通信信道</li><li>企业的互操作性</li><li>功能复用</li><li>拓展业务</li><li>服务器的中立性</li><li>安全的通信</li></ol></li></ul></blockquote><ul><li><span style="color:red">SOAP：简单对象访问协议</span><ul><li>定义：一种基于 XML 的协议，通过 HTTP 或其他协议在网络上进行应用程序之间的通信和信息交换</li></ul></li><li><span style="color:red">XML：可扩展标记语言</span><ul><li>为消息交换定义了描述和格式</li></ul></li><li>HTTP：超文本传输协议<ul><li>定义了客户端和服务器之间交换的消息格式和规则，实现了从客户端请求到服务器响应的数据传输和交互过程</li></ul></li><li>WSDL：Web 服务描述语言<ul><li>一种用于描述 Web 服务接口及其访问方式的 XML 文件标准</li></ul></li></ul><h2 id="十一、基于分布构件的体系结构"><a href="#十一、基于分布构件的体系结构" class="headerlink" title="十一、基于分布构件的体系结构"></a>十一、基于分布构件的体系结构</h2><h3 id="EJB技术"><a href="#EJB技术" class="headerlink" title="EJB技术"></a>EJB技术</h3><p>​    EJB 是基于分布式事务吃力的企业级应用程序的组件。EJB是用于开发和部署多层结构的、分布式的、面向对象的Java应用系统的跨平台构件体系结构。</p><h3 id="DCOM"><a href="#DCOM" class="headerlink" title="DCOM "></a><span style="color:red">DCOM </span></h3><ul><li>DCOM是微软基于COM扩展的分布式计算技术，具有支持远程对象通信、透明性、安全性、可靠性和互操作性等特点。</li></ul><h3 id="CORBA"><a href="#CORBA" class="headerlink" title="CORBA"></a>CORBA</h3><ul><li>CORBA（Common Object Request Broker Architecture）是一种通用的对象请求代理体系结构，用于支持分布式计算环境中的对象通信和交互，具有跨平台、跨语言的特点。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件设计和体系结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux 配置大数据环境</title>
      <link href="/post/7d7a29ad.html"/>
      <url>/post/7d7a29ad.html</url>
      
        <content type="html"><![CDATA[<h1 id="linux配置大数据环境"><a href="#linux配置大数据环境" class="headerlink" title="linux配置大数据环境"></a>linux配置大数据环境</h1><h2 id="修改主机名"><a href="#修改主机名" class="headerlink" title="修改主机名"></a>修改主机名</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname xxx</span><br></pre></td></tr></table></figure><h2 id="配置-yum"><a href="#配置-yum" class="headerlink" title="配置 yum"></a>配置 yum</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir /mnt/cdrom</span><br><span class="line">[root@localhost ~]# df /mnt/cdrom</span><br><span class="line">文件系统          1K-块    已用     可用 已用% 挂载点</span><br><span class="line">/dev/sda3      39517336 7718416 31798920   20% /</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mount /dev/cdrom /mnt/cdrom</span><br><span class="line">mount: /dev/sr0 写保护，将以只读方式挂载</span><br></pre></td></tr></table></figure><p>查看挂载记录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# df -hT /mnt/cdrom</span><br><span class="line">文件系统       类型     容量  已用  可用 已用% 挂载点</span><br><span class="line">/dev/sr0       iso9660  4.3G  4.3G     0  100% /mnt/cdrom</span><br></pre></td></tr></table></figure><h3 id="更改配置文件"><a href="#更改配置文件" class="headerlink" title="更改配置文件"></a><strong>更改配置文件</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd /etc/yum.repos.d/</span><br><span class="line">[root@localhost yum.repos.d]# ll</span><br><span class="line">总用量 28</span><br><span class="line">-rw-r--r--. 1 root root 1664 8月  30 2017 CentOS-Base.repo</span><br><span class="line">-rw-r--r--. 1 root root 1309 8月  30 2017 CentOS-CR.repo</span><br><span class="line">-rw-r--r--. 1 root root  649 8月  30 2017 CentOS-Debuginfo.repo</span><br><span class="line">-rw-r--r--. 1 root root  314 8月  30 2017 CentOS-fasttrack.repo</span><br><span class="line">-rw-r--r--. 1 root root  630 8月  30 2017 CentOS-Media.repo</span><br><span class="line">-rw-r--r--. 1 root root 1331 8月  30 2017 CentOS-Sources.repo</span><br><span class="line">-rw-r--r--. 1 root root 3830 8月  30 2017 CentOS-Vault.repo</span><br></pre></td></tr></table></figure><p>2.将CentOS-Base.repo和CentOS-Debuginfo.repo改名或者移动，绕过网络安装，以便使用本地安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#本次使用改名 方便作为备份文件</span><br><span class="line">[root@localhost yum.repos.d]# mv CentOS-Debuginfo.repo CentOS-Debuginfo.repo.bak</span><br><span class="line">[root@localhost yum.repos.d]# mv CentOS-Base.repo CentOS-Base.repo.bak</span><br></pre></td></tr></table></figure><p>3.编辑文件CentOS-Media.repo（使用vim编辑器）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost yum.repos.d]# vim CentOS-Media.repo</span><br><span class="line"># CentOS-Media.repo</span><br><span class="line">#</span><br><span class="line">#  This repo can be used with mounted DVD media, verify the mount point for</span><br><span class="line">#  CentOS-7.  You can use this repo and yum to install items directly off the</span><br><span class="line">#  DVD ISO that we release.</span><br><span class="line">#</span><br><span class="line"># To use this repo, put in your DVD and use it with the other repos too:</span><br><span class="line">#  yum --enablerepo=c7-media [command]</span><br><span class="line">#  </span><br><span class="line"># or for ONLY the media repo, do this:</span><br><span class="line">#</span><br><span class="line">#  yum --disablerepo=\* --enablerepo=c7-media [command]</span><br><span class="line"></span><br><span class="line">[c7-media]</span><br><span class="line">name=CentOS-$releasever - Media</span><br><span class="line">baseurl=file:///mnt/cdrom</span><br><span class="line">gpgcheck=0#用来检查GPG-KEY，0为不检查，1为检查</span><br><span class="line">enabled=1#是否用该yum源，0为禁用，1为使用</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line"></span><br><span class="line">~                                                                               </span><br><span class="line">~                                                                               </span><br><span class="line">~                                                                               </span><br><span class="line">&quot;CentOS-Media.repo&quot; 20L, 563C                                 17,1         全部</span><br></pre></td></tr></table></figure><p>清除yum缓存，测试yum源配置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost yum.repos.d]# yum clean all</span><br><span class="line">[root@localhost yum.repos.d]# yum list</span><br></pre></td></tr></table></figure><h3 id="网络-yum-源"><a href="#网络-yum-源" class="headerlink" title="网络 yum 源"></a>网络 yum 源</h3><blockquote><p>配置完本地后可以先安装 wget</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install wget</span><br></pre></td></tr></table></figure></blockquote><p><strong>步骤一：备份</strong></p><p>1)进入/etc/yum.repos.d 查看目录下文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost yum.repos.d]# ll</span><br><span class="line">总用量 28</span><br><span class="line">-rw-r--r--. 1 root root 1664 8月  30 2017 CentOS-Base.repo.bak</span><br><span class="line">-rw-r--r--. 1 root root 1309 8月  30 2017 CentOS-CR.repo</span><br><span class="line">-rw-r--r--. 1 root root  649 8月  30 2017 CentOS-Debuginfo.repo.bak</span><br><span class="line">-rw-r--r--. 1 root root  314 8月  30 2017 CentOS-fasttrack.repo</span><br><span class="line">-rw-r--r--. 1 root root  563 3月  18 19:37 CentOS-Media.repo</span><br><span class="line">-rw-r--r--. 1 root root 1331 8月  30 2017 CentOS-Sources.repo</span><br><span class="line">-rw-r--r--. 1 root root 3830 8月  30 2017 CentOS-Vault.repo</span><br></pre></td></tr></table></figure><p>2)将所有文件备份到新建目录repo_bak下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost yum.repos.d]# mkdir repo_bak</span><br><span class="line">[root@localhost yum.repos.d]# mv *.repo repo_bak/</span><br><span class="line">[root@localhost yum.repos.d]# mv *.repo.bak repo_bak/</span><br><span class="line">[root@localhost yum.repos.d]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 195 3月  18 23:13 repo_bak</span><br></pre></td></tr></table></figure><p><strong>步骤二：下载阿里的 yum 源：下载阿里的CentOS-Base.repo 到/etc/yum.repos.d/</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br></pre></td></tr></table></figure><p>2）运行yum clean all 清除缓存，运行 yum makecache 生成新的缓存</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost yum.repos.d]# yum clean all #清空缓存</span><br><span class="line">[root@localhost yum.repos.d]# yum makecache #生成新的缓存 </span><br></pre></td></tr></table></figure><h2 id="安装-jdk"><a href="#安装-jdk" class="headerlink" title="安装 jdk"></a>安装 jdk</h2><h3 id="1-检查是否有-jdk-文件"><a href="#1-检查是否有-jdk-文件" class="headerlink" title="1. 检查是否有 jdk 文件"></a>1. 检查是否有 jdk 文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cc ~]# yum list installed | grep java</span><br><span class="line">[root@cc ~]# </span><br></pre></td></tr></table></figure><p>没有文件显示表明没有 jdk 文件</p><h3 id="2-安装-jdk，利用-yum-源"><a href="#2-安装-jdk，利用-yum-源" class="headerlink" title="2. 安装 jdk，利用 yum 源"></a>2. 安装 jdk，利用 yum 源</h3><ul><li>查看 yum 里的软件包列表</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc ~]# yum search java | grep jdk</span><br></pre></td></tr></table></figure><ul><li>选择要安装的 jdk 版本进行安装</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@cc ~]# yum install -y java-1.8.0-openjdk*</span><br><span class="line">...</span><br><span class="line">  pcsc-lite-libs.x86_64 0:1.8.8-8.el7                 pixman.x86_64 0:0.34.0-1.el7                       </span><br><span class="line">  psmisc.x86_64 0:22.20-17.el7                        python-javapackages.noarch 0:3.4.1-11.el7          </span><br><span class="line">  python-lxml.x86_64 0:3.2.1-4.el7                    ttmkfdir.x86_64 0:3.0.9-42.el7                     </span><br><span class="line">  tzdata-java.noarch 0:2023c-1.el7                    xorg-x11-font-utils.x86_64 1:7.5-21.el7            </span><br><span class="line">  xorg-x11-fonts-Type1.noarch 0:7.5-9.el7             xorg-x11-utils.x86_64 0:7.5-23.el7                 </span><br><span class="line"></span><br><span class="line">完毕！</span><br></pre></td></tr></table></figure><ul><li>查看 jdk</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@cc yum.repos.d]# java -version</span><br><span class="line">openjdk version &quot;1.8.0_362&quot;</span><br><span class="line">OpenJDK Runtime Environment (build 1.8.0_362-b08)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 25.362-b08, mixed mode)</span><br></pre></td></tr></table></figure><h3 id="3-配置环境变量"><a href="#3-配置环境变量" class="headerlink" title="3. 配置环境变量"></a>3. 配置环境变量</h3><ul><li>jdk 默认安装路径 /usr/lib/jvm</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@cc jvm]# pwd</span><br><span class="line">/usr/lib/jvm</span><br><span class="line">[root@cc jvm]# ls</span><br><span class="line">java                                             jre</span><br><span class="line">java-1.8.0                                       jre-1.8.0</span><br><span class="line">java-1.8.0-openjdk                               jre-1.8.0-openjdk</span><br><span class="line">java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64  jre-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64</span><br><span class="line">java-openjdk                                     jre-openjdk</span><br><span class="line">[root@cc jvm]# </span><br></pre></td></tr></table></figure><blockquote><p><strong>看准上面的 java 目录名称，每个都不一样</strong></p></blockquote><ul><li>在 /etc/profile 文件添加目录</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># set java environment  </span><br><span class="line">JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64</span><br><span class="line">PATH=$PATH:$JAVA_HOME/bin  </span><br><span class="line">CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar  </span><br><span class="line">export JAVA_HOME  CLASSPATH  PATH </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>刷新文件并查看是否生效</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cc jvm]# source /etc/profile# 刷新文件</span><br><span class="line">[root@cc jvm]# echo $JAVA_HOME</span><br><span class="line">/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64</span><br></pre></td></tr></table></figure><h2 id="安装-hadoop"><a href="#安装-hadoop" class="headerlink" title="安装 hadoop"></a>安装 hadoop</h2><h3 id="1-生成密钥"><a href="#1-生成密钥" class="headerlink" title="1. 生成密钥"></a>1. 生成密钥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@cc jvm]# ssh localhost</span><br><span class="line">[root@cc jvm]# cd ~</span><br><span class="line">[root@cc ~]# ls -al</span><br><span class="line">总用量 28</span><br><span class="line">dr-xr-x---.  3 root root  147 4月  16 19:20 .</span><br><span class="line">dr-xr-xr-x. 17 root root  224 4月  16 08:23 ..</span><br><span class="line">-rw-------.  1 root root 1257 4月  16 08:24 anaconda-ks.cfg</span><br><span class="line">-rw-------.  1 root root 1828 4月  16 18:59 .bash_history</span><br><span class="line">-rw-r--r--.  1 root root   18 12月 29 2013 .bash_logout</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bash_profile</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bashrc</span><br><span class="line">-rw-r--r--.  1 root root  100 12月 29 2013 .cshrc</span><br><span class="line">drwx------.  2 root root   25 4月  16 19:20 .ssh</span><br><span class="line">-rw-r--r--.  1 root root  129 12月 29 2013 .tcshrc</span><br><span class="line">[root@cc ~]# cd .ssh</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa    # 会有提示，都按回车即可</span><br><span class="line">cat id_rsa.pub &gt;&gt; authorized_keys # 加入授权</span><br><span class="line">chmod 600 ./authorized_keys # 修改文件权限</span><br></pre></td></tr></table></figure><h3 id="2-安装和配置-hadoop"><a href="#2-安装和配置-hadoop" class="headerlink" title="2. 安装和配置 hadoop"></a>2. 安装和配置 hadoop</h3><ul><li>官网下载对应版本的 hadoop</li></ul><blockquote><p>这里相关软件安装包都放在 /opt/install-software 中，解压的软件放在 /opt/software 中</p><p>镜像源文件可能会更新导致下载地址失效，故网页打开确认下载地址</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc install-software]# wget https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-3.2.3/hadoop-3.2.3.tar.gz</span><br></pre></td></tr></table></figure><ul><li>解压安装包</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc install-software]# tar -zxvf hadoop-3.2.3.tar.gz -C /opt/software/</span><br></pre></td></tr></table></figure><ul><li>改名</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@cc install-software]# cd ../software/</span><br><span class="line">[root@cc software]# ls</span><br><span class="line">hadoop-3.2.3</span><br><span class="line">[root@cc software]# mv hadoop-3.2.3 hadoop</span><br><span class="line">[root@cc software]# ls</span><br><span class="line">hadoop</span><br><span class="line">[root@cc software]# </span><br></pre></td></tr></table></figure><ul><li>修改 core-site.xml 文件</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@cc hadoop]# pwd</span><br><span class="line">/opt/software/hadoop/etc/hadoop</span><br><span class="line">[root@cc hadoop]# ls</span><br><span class="line">capacity-scheduler.xml            httpfs-log4j.properties     mapred-site.xml</span><br><span class="line">configuration.xsl                 httpfs-signature.secret     shellprofile.d</span><br><span class="line">container-executor.cfg            httpfs-site.xml             ssl-client.xml.example</span><br><span class="line">core-site.xml                     kms-acls.xml                ssl-server.xml.example</span><br><span class="line">hadoop-env.cmd                    kms-env.sh                  user_ec_policies.xml.template</span><br><span class="line">hadoop-env.sh                     kms-log4j.properties        workers</span><br><span class="line">hadoop-metrics2.properties        kms-site.xml                yarn-env.cmd</span><br><span class="line">hadoop-policy.xml                 log4j.properties            yarn-env.sh</span><br><span class="line">hadoop-user-functions.sh.example  mapred-env.cmd              yarnservice-log4j.properties</span><br><span class="line">hdfs-site.xml                     mapred-env.sh               yarn-site.xml</span><br><span class="line">httpfs-env.sh                     mapred-queues.xml.template</span><br><span class="line">[root@cc hadoop]# vi core-site.xml </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">        &lt;!-- 内网IP地址--&gt;</span><br><span class="line">        &lt;value&gt;hdfs://192.168.138.10:9000&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;!-- 缓存存储路径 --&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/app/hadooptemp&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><ul><li>修改 hdfs-site.xml</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;!-- 默认为3，由于是单机，所以配置1 --&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;!-- 配置http访问地址 --&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">          &lt;name&gt;dfs.http.address&lt;/name&gt;</span><br><span class="line">          &lt;value&gt;0.0.0.0:9870&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><ul><li>修改 hadoop-env.sh 文件</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64</span><br></pre></td></tr></table></figure><ul><li>修改 yarn-env.sh</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64</span><br></pre></td></tr></table></figure><ul><li>修改sbin/stop-dfs.sh文件，在顶部增加</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@cc sbin]# pwd</span><br><span class="line">/opt/software/hadoop/sbin</span><br><span class="line">[root@cc sbin]# ls</span><br><span class="line">distribute-exclude.sh  mr-jobhistory-daemon.sh  start-dfs.sh         stop-balancer.sh    workers.sh</span><br><span class="line">FederationStateStore   refresh-namenodes.sh     start-secure-dns.sh  stop-dfs.cmd        yarn-daemon.sh</span><br><span class="line">hadoop-daemon.sh       start-all.cmd            start-yarn.cmd       stop-dfs.sh         yarn-daemons.sh</span><br><span class="line">hadoop-daemons.sh      start-all.sh             start-yarn.sh        stop-secure-dns.sh</span><br><span class="line">httpfs.sh              start-balancer.sh        stop-all.cmd         stop-yarn.cmd</span><br><span class="line">kms.sh                 start-dfs.cmd            stop-all.sh          stop-yarn.sh</span><br><span class="line">[root@cc sbin]# vi stop-dfs.sh </span><br><span class="line"># 顶部</span><br><span class="line">HDFS_DATANODE_USER=root  </span><br><span class="line">HDFS_DATANODE_SECURE_USER=hdfs  </span><br><span class="line">HDFS_NAMENODE_USER=root  </span><br><span class="line">HDFS_SECONDARYNAMENODE_USER=root </span><br><span class="line">...</span><br></pre></td></tr></table></figure><ul><li>修改 start-dfs.sh 文件顶部添加</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HDFS_DATANODE_USER=root  </span><br><span class="line">HDFS_DATANODE_SECURE_USER=hdfs  </span><br><span class="line">HDFS_NAMENODE_USER=root  </span><br><span class="line">HDFS_SECONDARYNAMENODE_USER=root </span><br></pre></td></tr></table></figure><ul><li>格式化，进入 hadoop/bin 的文件夹，执行</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@cc bin]# pwd</span><br><span class="line">/opt/software/hadoop/bin</span><br><span class="line">[root@cc bin]# ls</span><br><span class="line">container-executor  hadoop.cmd  hdfs.cmd  mapred.cmd    test-container-executor  yarn.cmd</span><br><span class="line">hadoop              hdfs        mapred    oom-listener  yarn</span><br><span class="line">[root@cc bin]# ./hdfs namenode -format</span><br></pre></td></tr></table></figure><ul><li>修改 /etc/profile 文件，添加如下，用 source 刷新</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export HADOOP_HOME=/opt/software/hadoop</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br></pre></td></tr></table></figure><h2 id="安装-spark"><a href="#安装-spark" class="headerlink" title="安装 spark"></a>安装 spark</h2><h3 id="1-wget-下载"><a href="#1-wget-下载" class="headerlink" title="1. wget 下载"></a>1. wget 下载</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc install-software]# wget https://mirrors.tuna.tsinghua.edu.cn/apache/spark/spark-3.3.2/spark-3.3.2-bin-hadoop3.tgz</span><br></pre></td></tr></table></figure><h3 id="2-解压并改名"><a href="#2-解压并改名" class="headerlink" title="2. 解压并改名"></a>2. 解压并改名</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@cc install-software]# ls</span><br><span class="line">hadoop-3.2.3.tar.gz  spark-3.3.2-bin-hadoop3.tgz</span><br><span class="line">[root@cc install-software]# tar -zxvf spark-3.3.2-bin-hadoop3.tgz -C /opt/software/</span><br><span class="line">...</span><br><span class="line">[root@cc install-software]# cd /opt/software/</span><br><span class="line">[root@cc software]# ls</span><br><span class="line">hadoop  spark-3.3.2-bin-hadoop3</span><br><span class="line">[root@cc software]# mv spark-3.3.2-bin-hadoop3/ spark</span><br><span class="line">[root@cc software]# ls</span><br><span class="line">hadoop  spark</span><br></pre></td></tr></table></figure><h3 id="3-修改配置文件"><a href="#3-修改配置文件" class="headerlink" title="3. 修改配置文件"></a>3. 修改配置文件</h3><ul><li>spark/conf 备份模板文件 spark-env.sh.template</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cc conf]# ls</span><br><span class="line">fairscheduler.xml.template  log4j2.properties.template  metrics.properties.template  spark-defaults.conf.template  spark-env.sh.template  workers.template</span><br><span class="line">[root@cc conf]# cp spark-env.sh.template spark-env.sh</span><br></pre></td></tr></table></figure><ul><li>修改 spark-env.sh 文件</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"># Options read in YARN client/cluster mode</span><br><span class="line"># - YARN_CONF_DIR, to point Spark towards YARN configuration files when you use YARN</span><br><span class="line"></span><br><span class="line">export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64</span><br><span class="line">export SPARK_MASTER_HOST=192.168.138.10</span><br><span class="line">export SPARK_MASTER_PORT=7077</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Options for the daemons used in the standalone deploy mode</span><br><span class="line"># - SPARK_MASTER_HOST, to bind the master to a different IP address or hostname</span><br><span class="line"># - SPARK_MASTER_PORT / SPARK_MASTER_WEBUI_PORT, to use non-default ports for the master</span><br><span class="line"># - SPARK_MASTER_OPTS, to set config properties only for the master (e.g. &quot;-Dx=y&quot;)</span><br><span class="line">...</span><br></pre></td></tr></table></figure><ul><li>进入 spark 目录下</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc spark]# bin/spark-shell</span><br></pre></td></tr></table></figure><h2 id="安装-mysql"><a href="#安装-mysql" class="headerlink" title="安装 mysql"></a>安装 mysql</h2><h3 id="1-查看是否有-MySQL，并查看软件列表"><a href="#1-查看是否有-MySQL，并查看软件列表" class="headerlink" title="1. 查看是否有 MySQL，并查看软件列表"></a>1. 查看是否有 MySQL，并查看软件列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@cc spark]# rpm -qa|grep mariadb</span><br><span class="line">mariadb-libs-5.5.68-1.el7.x86_64</span><br><span class="line">[root@cc spark]# rpm -e --nodeps mariadb-libs-5.5.68-1.el7.x86_64</span><br><span class="line">### 删除 mariadb</span><br></pre></td></tr></table></figure><h3 id="2-查看linux版本"><a href="#2-查看linux版本" class="headerlink" title="2. 查看linux版本"></a>2. 查看linux版本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cc software]# uname -a</span><br><span class="line">Linux cc 3.10.0-1160.71.1.el7.x86_64 #1 SMP Tue Jun 28 15:37:28 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</span><br></pre></td></tr></table></figure><h3 id="3-服务器使用-wget-下载-mysql"><a href="#3-服务器使用-wget-下载-mysql" class="headerlink" title="3. 服务器使用 wget 下载 mysql"></a>3. 服务器使用 wget 下载 mysql</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc install-software]# wget https://downloads.mysql.com/archives/get/p/23/file/mysql-8.0.21-1.el7.x86_64.rpm-bundle.tar</span><br></pre></td></tr></table></figure><blockquote><p>版本不要选错，x86_64版本</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cc install-software]# ls</span><br><span class="line">hadoop-3.2.3.tar.gz  mysql-8.0.21-1.el7.x86_64.rpm-bundle.tar  spark-3.3.2-bin-hadoop3.tgz</span><br></pre></td></tr></table></figure><blockquote><p>下载成功，可以先用 Windows下载后上传至服务器中</p></blockquote><h3 id="4-解压-MySQL-压缩包"><a href="#4-解压-MySQL-压缩包" class="headerlink" title="4. 解压 MySQL 压缩包"></a>4. 解压 MySQL 压缩包</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc install-software]# tar -xvf mysql-8.0.21-1.el7.x86_64.rpm-bundle.tar -C /opt/temp/</span><br></pre></td></tr></table></figure><h3>依次安装MySQL数据库的mysql common、mysql libs、mysql client软件包，和server</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc temp]# rpm -ivh mysql-community-common-8.0.21-1.el7.x86_64.rpm </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc temp]# rpm -ivh mysql-community-libs-8.0.21-1.el7.x86_64.rpm </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc temp]# rpm -ivh mysql-community-client-8.0.21-1.el7.x86_64.rpm </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc temp]# rpm -ivh mysql-community-server-8.0.21-1.el7.x86_64.rpm </span><br></pre></td></tr></table></figure><blockquote><p>出现问题</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@cc temp]# rpm -ivh mysql-community-server-8.0.21-1.el7.x86_64.rpm </span><br><span class="line">警告：mysql-community-server-8.0.21-1.el7.x86_64.rpm: 头V3 DSA/SHA1 Signature, 密钥 ID 5072e1f5: NOKEY</span><br><span class="line">错误：依赖检测失败：</span><br><span class="line">/usr/bin/perl 被 mysql-community-server-8.0.21-1.el7.x86_64 需要</span><br><span class="line">net-tools 被 mysql-community-server-8.0.21-1.el7.x86_64 需要</span><br><span class="line">perl(Getopt::Long) 被 mysql-community-server-8.0.21-1.el7.x86_64 需要</span><br><span class="line">perl(strict) 被 mysql-community-server-8.0.21-1.el7.x86_64 需要</span><br></pre></td></tr></table></figure><p>以上可以看出需要两个依赖：perl 和 net-tools，满足它</p><p>解决办法：安装依赖</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cc temp]# yum install -y perl-Module-Install.noarch</span><br><span class="line">[root@cc temp]# yum -y install net-tools</span><br></pre></td></tr></table></figure><p>重新执行安装 server 命令</p></blockquote><p>最后可以用 rpm 查看一下安装包情况</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@cc temp]# rpm -qa | grep mysql</span><br><span class="line">mysql-community-client-8.0.21-1.el7.x86_64</span><br><span class="line">mysql-community-libs-8.0.21-1.el7.x86_64</span><br><span class="line">mysql-community-server-8.0.21-1.el7.x86_64</span><br><span class="line">mysql-community-common-8.0.21-1.el7.x86_64</span><br></pre></td></tr></table></figure><h3 id="5-初始化-mysql-数据库"><a href="#5-初始化-mysql-数据库" class="headerlink" title="5. 初始化 mysql 数据库"></a>5. 初始化 mysql 数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# mysqld --initialize;# 初始化</span><br><span class="line">[root@cx temp]# chown mysql:mysql /var/lib/mysql -R;# 授权</span><br><span class="line">[root@cx temp]# systemctl start mysqld# 开启服务</span><br><span class="line">[root@cx temp]# systemctl status mysqld# 查看服务状态</span><br><span class="line">[root@cx temp]# systemctl enable mysql# 开机自启</span><br></pre></td></tr></table></figure><h3 id="6-查看密码，重设置密码"><a href="#6-查看密码，重设置密码" class="headerlink" title="6. 查看密码，重设置密码"></a>6. 查看密码，重设置密码</h3><p>查看密码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cc temp]# cat /var/log/mysqld.log | grep password</span><br><span class="line">2023-06-04T14:31:37.415021Z 6 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: XPgh5q1r&amp;qYQ</span><br></pre></td></tr></table></figure><p>登录 mysql</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# mysql -uroot -p</span><br><span class="line">Enter password: # 密码输入上面的那个，直接复制就行，密码不会显示</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 8</span><br><span class="line">Server version: 8.0.21</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; # 登录成功</span><br></pre></td></tr></table></figure><p>修改密码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter user &#x27;root&#x27;@&#x27;localhost&#x27; identified with mysql_native_password by &#x27;密码&#x27;;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure><p>退出重新登录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@cc temp]# mysql -u root -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 9</span><br><span class="line">Server version: 8.0.21 MySQL Community Server - GPL</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure><p>允许远程访问服务器的MySQL，root是登录账户，%代表任意地址，可以设置你固定的ip地址，密码是远程登录的密码</p><ol><li>先创建用户</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create user &#x27;root&#x27;@&#x27;%&#x27; identified with mysql_native_password by &#x27;密码&#x27;;</span><br></pre></td></tr></table></figure><ol><li><p>设置远程访问并用flush privileges;刷新一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; grant all privileges on *.* to &#x27;root&#x27;@&#x27;%&#x27; with grant option;</span><br><span class="line">mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure></li></ol><h3 id="7-本地数据库可视化软件连接服务器中的MySQL"><a href="#7-本地数据库可视化软件连接服务器中的MySQL" class="headerlink" title="7. 本地数据库可视化软件连接服务器中的MySQL"></a>7. 本地数据库可视化软件连接服务器中的MySQL</h3><p>​    先看一下服务器的防火墙关没关</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld</span><br></pre></td></tr></table></figure><p>​    主要看activate，如果是绿色的表示正在运行，灰色的是关闭的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure><h2 id="yum-安装-redis-数据库"><a href="#yum-安装-redis-数据库" class="headerlink" title="yum 安装 redis 数据库"></a>yum 安装 redis 数据库</h2><h3 id="1-下载-epel-仓库"><a href="#1-下载-epel-仓库" class="headerlink" title="1. 下载 epel 仓库"></a>1. 下载 epel 仓库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install epel-release -y</span><br></pre></td></tr></table></figure><h3 id="2-下载-redis-数据库"><a href="#2-下载-redis-数据库" class="headerlink" title="2. 下载 redis 数据库"></a>2. 下载 redis 数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install redis -y</span><br></pre></td></tr></table></figure><h3 id="3-启动-redis-服务"><a href="#3-启动-redis-服务" class="headerlink" title="3. 启动 redis 服务"></a>3. 启动 redis 服务</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start redis</span><br></pre></td></tr></table></figure><h3 id="4-redis-常见命令"><a href="#4-redis-常见命令" class="headerlink" title="4. redis 常见命令"></a>4. redis 常见命令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl status redis 查看服务状态</span><br><span class="line">systemctl stop redis 停止服务</span><br><span class="line">systemctl restart redis 重启服务</span><br><span class="line">ps -ef | grep redis 查看reids服务信息</span><br><span class="line">systemctl enable redis redis开机启动</span><br></pre></td></tr></table></figure><h3 id="5-设置redis-远程连接和密码"><a href="#5-设置redis-远程连接和密码" class="headerlink" title="5. 设置redis 远程连接和密码"></a>5. 设置redis 远程连接和密码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/redis.conf如果没有vim先yum install -y vim</span><br><span class="line">1. 注释 #bind 127.0.0.1</span><br><span class="line">2. 修改protected-mode no</span><br><span class="line">3. 修改 daemonize yes# 后台运行</span><br><span class="line">4. 修改 requirepass Dd123=123</span><br></pre></td></tr></table></figure><h3 id="6-关闭防火墙或者开放6379端口-请自行百度"><a href="#6-关闭防火墙或者开放6379端口-请自行百度" class="headerlink" title="6. 关闭防火墙或者开放6379端口(请自行百度)"></a>6. 关闭防火墙或者开放6379端口(请自行百度)</h3><h3 id="7-重启redis"><a href="#7-重启redis" class="headerlink" title="7. 重启redis"></a>7. 重启redis</h3><h2 id="安装-zookeeper-（kafka-前提，默认端口：2181）"><a href="#安装-zookeeper-（kafka-前提，默认端口：2181）" class="headerlink" title="安装 zookeeper （kafka 前提，默认端口：2181）"></a>安装 zookeeper （kafka 前提，默认端口：2181）</h2><blockquote><p>zookeeper 下载地址：<a href="https://mirrors.tuna.tsinghua.edu.cn/apache/zookeeper/zookeeper-3.5.10/">https://mirrors.tuna.tsinghua.edu.cn/apache/zookeeper/zookeeper-3.5.10/</a></p><p>kafka 下载地址：<a href="https://mirrors.tuna.tsinghua.edu.cn/apache/kafka/2.8.2/">https://mirrors.tuna.tsinghua.edu.cn/apache/kafka/2.8.2/</a></p></blockquote><h3 id="1-解压-zookeeper-压缩包"><a href="#1-解压-zookeeper-压缩包" class="headerlink" title="1. 解压 zookeeper 压缩包"></a>1. 解压 zookeeper 压缩包</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@cc install-software]# tar -zxvf apache-zookeeper-3.5.10-bin.tar.gz -C /opt/software/</span><br><span class="line">[root@cc install-software]# cd ../software/</span><br><span class="line">[root@cc software]# ls</span><br><span class="line">apache-zookeeper-3.5.10-bin  hadoop  kafka  spark</span><br><span class="line">[root@cc software]# mv apache-zookeeper-3.5.10-bin zookeeper</span><br><span class="line">[root@cc software]# ls</span><br><span class="line">hadoop  kafka  spark  zookeeper</span><br><span class="line">[root@cc software]# </span><br></pre></td></tr></table></figure><h3 id="2-修改配置文件，同时复制备份"><a href="#2-修改配置文件，同时复制备份" class="headerlink" title="2. 修改配置文件，同时复制备份"></a>2. 修改配置文件，同时复制备份</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@cc conf]# pwd</span><br><span class="line">/opt/software/zookeeper/conf</span><br><span class="line">[root@cc conf]# ls</span><br><span class="line">configuration.xsl  log4j.properties  zoo_sample.cfg</span><br><span class="line">[root@cc conf]# cp zoo_sample.cfg zoo.cfg</span><br><span class="line">[root@cc conf]# ls</span><br><span class="line">configuration.xsl  log4j.properties  zoo.cfg  zoo_sample.cfg</span><br><span class="line">[root@cc conf]# </span><br></pre></td></tr></table></figure><h3 id="3-进入-bin-目录下启动-zookeeper-服务"><a href="#3-进入-bin-目录下启动-zookeeper-服务" class="headerlink" title="3. 进入 bin 目录下启动 zookeeper 服务"></a>3. 进入 bin 目录下启动 zookeeper 服务</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@cc bin]# pwd</span><br><span class="line">/opt/software/zookeeper/bin</span><br><span class="line">[root@cc bin]# ls</span><br><span class="line">README.txt    zkCli.cmd  zkEnv.cmd  zkServer.cmd            zkServer.sh          zkTxnLogToolkit.sh</span><br><span class="line">zkCleanup.sh  zkCli.sh   zkEnv.sh   zkServer-initialize.sh  zkTxnLogToolkit.cmd</span><br><span class="line">[root@cc bin]# ./zkServer.sh start</span><br></pre></td></tr></table></figure><h3 id="4-查看运行状态"><a href="#4-查看运行状态" class="headerlink" title="4. 查看运行状态"></a>4. 查看运行状态</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@cc bin]# pwd</span><br><span class="line">/opt/software/zookeeper/bin</span><br><span class="line">[root@cc bin]# ./zkServer.sh status</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /opt/software/zookeeper/bin/../conf/zoo.cfg</span><br><span class="line">Client port found: 2181. Client address: localhost. Client SSL: false.</span><br><span class="line">Mode: standalone# 代表单机模式</span><br></pre></td></tr></table></figure><blockquote><p>停止命令：./zkServer.sh stop</p></blockquote><h3 id="5-本地链接-zkCli-sh-测试一下"><a href="#5-本地链接-zkCli-sh-测试一下" class="headerlink" title="5. 本地链接 ./zkCli.sh 测试一下"></a>5. 本地链接 ./zkCli.sh 测试一下</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cc bin]# ./zkCli.sh </span><br><span class="line">Connecting to localhost:2181</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="6-查看端口号"><a href="#6-查看端口号" class="headerlink" title="6. 查看端口号"></a>6. 查看端口号</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cc software]# lsof -i:2181</span><br><span class="line">-bash: lsof: 未找到命令</span><br><span class="line">[root@cc software]# yum install lsof -y</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cc software]# lsof -i:2181</span><br><span class="line">COMMAND  PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">java    2064 root   69u  IPv6  40667      0t0  TCP *:eforward (LISTEN)</span><br></pre></td></tr></table></figure><h2 id="安装-kafka（端口默认：9092）"><a href="#安装-kafka（端口默认：9092）" class="headerlink" title="安装 kafka（端口默认：9092）"></a>安装 kafka（端口默认：9092）</h2><h3 id="1-解压-kafka-压缩包"><a href="#1-解压-kafka-压缩包" class="headerlink" title="1. 解压 kafka 压缩包"></a>1. 解压 kafka 压缩包</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@cc install-software]# tar -zxvf kafka_2.12-2.8.2.tgz -C /opt/software/</span><br><span class="line">[root@cc opt]# cd software/</span><br><span class="line">[root@cc software]# ls</span><br><span class="line">hadoop  kafka_2.12-2.8.2  spark</span><br><span class="line">[root@cc software]# mv kafka_2.12-2.8.2 kafka</span><br><span class="line">[root@cc software]# ls</span><br><span class="line">hadoop  kafka  spark</span><br><span class="line">[root@cc software]# </span><br></pre></td></tr></table></figure><blockquote><ul><li>config 目录下 server.properties</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 标识 broker 编号，集群中有多个broker，则每个broker的编号需要设置不同</span><br><span class="line">broker.id=0</span><br><span class="line"></span><br><span class="line"># 修改下面两个配置（listeners 配置的ip和advertised.listeners相同时启动kafka会报错）</span><br><span class="line">listeners（内网ip）</span><br><span class="line">advertised.listeners(公网ip)</span><br><span class="line"></span><br><span class="line"># 修改zk地址，默认地址</span><br><span class="line">zookeeper.connection=localhost:2181</span><br></pre></td></tr></table></figure><ul><li><p>bin 目录启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#启动</span><br><span class="line">kafka-server-start.sh config/server.properties &amp;</span><br><span class="line"></span><br><span class="line">#停止</span><br><span class="line">kafka-server-stop.sh</span><br></pre></td></tr></table></figure></li><li><p>创建 topic（第二个1为序号，xdclass-topic为名称）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./kafka-topics.sh --create --zookeeper 192.168.138.10:2181 --replication-factor --partitions 1 --topic xdclass-topic</span><br></pre></td></tr></table></figure></li><li><p>查看 topic</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./kafka-topics.sh --list --zookeeper 192.168.138.10:2181</span><br></pre></td></tr></table></figure></li></ul></blockquote><h3 id="2-修改-config-配置文件"><a href="#2-修改-config-配置文件" class="headerlink" title="2. 修改 config 配置文件"></a>2. 修改 config 配置文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@cc config]# pwd</span><br><span class="line">/opt/software/kafka/config</span><br><span class="line">[root@cc config]# ls</span><br><span class="line">connect-console-sink.properties    connect-file-source.properties   consumer.properties  server.properties</span><br><span class="line">connect-console-source.properties  connect-log4j.properties         kraft                tools-log4j.properties</span><br><span class="line">connect-distributed.properties     connect-mirror-maker.properties  log4j.properties     trogdor.conf</span><br><span class="line">connect-file-sink.properties       connect-standalone.properties    producer.properties  zookeeper.properties</span><br><span class="line">[root@cc config]# vim server.properties </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">############################# Socket Server Settings #############################</span><br><span class="line"></span><br><span class="line"># The address the socket server listens on. It will get the value returned from </span><br><span class="line"># java.net.InetAddress.getCanonicalHostName() if not configured.</span><br><span class="line">#   FORMAT:</span><br><span class="line">#     listeners = listener_name://host_name:port</span><br><span class="line">#   EXAMPLE:</span><br><span class="line">#     listeners = PLAINTEXT://your.host.name:9092</span><br><span class="line">listeners=PLAINTEXT://192.168.138.10:9092# 设置本地局域网地址</span><br></pre></td></tr></table></figure><h3 id="3-启动-kafka（config要指明目录）"><a href="#3-启动-kafka（config要指明目录）" class="headerlink" title="3. 启动 kafka（config要指明目录）"></a>3. 启动 kafka（config要指明目录）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@cc bin]# pwd</span><br><span class="line">/opt/software/kafka/bin</span><br><span class="line">[root@cc bin]# ls</span><br><span class="line">connect-distributed.sh        kafka-dump-log.sh                    kafka-storage.sh</span><br><span class="line">connect-mirror-maker.sh       kafka-features.sh                    kafka-streams-application-reset.sh</span><br><span class="line">connect-standalone.sh         kafka-leader-election.sh             kafka-topics.sh</span><br><span class="line">kafka-acls.sh                 kafka-log-dirs.sh                    kafka-verifiable-consumer.sh</span><br><span class="line">kafka-broker-api-versions.sh  kafka-metadata-shell.sh              kafka-verifiable-producer.sh</span><br><span class="line">kafka-cluster.sh              kafka-mirror-maker.sh                trogdor.sh</span><br><span class="line">kafka-configs.sh              kafka-preferred-replica-election.sh  windows</span><br><span class="line">kafka-console-consumer.sh     kafka-producer-perf-test.sh          zookeeper-security-migration.sh</span><br><span class="line">kafka-console-producer.sh     kafka-reassign-partitions.sh         zookeeper-server-start.sh</span><br><span class="line">kafka-consumer-groups.sh      kafka-replica-verification.sh        zookeeper-server-stop.sh</span><br><span class="line">kafka-consumer-perf-test.sh   kafka-run-class.sh                   zookeeper-shell.sh</span><br><span class="line">kafka-delegation-tokens.sh    kafka-server-start.sh</span><br><span class="line">kafka-delete-records.sh       kafka-server-stop.sh</span><br><span class="line">[root@cc bin]# [root@cc bin]# ./kafka-server-start.sh ../config/server.properties &amp;</span><br><span class="line"># config 指明地址</span><br><span class="line"># ctrl + c 退出</span><br></pre></td></tr></table></figure><h3 id="4-查看端口号"><a href="#4-查看端口号" class="headerlink" title="4. 查看端口号"></a>4. 查看端口号</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@cc bin]# lsof -i:9092</span><br><span class="line">COMMAND  PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">java    2613 root  132u  IPv6  32230      0t0  TCP cc:XmlIpcRegSvc (LISTEN)</span><br><span class="line">java    2613 root  151u  IPv6  32235      0t0  TCP cc:40136-&gt;cc:XmlIpcRegSvc (ESTABLISHED)</span><br><span class="line">java    2613 root  152u  IPv6  43283      0t0  TCP cc:XmlIpcRegSvc-&gt;cc:40136 (ESTABLISHED)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cc bin]# netstat -tunlp|egrep &quot;(2181|9092)&quot;</span><br><span class="line">tcp6       0      0 192.168.138.10:9092     :::*                    LISTEN      2613/java           </span><br><span class="line">tcp6       0      0 :::2181                 :::*                    LISTEN      2064/java </span><br></pre></td></tr></table></figure><blockquote><p>zk：2181端口。pid：2064</p><p>kafka：9092端口。pid：2613</p></blockquote><h3 id="5-单机连通性测试"><a href="#5-单机连通性测试" class="headerlink" title="5. 单机连通性测试"></a>5. 单机连通性测试</h3><ul><li><p>再启动两个xshell客户端，一个用于生产者返送信息，一个用于消费者接受信息，原先的不要关</p></li><li><p>两台都要 cd 到安装目录下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/software/kafka</span><br></pre></td></tr></table></figure></li><li><p>一个shell创建topic名为test</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@cc ~]# cd /opt/software/kafka/</span><br><span class="line">[root@cc kafka]# ./bin/kafka-topics.sh --create --zookeeper 192.168.138.10:2181 --replication-factor 1 --partitions 1 --topic test</span><br><span class="line">Created topic test.</span><br><span class="line">[root@cc kafka]# </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>打开一个 Producer</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cc kafka]# ./bin/kafka-console-producer.sh --broker-list 192.168.138.10:9092 --topic test</span><br></pre></td></tr></table></figure></li></ul></li><li><p>另一个打开 Consumer</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cc ~]# cd /opt/software/kafka/</span><br><span class="line">[root@cc kafka]# ./bin/kafka-console-consumer.sh --bootstrap-server 192.168.138.10:9092 --topic itcast_order --</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> 大数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue常用小技巧</title>
      <link href="/post/797606c.html"/>
      <url>/post/797606c.html</url>
      
        <content type="html"><![CDATA[<h1 id="vue常用小技巧"><a href="#vue常用小技巧" class="headerlink" title="vue常用小技巧"></a>vue常用小技巧</h1><h4 id="在线预览"><a href="#在线预览" class="headerlink" title="在线预览"></a>在线预览</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">preview(url) &#123;</span><br><span class="line">      window.open(&#x27;https://file.keking.cn/onlinePreview?url=&#x27; + encodeURIComponent(window.btoa((url))))</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><h4 id="element图片预览"><a href="#element图片预览" class="headerlink" title="element图片预览"></a>element图片预览</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;el-button @click=&quot;onPreview&quot;&gt;预览&lt;/el-button&gt;</span><br><span class="line">        &lt;el-image-viewer </span><br><span class="line">                     v-if=&quot;showViewer&quot; </span><br><span class="line">                     :on-close=&quot;closeViewer&quot; </span><br><span class="line">                     :url-list=&quot;[url]&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // 导入组件</span><br><span class="line">    import ElImageViewer from &#x27;element-ui/packages/image/src/image-viewer&#x27;</span><br><span class="line">    </span><br><span class="line">    export default &#123;</span><br><span class="line">      name: &#x27;Index&#x27;,</span><br><span class="line">      components: &#123; ElImageViewer &#125;,</span><br><span class="line">      data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          showViewer: false, // 显示查看器</span><br><span class="line">          url:&#x27;https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        onPreview() &#123;</span><br><span class="line">          this.showViewer = true</span><br><span class="line">        &#125;,</span><br><span class="line">        // 关闭查看器</span><br><span class="line">        closeViewer() &#123;</span><br><span class="line">          this.showViewer = false</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--    图片预览--&gt;</span><br><span class="line">&lt;el-image-viewer v-if=&quot;showViewer&quot; :on-close=&quot;closerViewer&quot; :url-list=&quot;[viewerUrl]&quot;&gt;&lt;/el-image-viewer&gt;</span><br><span class="line">    </span><br><span class="line">二 </span><br><span class="line">import ElImageViewer from &#x27;element-ui/packages/image/src/image-viewer&#x27;</span><br><span class="line"></span><br><span class="line">三</span><br><span class="line">name: &quot;SysFeilu&quot;,</span><br><span class="line">components: &#123; ElImageViewer &#125;,</span><br><span class="line"></span><br><span class="line">四</span><br><span class="line">showViewer: false, // 图片预览</span><br><span class="line">viewerUrl: &#x27;&#x27;     // 预览地址</span><br><span class="line"></span><br><span class="line">五</span><br><span class="line">preview(url) &#123;</span><br><span class="line">    this.viewerUrl = url</span><br><span class="line">    this.showViewer = true</span><br><span class="line">&#125;,</span><br><span class="line">closerViewer() &#123;</span><br><span class="line">    this.viewerUrl = &#x27;&#x27;</span><br><span class="line">    this.showViewer = false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">download(url) &#123;</span><br><span class="line">window.open(url)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;pd-10&quot;&gt;</span><br><span class="line">  &lt;el-pagination</span><br><span class="line">    @size-change=&quot;(e) =&gt; handleSizeChange(e)&quot;</span><br><span class="line">    @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">    :current-page=&quot;currentPage&quot;</span><br><span class="line">    :page-sizes=&quot;[100, 200, 300, 400, 500]&quot;</span><br><span class="line">    :page-size=&quot;pageSize&quot;</span><br><span class="line">    layout=&quot;total, sizes, prev, pager, next, jumper&quot;</span><br><span class="line">    :total=&quot;total&quot;</span><br><span class="line">    background&gt;</span><br><span class="line">  &lt;/el-pagination&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pageSize: 100,</span><br><span class="line">currentPage: 1,</span><br><span class="line">total: 0,</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">handleSizeChange(e) &#123;</span><br><span class="line">    this.currentPage = 1</span><br><span class="line">    this.pageSize = e</span><br><span class="line">    this.load()</span><br><span class="line">&#125;,</span><br><span class="line">handleCurrentChange(pageNum) &#123;</span><br><span class="line">    this.currentPage = pageNum</span><br><span class="line">    this.load()</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="解决element-ui中下拉菜单子选项click事件不触发的问题"><a href="#解决element-ui中下拉菜单子选项click事件不触发的问题" class="headerlink" title="解决element-ui中下拉菜单子选项click事件不触发的问题"></a>解决element-ui中下拉菜单子选项click事件不触发的问题</h4><p>将@click改为@click.native=’logout’;即可监听选项的点击事件。(退出响应不迅速是因为把@click给了span标签，正确的是写在el-dropdown-item上)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-dropdown-menu slot=<span class="string">&quot;dropdown&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-dropdown-item</span>&gt;</span>个人信息<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-dropdown-item</span> @<span class="attr">click.native</span>=<span class="string">&quot;logout&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;text-decoration: none&quot;</span>&gt;</span>退出<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span></span><br><span class="line">&lt;/el-dropdown-menu&gt;</span><br></pre></td></tr></table></figure></p><h3 id="element按钮实现倒计时"><a href="#element按钮实现倒计时" class="headerlink" title="element按钮实现倒计时"></a>element按钮实现倒计时</h3><ol><li>view部分<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button @click=&quot;sendMsg&quot; </span><br><span class="line">            type=&quot;primary&quot; </span><br><span class="line">            :disabled=&quot;canClick&quot;&gt;</span><br><span class="line">            &#123;&#123; content &#125;&#125;</span><br><span class="line">&lt;/el-button&gt;</span><br></pre></td></tr></table></figure></li><li>data<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">     content: &#x27;发送短信&#x27;,</span><br><span class="line">      totalTime: 10,</span><br><span class="line">      canClick: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li><li>js<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">sendMsg() &#123;</span><br><span class="line">  if (this.canClick) return</span><br><span class="line">  this.canClick = true</span><br><span class="line">  this.content = this.totalTime + &#x27;s后重新发送&#x27;</span><br><span class="line">  let clock = window.setInterval(() =&gt; &#123;</span><br><span class="line">    this.totalTime--</span><br><span class="line">    this.content = this.totalTime + &#x27;s后重新发送&#x27;</span><br><span class="line">    if (this.totalTime &lt; 0) &#123;</span><br><span class="line">      window.clearInterval(clock)</span><br><span class="line">      this.content = &#x27;重新发送短信&#x27;</span><br><span class="line">      this.totalTime = 10</span><br><span class="line">      this.canClick = false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, 1000)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>两个块级元素并排显示：float:left,注意要小于父元素的宽高</li></ol><h4 id="js操纵css属性变化"><a href="#js操纵css属性变化" class="headerlink" title="js操纵css属性变化"></a>js操纵css属性变化</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var info = document.getElementById(&#x27;info&#x27;)</span><br><span class="line">info.setAttribute(&#x27;class&#x27;,&#x27;on&#x27;)</span><br><span class="line">var pwd = document.getElementById(&#x27;pwd&#x27;)</span><br><span class="line">pwd.removeAttribute(&#x27;class&#x27;,&#x27;on&#x27;)</span><br></pre></td></tr></table></figure><h4 id="当input层数太深不响应时，强制刷新-尤其是在from表单中"><a href="#当input层数太深不响应时，强制刷新-尤其是在from表单中" class="headerlink" title="当input层数太深不响应时，强制刷新,尤其是在from表单中"></a>当input层数太深不响应时，强制刷新,尤其是在from表单中</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> &lt;el-input v-model=&quot;user.username&quot; </span><br><span class="line"> @input=&quot;inputChange&quot; </span><br><span class="line"> placeholder=&quot;用户名称&quot; </span><br><span class="line"> style=&quot;float: left;width: 200px&quot;&gt;&lt;/el-input&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">inputChange(e) &#123;</span><br><span class="line">        //强制刷新</span><br><span class="line">        this.$forceUpdate()</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h4 id="vuex刷新页面数据丢失，使用session或者local存放"><a href="#vuex刷新页面数据丢失，使用session或者local存放" class="headerlink" title="vuex刷新页面数据丢失，使用session或者local存放"></a>vuex刷新页面数据丢失，使用session或者local存放</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这是vue中的state</span></span><br><span class="line"><span class="attr">imgUrl</span>: <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;user&#x27;</span>) ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;user&#x27;</span>)).<span class="property">avatar</span> : <span class="string">&#x27;&#x27;</span>,</span><br><span class="line"><span class="attr">username</span>: <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;user&#x27;</span>) ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;user&#x27;</span>)).<span class="property">username</span> : <span class="string">&#x27;&#x27;</span>,</span><br><span class="line"><span class="attr">token</span>: <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;user&#x27;</span>) ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;user&#x27;</span>)).<span class="property">token</span> : <span class="string">&#x27;&#x27;</span>,</span><br></pre></td></tr></table></figure><h4 id="下拉框el-dropdown格式不对的时候看看页面样式，是否是因为宽度太宽，宽度太宽，在外层套一个div，样式写在外部div上"><a href="#下拉框el-dropdown格式不对的时候看看页面样式，是否是因为宽度太宽，宽度太宽，在外层套一个div，样式写在外部div上" class="headerlink" title="下拉框el-dropdown格式不对的时候看看页面样式，是否是因为宽度太宽，宽度太宽，在外层套一个div，样式写在外部div上"></a>下拉框el-dropdown格式不对的时候看看页面样式，是否是因为宽度太宽，宽度太宽，在外层套一个div，样式写在外部div上</h4><h4 id="el-upload上传携带token"><a href="#el-upload上传携带token" class="headerlink" title="el-upload上传携带token"></a>el-upload上传携带token</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-upload</span><br><span class="line">    class=&quot;avatar-uploader&quot;</span><br><span class="line">    action=&quot;http://localhost:9090/file/upload&quot;</span><br><span class="line">    :show-file-list=&quot;false&quot;</span><br><span class="line">    :on-success=&quot;handleAvatarSuccess&quot;</span><br><span class="line">    :headers=&quot;header&quot;&gt;</span><br><span class="line">    </span><br><span class="line">  var head = localStorage.getItem(&#x27;user&#x27;) ? JSON.parse(localStorage.getItem(&#x27;user&#x27;)).token : &#x27;&#x27;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;Person&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        title: &#x27;我的信息&#x27;,</span><br><span class="line">        imageUrl: &quot;&quot;,</span><br><span class="line">        user: &#123;&#125;,       // 更新信息</span><br><span class="line">        flag: &#x27;我的信息&#x27;,</span><br><span class="line">        userpassword: &#123;&#125;, // 修改密码</span><br><span class="line">        passwordsend: &#123;&#125;,</span><br><span class="line">        header: &#123;token: head&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><h3 id="轮播图上下图层实现背景毛玻璃"><a href="#轮播图上下图层实现背景毛玻璃" class="headerlink" title="轮播图上下图层实现背景毛玻璃"></a>轮播图上下图层实现背景毛玻璃</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-carousel height=&quot;300px&quot;&gt;</span><br><span class="line">    &lt;el-carousel-item v-for=&quot;item in carouseList&quot; :key=&quot;item&quot;&gt;</span><br><span class="line">      &lt;div style=&quot;position:relative&quot;&gt;</span><br><span class="line">        &lt;div style=&quot;width: 980px;position:absolute;z-index: 30;left: 50%;margin-left: -490px&quot;&gt;</span><br><span class="line">          &lt;img :src=&quot;item&quot; style=&quot;width: 100%&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div style=&quot;position:absolute;width: 100vw;z-index: 1&quot;&gt;</span><br><span class="line">          &lt;img :src=&quot;item&quot; style=&quot;width: 100%;filter: blur(10px);&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/el-carousel-item&gt;</span><br><span class="line">&lt;/el-carousel&gt;</span><br><span class="line">/**</span><br><span class="line">*div实现上下层使用z-index属性越大，图层越靠前</span><br><span class="line">*注意：父部元素需要position:relative,子类元素position:absolute</span><br><span class="line">*absolute绝对位置实现居中</span><br><span class="line">*    position: absolute;</span><br><span class="line">*    left: 50%;</span><br><span class="line">*    width: 980px;</span><br><span class="line">*    margin-left: -490px;     //除去自身的宽度，就是居中位置</span><br><span class="line">*/</span><br></pre></td></tr></table></figure><p>块级元素居中：text-align: center;line-height: 80px</p><h4 id="多余字成省略号"><a href="#多余字成省略号" class="headerlink" title="多余字成省略号"></a>多余字成省略号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.box&#123;</span><br><span class="line">    background: red;</span><br><span class="line">    width: 100px;</span><br><span class="line">    white-space: nowrap;             /*使文本内容不换行，写在一行*/</span><br><span class="line">    overflow: hidden;                /*隐藏多余内容*/</span><br><span class="line">    text-overflow: ellipsis;         /*将多余内容以省略号的方式展示*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="多余字成省略号-两行后省略"><a href="#多余字成省略号-两行后省略" class="headerlink" title="多余字成省略号(两行后省略)"></a>多余字成省略号(两行后省略)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.name &#123;</span><br><span class="line">    font-size: 10px;</span><br><span class="line">    font-family: sans-serif;</span><br><span class="line">    width: 240px;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">    word-break: break-all;</span><br><span class="line">    display: -webkit-box;</span><br><span class="line">    -webkit-box-orient: vertical;</span><br><span class="line">    -webkit-line-clamp: 2;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="入参时间，出参时间格式化"><a href="#入参时间，出参时间格式化" class="headerlink" title="入参时间，出参时间格式化"></a>入参时间，出参时间格式化</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置入参</span></span><br><span class="line"><span class="meta">@DateTimeFormat(pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span><br><span class="line"><span class="keyword">private</span> Date date;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置出参</span></span><br><span class="line"><span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)</span></span><br><span class="line"><span class="keyword">private</span> Date endDate;</span><br></pre></td></tr></table></figure><h3 id="标签栏固定住不滚动，main-部分滚动"><a href="#标签栏固定住不滚动，main-部分滚动" class="headerlink" title="标签栏固定住不滚动，main 部分滚动"></a>标签栏固定住不滚动，main 部分滚动</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Headers</span> <span class="attr">:title</span>=<span class="string">&quot;this.highScore.title&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">:subtitle</span>=<span class="string">&quot;this.highScore.subtitle&quot;</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">style</span>=<span class="string">&quot;position:sticky;top:0px;background-color:white;&quot;</span>/&gt;</span></span><br><span class="line">粘性布局</span><br><span class="line">position:sticky;</span><br><span class="line">top: 0px;</span><br><span class="line">当页面滚动到一定程度的时候，让某元素固定在指定位置</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> element-ui </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>多线程基础</title>
      <link href="/post/53471b9a.html"/>
      <url>/post/53471b9a.html</url>
      
        <content type="html"><![CDATA[<h2 id="多线程的实现"><a href="#多线程的实现" class="headerlink" title="多线程的实现"></a>多线程的实现</h2><p>​    多线程的实现在 java 中有<strong>两</strong>种</p><ul><li><span style="font-size: 30px">继承 Thread</span>，但是这种方式有局限性，就是 java 的 <strong>单继承局限问题</strong></li><li><span style="font-size: 30px">实现 Runnable 接口</span>。使用接口定义的线程类会更加<strong>合理</strong>。</li></ul><h3 id="继承-Thread-类"><a href="#继承-Thread-类" class="headerlink" title="继承 Thread 类"></a>继承 Thread 类</h3><p>​        任何类只需要继承 Thread 类就可以成为一个线程的<strong>主类</strong>。但是既然是主类就必须有它的使用方法，而线程启动的主方法需要重写 Thread 类中的 <strong>run()</strong> 方法实现。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadExtendTest</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ThreadExtendTest</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ThreadExtendTest</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 重写 run 方法，作为线程的主操作方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">200</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="built_in">this</span>.name + <span class="string">&quot;---&gt;&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​        所有线程与进程是一样的，都必须轮流去抢占资源，所以多线程的执行应该是<strong>多个线程彼此交替执行</strong>。也就是说，如果直接调用 run() 方法，并不能启动多线程，<span style="color: red;font-size: 20px;background-color: #ff4;"><strong>多线程启动的唯一方法就是 Thread 类中的 start() 方法：public void start() （调用此方法执行的方法体是 run() 方法定义的代码）</strong></span></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 实例化多线程类对象</span></span><br><span class="line">        <span class="type">ThreadExtendTest</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadExtendTest</span>(<span class="string">&quot;线程A&quot;</span>);</span><br><span class="line">        <span class="type">ThreadExtendTest</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadExtendTest</span>(<span class="string">&quot;线程B&quot;</span>);</span><br><span class="line">        <span class="type">ThreadExtendTest</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadExtendTest</span>(<span class="string">&quot;线程C&quot;</span>);</span><br><span class="line">        <span class="comment">// 启动多线程</span></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​        上面的程序首先实例化了 3 个线程类对象，然后调用了通过 <strong>Thread 类继承</strong>而来的 start() 方法，进行多线程的启动。通过上面程序可以发现所有的线程都是<strong>交替运行</strong>的。</p><h3 id="实现-Runnable-接口"><a href="#实现-Runnable-接口" class="headerlink" title="实现 Runnable 接口"></a>实现 Runnable 接口</h3><p>​        使用 Thread 类的确可以方便的进行多线程的实现，但是这种方式的<strong>最大的缺点就是单继承的问题</strong>。为此，在 Java 中也<strong>可以利用 Runnable 接口来实现多线程</strong>，而这个接口的定义如下：可以看出来是<strong>函数式接口</strong>，可以用 lambda 表达。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​        在 Runnable 接口中也定义了 run() 方法，所以线程的主类只需要<strong>重写此方法</strong>即可。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterfaceThreadTest</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InterfaceThreadTest</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InterfaceThreadTest</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写 run 方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">200</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="built_in">this</span>.name + <span class="string">&quot;---&gt;&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​        以上程序实现了 Runnable 接口并且正常重写了 run() 方法，但是却会存在一个新的问题：要启动多线程，一定需要通过 Thread 类中的 start() 方法才可以完成。如果继承了 Thread 类，那么可以直接将 Thread 父类中的 start() 方法继承下来继续使用，而 <strong>Runnbale 接口并没有提供可以被继承的 start() 方法</strong>，这时候应该如何启动多线程呢？此时可以观察 <span style="font-size: 20px; color: red; background-color: #ff4"><strong>Thread 类中提供的一个有参构造方法：public Thread(Runnable target)</strong></span>，本方法可以接收一个 Runnbale 接口对象。 </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">InterfaceThreadTestDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 实例化线程对象</span></span><br><span class="line">        <span class="type">InterfaceThreadTest</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InterfaceThreadTest</span>(<span class="string">&quot;线程A&quot;</span>);</span><br><span class="line">        <span class="type">InterfaceThreadTest</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InterfaceThreadTest</span>(<span class="string">&quot;线程B&quot;</span>);</span><br><span class="line">        <span class="type">InterfaceThreadTest</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InterfaceThreadTest</span>(<span class="string">&quot;线程C&quot;</span>);</span><br><span class="line">        <span class="comment">// 利用 Thread 类中的构造方法启动多线程</span></span><br><span class="line">        <span class="comment">// 启动方法 start() 莫忘</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t1).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t2).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t3).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​        本程序首先利用 Thread 类的对象包装了 Runnable 接口对象实例（new Thread(t1).start()），然后利用 Thread 类的 start() 方法就可以实现多线程的启动。</p><blockquote><p>在上面 Runnable 接口代码处提到过，该接口使用了<strong>函数式接口</strong>，所以也可以用 <strong>Lambda 表达式编写代码。</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LamdaRunnableDemo</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     <span class="comment">// Lambda 风格编写线程A</span></span><br><span class="line">     <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">         <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">200</span>; i++) &#123;</span><br><span class="line">             System.out.println(<span class="string">&quot;线程A---&gt;&quot;</span> + i);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;).start();</span><br><span class="line"></span><br><span class="line">     <span class="comment">// Lambda 风格编写线程B</span></span><br><span class="line">     <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">         <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">200</span>; i++) &#123;</span><br><span class="line">             System.out.println(<span class="string">&quot;线程B---&gt;&quot;</span> + i);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;).start();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>​        <strong>使用 Runnable 接口可以有效避免单继承局限问题，所以在实际的开发中，对于多线程的实现<span style="color:red">首先选择的就是 Runnable 接口</span>。</strong></p><h3 id="多线程两种实现方式的区别"><a href="#多线程两种实现方式的区别" class="headerlink" title="多线程两种实现方式的区别"></a>多线程两种实现方式的区别</h3><ul><li><p>实现 Runnable 接口 可以<strong>避免单继承的局限</strong></p></li><li><p>Thread 类也是 Runnable 接口的子类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span></span><br></pre></td></tr></table></figure></li><li><p>使用 Runnable 接口可以更加方便的表示出<strong>数据共享</strong>的概念</p><ol><li><p>通过继承 Thread 类实现卖票程序</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SellTicketExtend</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="comment">// 5张票</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义线程主方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;卖票,ticket = &quot;</span> + <span class="built_in">this</span>.ticket--);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SellTicketExtendTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建线程对象</span></span><br><span class="line">        <span class="type">SellTicketExtend</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicketExtend</span>();</span><br><span class="line">        <span class="type">SellTicketExtend</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicketExtend</span>();</span><br><span class="line">        <span class="type">SellTicketExtend</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicketExtend</span>();</span><br><span class="line">        <span class="comment">// 启动线程</span></span><br><span class="line">        s1.start();</span><br><span class="line">        s2.start();</span><br><span class="line">        s3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​        本程序定义了 3 个线程对象，希望 3 个线程对象同时卖 5 张车票。而最终的结果是一共卖出了 15 张票，等于每一个线程各自卖各自的 5 张票。</p></li><li><p>利用 Runnable 接口实现多线程</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SellTicketRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">5</span>; <span class="comment">// 定义 5 张票</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;卖票，ticket = &quot;</span> + <span class="built_in">this</span>.ticket--);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SellTicketRunnableTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 实例化线程对象</span></span><br><span class="line">        <span class="type">SellTicketRunnable</span> <span class="variable">runnable</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicketRunnable</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(runnable).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(runnable).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(runnable).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    卖票，ticket = 5</span></span><br><span class="line"><span class="comment">    卖票，ticket = 3</span></span><br><span class="line"><span class="comment">    卖票，ticket = 2</span></span><br><span class="line"><span class="comment">    卖票，ticket = 4</span></span><br><span class="line"><span class="comment">    卖票，ticket = 1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>​        本程序使用 Runnable 接口实现了多线程，同时启动了 3 个线程对象，但是与继承 Thread 操作的卖票例子不同，这 3 个线程对象都占着同一个 Runnable 接口对象的引用，所以实现了<strong>数据共享</strong>的操作。</p><blockquote><p>需要注意的是，继承 Thread 类的操作也可以实现数据共享的概念，但是这种实现方式往往不被采用，原因是<strong>：如果想要启动多线程肯定要依靠 Thread 类的 start() 方法，但是依靠 Runnable 接口实现的线程主题类没有 start() 方法的定义，而继承了 Thread 实现的线程主体类存在 start() 方法的定义，如果通过 Thread 类继承的多线程主体类，再利用 Thread 类去实现多线程，这样明显不合适。</strong></p></blockquote></li></ol></li></ul><h3>总结：多线程的两种实现方式及区别</h3><ul><li>多线程的两种实现方式都需要一共线程的主类，而这个类可以实现 Runnable 接口或继承 Thread 类，<strong>不管使用何种方式都必须在子类中重写 run() 方法</strong>，此方法为线程的主方法；</li><li>Thread 类是 Runnable 接口的子类，并且使用 Runnable 接口可以<strong>避免单继承局限</strong>，并且可以更加方便的实现<strong>数据共享</strong>的概念。</li></ul><h2 id="线程的操作状态"><a href="#线程的操作状态" class="headerlink" title="线程的操作状态"></a>线程的操作状态</h2><p>​        要想实现多线程，必须在主线程中创建新的线程对象。任何线程一般都具有 5 种状态，即<span style="color: red;font-size: 20px; background-color: #ff4"><strong>创建、就绪、运行、堵塞和终止</strong></span></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/01454c0a655ce2b89ab156ef185daf0c.png" alt="image-20230216175035768"></p><ol><li><p><strong>创建状态</strong></p><p>在程序中用<strong>构造方法创建一个线程对象</strong>后，新的线程对象便处于<strong>新建状态</strong>，此时，它<strong>已经有相应的内存空间和其他资源</strong>，但还处于不可运行状态。新建一个线程对象可采用 Thread 类构造方法来实现，例如：Thread t = new Thread().</p></li><li><p><strong>就绪状态</strong></p><p>新建线程对象后，<strong>调用该线程的 <span style="color:red">start() 方法</span></strong>就可以启动线程。当线程启动时，线程就进入了<strong>就绪状态</strong>。此时，线程将进入线程队列排队，等待 CPU 服务，这表明它<strong>已经具备了运行条件</strong>。</p></li><li><p><strong>运行状态</strong></p><p>当<strong>就绪状态的线程被调用</strong>并获得处理器资源时，线程就进入了<strong>运行状态</strong>，此时，自动调用该线程对象的 <strong><span style="color:red">run() 方法</span></strong>。run() 方法定义了该线程的<strong>操作和功能</strong>。</p></li><li><p><strong>堵塞状态</strong></p><p>一个<strong><span style="color:red">正在执行的线程</span></strong>在某些特殊情况下，如人为挂起或需要执行耗时的输入输出操作时，将让出 CPU 并暂时中止自己的执行，进入<strong>堵塞状态</strong>。在可执行状态下，如果调用 <strong>sleep()、suspend()、wait()</strong>等方法，线程都将进入阻塞状态。堵塞时候，线程<strong>不能进入排队队列</strong>，只有当引起堵塞的原因被消除后，线程才可以转入<strong><span style="color:red">就绪状态</span></strong>。</p></li><li><p><strong>终止状态</strong></p><p>线程调用 <strong>stop() 方法或 run() 方法执行结束</strong>后，就处于<strong>终止状态</strong>。处于终止状态的线程<strong>不再具有继续运行</strong>的能力。</p></li></ol><h2 id="多线程常用操作方法"><a href="#多线程常用操作方法" class="headerlink" title="多线程常用操作方法"></a>多线程常用操作方法</h2><h3 id="线程命名和获取"><a href="#线程命名和获取" class="headerlink" title="线程命名和获取"></a>线程命名和获取</h3><div class="table-container"><table><thead><tr><th style="text-align:center">方法</th><th style="text-align:center">类型</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">public Thread(Runnable target, String name)</td><td style="text-align:center">构造</td><td style="text-align:left">实例化线程对象，接收 Runnable接口子类对象，同时设置线程名称</td></tr><tr><td style="text-align:center">public final void setName(String name)</td><td style="text-align:center">普通</td><td style="text-align:left">设置线程名字</td></tr><tr><td style="text-align:center">public final String getName()</td><td style="text-align:center">普通</td><td style="text-align:left">获取线程名字</td></tr></tbody></table></div><p>​        由于<strong>多线程的状态不确定</strong>，所以线程的<strong>名字</strong>就成为了<strong>唯一的分辨标记</strong>，则在定义线程名称时一定要在<strong>线程<span style="color:red">启动前</span>设置名字</strong>，而尽量不要崇明，且<strong>尽量不要为已经启动的线程修改名字</strong>。</p><p>​        由于<strong>线程的状态不确定</strong>，所以每次可以操作的都是<strong>正在执行 run() 方法的线程</strong>，那么<strong>取得当前线程对象</strong>的方法为：public static Thread <span style="color:red"><strong>currentThread</strong>()</span>。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GetNameThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GetNameThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">GetNameThread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GetNameThread</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;自己的线程A&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;自己的线程B&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    自己的线程A</span></span><br><span class="line"><span class="comment">    Thread-0</span></span><br><span class="line"><span class="comment">    Thread-2</span></span><br><span class="line"><span class="comment">    自己的线程B</span></span><br><span class="line"><span class="comment">    Thread-1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>​        通过本程序可以发现，当<strong>实例化 Thread 类对象</strong>时可以<strong>自己定义线程名称</strong>，也<strong>可以采用默认名称</strong>进行操作。在 <strong><span style="color:red;">run() 方法中可以使用 currentThread() 取得当前线程对象</span></strong>后再取得具体的线程名字。</p><h3 id="线程的休眠"><a href="#线程的休眠" class="headerlink" title="线程的休眠"></a>线程的休眠</h3><p>​        线程的休眠指的是让程序的执行速度变慢一些，在 Thread 类中线程<strong>休眠操作</strong>方法为： <strong>sleep(long millis) ,单位：毫秒（ms）</strong>。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SleepThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 每次执行休息一秒</span></span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;, i = &quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SleepThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SleepThread</span> <span class="variable">sleepThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SleepThread</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(sleepThread,<span class="string">&quot;线程A&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​        本程序在每一次线程执行 run() 方法时候都会产生 1s 左右的延迟后才会进行内容的输出，所以整体代码执行速度有所降低。</p><p>​        <strong>建议设置多个线程试试</strong></p><h3 id="线程的优先级"><a href="#线程的优先级" class="headerlink" title="线程的优先级"></a>线程的优先级</h3><p>​        在java的线程操作中，所有的线程在运行前都会保持就绪状态，此时哪个线程的<strong>优先级高</strong>，哪个线程就有可能会<strong>先被执行</strong>。</p><p>​        如果想要进行线程优先级的设置，在thread类中提供了支持的<strong>方法及常量</strong>。</p><div class="table-container"><table><thead><tr><th style="text-align:left">方法或常量</th><th style="text-align:center">类型</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:left">public static final int MAX_PRIORITY</td><td style="text-align:center">常量</td><td>最高优先级，数值为10</td></tr><tr><td style="text-align:left">public static final int NORM_PRIORITY</td><td style="text-align:center">常量</td><td>中等优先级，数值为5</td></tr><tr><td style="text-align:left">public static final int MIN_PRIORITY</td><td style="text-align:center">常量</td><td>最低优先级，数值为1</td></tr><tr><td style="text-align:left">public final vod setPriority(int newPriority)</td><td style="text-align:center">普通</td><td>设置线程优先级</td></tr><tr><td style="text-align:left">public final int getPriority()</td><td style="text-align:center">普通</td><td>获取线程优先级</td></tr></tbody></table></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PriorityThead</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;, i = &quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PriorityThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 实例化线程对象</span></span><br><span class="line">        <span class="type">PriorityThead</span> <span class="variable">priorityThead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PriorityThead</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(priorityThead, <span class="string">&quot;线程A&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(priorityThead, <span class="string">&quot;线程B&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(priorityThead, <span class="string">&quot;线程C&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置线程优先级</span></span><br><span class="line">        t3.setPriority(Thread.MAX_PRIORITY);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 查看线程优先级</span></span><br><span class="line">        System.out.println(t3.getName() + <span class="string">&quot;优先级：&quot;</span> + t3.getPriority());</span><br><span class="line">        System.out.println(t2.getName() + <span class="string">&quot;优先级：&quot;</span> + t2.getPriority());</span><br><span class="line">        System.out.println(t1.getName() + <span class="string">&quot;优先级：&quot;</span> + t1.getPriority());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 开启线程</span></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​        本程序定义了3个线程对象，并在线程对象<strong>启动前</strong>，利用setPriority()方法修改了一个线程的优先级。</p><h2 id="线程的同步与死锁"><a href="#线程的同步与死锁" class="headerlink" title="线程的同步与死锁"></a>线程的同步与死锁</h2><p>​        程序利用线程可以进行更为高效的程序处理，如果在没有多线程的程序中，一个程序在处理某某些资源时候会有主方法（主线程全部进行处理），但是这样的处理速度一定会比较慢。如果采用了多线程的处理机制，利用主线程创建出许多子线程（相当于多了许多帮手），一起进行资源的操作，那么执行效率一定会比只有一个主线程更高。</p><p>​        在程序开发中，所有程序都是通过主方法执行的，而主方法本身就属于一个主线程，所以通过主方法拆关键的新的线程对象都是子线程。利用子线程可以进行<strong><span style="color:red">异步</span></strong>的操作处理，这样可以在不影响主线程运行的前提下进行其他操作，程序的执行速度不仅变快了，并且操作起来也不会产生太多的延迟。</p><p>​        虽然使用多线程同时处理资源效率比单线程高许多，但是多个线程如果操作同一个资源一定会存在一些问题，如资源操作的完整性问题。</p><h3 id="同步问题的引出"><a href="#同步问题的引出" class="headerlink" title="同步问题的引出"></a>同步问题的引出</h3><p>​        同步是多线程开发中的一个重要概念，既然有同步，就一定会存在不同步的操作。</p><p>​        <span style="color:red"><strong>多个线程操作同一资源就有可能出现不同步的问题</strong></span>，例如：现在产生N个线程对象实现卖票操作，同时为了更加明显的观察不同步所带来的问题，所以本程序将使用线程的休眠操作。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SynchronousThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">5</span>; <span class="comment">// 一共有5张票</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// 判断当前是否还有剩余的票</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>); <span class="comment">// 休眠 1s，模拟延迟</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() +</span><br><span class="line">                        <span class="string">&quot; 卖票，ticket = &quot;</span> + <span class="built_in">this</span>.ticket--);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SynchronousThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SynchronousThread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SynchronousThread</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;票贩子A&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;票贩子B&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;票贩子C&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;票贩子D&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    票贩子D 卖票，ticket = 4</span></span><br><span class="line"><span class="comment">    票贩子A 卖票，ticket = 5</span></span><br><span class="line"><span class="comment">    票贩子B 卖票，ticket = 3</span></span><br><span class="line"><span class="comment">    票贩子C 卖票，ticket = 2</span></span><br><span class="line"><span class="comment">    票贩子A 卖票，ticket = 0</span></span><br><span class="line"><span class="comment">    票贩子D 卖票，ticket = -1错误的数据，因为不同步</span></span><br><span class="line"><span class="comment">    票贩子C 卖票，ticket = -2 错误的数据</span></span><br><span class="line"><span class="comment">    票贩子B 卖票，ticket = 1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>​        本程序模拟了一共卖票程序的实现，其中将有4个线程对象共同完成卖票的任务，为了保证每次有甚于票数时实现卖票操作，在卖票前添加了一个判断的条件（if（this.ticket &gt; 0）），满足此条件的线程对象才可以卖票，不过根据最终的结果却发现，这个判断条件的作用并不明显。</p><h3 id="同步操作"><a href="#同步操作" class="headerlink" title="同步操作"></a>同步操作</h3><p>​        为了解决线程不同步的问题，就必须使用同步操作。所谓同步操作就是一个代码块中的多个操作在同一个时间段内只能有一个线程进行，其他线程要等待此线程完成后才可以继续执行，即<strong>上锁</strong>。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/9645007556b81ae90c7fb7c20aab92ca.png" alt="image-20230216214010847"></p><p>​        在java里面如果想要实现线程的同步，操作可以使用  <span style="color:red;font-size:20px"><strong>synchronized</strong></span> 关键字。synchronized 关键字可以通过以下两种方式进行使用。</p><ul><li><p>同步代码块：利用 synchronized 包装的代码块，但是需要<strong>指定同步对象</strong>，一般设置为 <strong>this</strong>；</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SynchronizedThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// 定义同步代码块</span></span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">                <span class="comment">// 判断是否还有剩余票</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>.ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="comment">// 休眠 1s，模拟延迟</span></span><br><span class="line">                        Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() +</span><br><span class="line">                            <span class="string">&quot; 卖票，ticket = &quot;</span> + <span class="built_in">this</span>.ticket--);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SynchronizedThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SynchronizedThread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SynchronizedThread</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;线程A&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;线程B&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;线程C&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;线程D&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    线程D 卖票，ticket = 5</span></span><br><span class="line"><span class="comment">    线程B 卖票，ticket = 4</span></span><br><span class="line"><span class="comment">    线程B 卖票，ticket = 3</span></span><br><span class="line"><span class="comment">    线程A 卖票，ticket = 2</span></span><br><span class="line"><span class="comment">    线程A 卖票，ticket = 1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>​        本程序将判断是否有票以及卖票的两个操作都统一放到了同步代码块中，这样当某一个线程操作时，其他线程无法进入到方法中进行操作，从而实现了线程的同步操作。</p></li><li><p>同步方法：利用 synchronized 定义的方法。</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SynchronizedMethodThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="built_in">this</span>.sale(); <span class="comment">// 卖票操作</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// synchronized 定义方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sale</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 休眠，模拟延迟</span></span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() +</span><br><span class="line">                    <span class="string">&quot; 卖票，ticket = &quot;</span> + <span class="built_in">this</span>.ticket--);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SynchronizedMethodThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SynchronizedMethodThread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SynchronizedMethodThread</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;线程A&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;线程B&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;线程C&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;线程D&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    线程A 卖票，ticket = 5</span></span><br><span class="line"><span class="comment">    线程A 卖票，ticket = 4</span></span><br><span class="line"><span class="comment">    线程B 卖票，ticket = 3</span></span><br><span class="line"><span class="comment">    线程B 卖票，ticket = 2</span></span><br><span class="line"><span class="comment">    线程D 卖票，ticket = 1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>​        此时利用同步方法同样解决了同步操作的问题。但是在此处需要说明一个问题：<strong>加入同步后明显比不加入同步慢许多</strong>，所以<strong>同步代码性能会很低</strong>，但是数据的安全性会高，或者可以成为<strong>线程安全性高</strong>。</p><blockquote><p><strong>同步和异步有什么区别，在什么情况下分别使用它们？举例说明</strong></p><p>​        如果<strong>一块</strong>数据要在<strong>多个线程间进行共享</strong>。例如：正在写的数据以后可能被另一个线程读到，或者正好在读的数据可能已经被另一个线程写过了，那么这些数据就是<strong><span style="color:red">共享数据</span></strong>，必须<strong><span style="color:red">进行同步存取</span></strong>。当应用程序在对象上调用了一个需要花费很长时间来执行的方法，并且<strong>不希望让程序等待方法的返回</strong>时，就应该使用<strong>异步编程</strong>，在很多情况下采用异步途径往往更有效率。</p><p><strong>abstract 的 method 是否可以同时是 static，是否可以同时是 native，是否可以同时是 synchronized？</strong></p><p>​        method、static、native、synchronized 都<strong><span style="color:red">不能和 “abstract” 同时声明</span></strong>方法</p><p><strong>当一个线程进入一个对象的 synchronized 方法后，其他线程是否可以访问此对象的其他方法？</strong></p><p>​        <strong>不能访问</strong>，一个对象操作一个 synchronized 方法<strong><span style="color:red">只能由一个线程访问</span></strong>。</p></blockquote><h3 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h3><p>​        同步就是指<strong><span style="color:red;font-size:20px">一个线程要等待另外一个线程执行完毕才会继续执行</span></strong>的一个操作形式，虽然在一个程序中，使用同步可以保证资源共享操作的正确性，但是过多同步也会产生问题。<strong>多个线程抢占一个资源，导致线程死锁</strong>。</p><p>​        死锁就是指两个线程都在等待<strong>彼此先完成</strong>，造成程序的停滞状态，一般程序的死锁都是在<strong>程序运行</strong>时出现。</p><blockquote><p><strong>请解释多个线程访问同一资源时需要考虑到那些情况？有可能带来哪些问题？</strong></p><ul><li><p>多个线程访问同一资源时，考虑到数据操作的安全性问题，<strong>一定要使用同步操作</strong>。同步操作由以下两种操作模式：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 同步代码块</span></span><br><span class="line"><span class="keyword">synchronized</span>(锁定对象) &#123;代码&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 同步方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> 返回值 方法名称() &#123;代码&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>过多的同步操作</strong>有可能会带来<strong>死锁</strong>问题，导致程序进入<strong>停滞状态</strong>。</p></li></ul></blockquote><h2 id="生产者与消费者案例"><a href="#生产者与消费者案例" class="headerlink" title="生产者与消费者案例"></a>生产者与消费者案例</h2><p>​        在开发中线程的运行状态并不固定，所以<strong>只能利用线程的名字</strong>以及<strong>当前执行的线程对象</strong>来进行区分。但是<strong>多个线程间</strong>也有可能会出现<strong>数据交互</strong>的情况。</p><h3 id="问题引出"><a href="#问题引出" class="headerlink" title="问题引出"></a>问题引出</h3><p>​        在生产者和消费者模型中，生产者不断生产，消费者不断取走生产者生产的产品。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/58b9cc98a5ad43ef1a4c5eeb9f881e71.png" alt="image-20230216223648707"></p><p>​        从上图中可以看出，生产者生产出信息后将其放到一个区域中，然后消费这从此区域中取出数据，但是在本程序中因为牵涉线程运行的<strong>不确定性</strong>，所以会存在以下两个问题。</p><ol><li>假设生产者线程向数据存储空间添加信息的名称，还没有加入该信息的内容，程序就切换到了消费者线程，消费者线程将把该信息的名称和上一个信息的内容联系到一起。</li><li>生产者放了若干次的数据，消费者才开始取数据，或者是消费者取完一个数据后，还没等到生产者放入新的数据，又重复取出已取过的数据。</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Message.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Message</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String title;       <span class="comment">// 保存信息的标题</span></span><br><span class="line">    <span class="keyword">private</span> String content;     <span class="comment">// 保存信息的内容</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getTitle</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> title;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTitle</span><span class="params">(String title)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.title = title;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getContent</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setContent</span><span class="params">(String content)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.content = content;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Producer.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Producer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;      <span class="comment">// 定义生产者</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Message</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer</span><span class="params">(Message msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 生产 50 次数据</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// 设置 title 属性</span></span><br><span class="line">                <span class="built_in">this</span>.msg.setTitle(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="comment">// 延迟操作</span></span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 设置 content 属性</span></span><br><span class="line">                <span class="built_in">this</span>.msg.setContent(<span class="string">&quot;你好，张三&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 设置 title 属性</span></span><br><span class="line">                <span class="built_in">this</span>.msg.setTitle(<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="comment">// 延迟操作</span></span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 设置 content 属性</span></span><br><span class="line">                <span class="built_in">this</span>.msg.setContent(<span class="string">&quot;hello,zhangsan&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Consumer.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Consumer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;         <span class="comment">// 设置消费者</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Message</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Consumer</span><span class="params">(Message msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 取走 50 次数据</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 延迟操作</span></span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="built_in">this</span>.msg.getTitle() + <span class="string">&quot;---&gt;&quot;</span> + <span class="built_in">this</span>.msg.getContent());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Test测试类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 定义 message 对象，用于保存和取出数据</span></span><br><span class="line">        <span class="type">Message</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Message</span>();</span><br><span class="line">        <span class="comment">// 启动生产者线程</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Producer</span>(msg)).start();</span><br><span class="line">        <span class="comment">// 启动消费者线程</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Consumer</span>(msg)).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    张三---&gt;你好，张三</span></span><br><span class="line"><span class="comment">    张三---&gt;hello,zhangsan</span></span><br><span class="line"><span class="comment">    张三---&gt;你好，张三</span></span><br><span class="line"><span class="comment">    zhangsan---&gt;你好，张三</span></span><br><span class="line"><span class="comment">    zhangsan---&gt;hello,zhangsan</span></span><br><span class="line"><span class="comment">    ...</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>​        通过本程序的运行结果可以发现两个严重的问题：设置数据错位：数据会重复取出和重复设置。</p><h3 id="解决数据错乱问题"><a href="#解决数据错乱问题" class="headerlink" title="解决数据错乱问题"></a>解决数据错乱问题</h3><p>​        数据错位完全是因为<strong><span style="color:red">非同步</span></strong>的操作，所以应该使用<strong>同步处理</strong>。因为取出和设置是<strong>两个不同的操作</strong>，所以要想进行同步控制，就需要将其<strong>定义在一个类里面</strong>完成。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解决数据错乱问题。</span></span><br><span class="line"><span class="comment">// Message.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Message</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String title;       <span class="comment">// 保存信息的标题</span></span><br><span class="line">    <span class="keyword">private</span> String content;     <span class="comment">// 保存信息的内容</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(String title, String content)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.title = title;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">100</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.content = content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">get</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">100</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.title + <span class="string">&quot;--&gt;&quot;</span> + <span class="built_in">this</span>.content);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// getter、setter 省略</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>​        生产者和消费者同理需要修改</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Producer.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Producer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;      <span class="comment">// 定义生产者</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Message</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer</span><span class="params">(Message msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 生产 50 次数据</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="built_in">this</span>.msg.set(<span class="string">&quot;张三&quot;</span>, <span class="string">&quot;你好，张三&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.msg.set(<span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;hello,zhangsan&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Consumer.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Consumer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;         <span class="comment">// 设置消费者</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Message</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Consumer</span><span class="params">(Message msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 取走 50 次数据</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            <span class="built_in">this</span>.msg.get();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​        启动测试类</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">张三--&gt;你好，张三</span><br><span class="line">zhangsan--&gt;hello,zhangsan</span><br><span class="line">zhangsan--&gt;hello,zhangsan</span><br><span class="line">张三--&gt;你好，张三</span><br><span class="line">张三--&gt;你好，张三</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>​        本程序利用同步方法解决了数据的错位问题，但是同时也可以发现，重复取出与重复设置的问题更加严重了。</p><h3 id="解决数据重复问题"><a href="#解决数据重复问题" class="headerlink" title="解决数据重复问题"></a>解决数据重复问题</h3><p>​        要想解决数据洪福的问题，需要<strong><span style="color:red">等待及唤醒</span></strong>机制，而这一机制的实现只能依靠Object类完成，在Object类中定义了 3 个方法完成线程的操作。</p><div class="table-container"><table><thead><tr><th style="text-align:center">方法</th><th style="text-align:center">类型</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">public final void wait() throws InterruptedException</td><td style="text-align:center">普通</td><td style="text-align:center">线程的等待</td></tr><tr><td style="text-align:center">public final void notify()</td><td style="text-align:center">普通</td><td style="text-align:center">唤醒第一个等待线程</td></tr><tr><td style="text-align:center">public final void notifyAll()</td><td style="text-align:center">普通</td><td style="text-align:center">唤醒全部等待线程</td></tr></tbody></table></div><p>​        一个线程可以为其设置<strong>等待状态</strong>，但是对于唤醒的操作却有两个：<strong><span style="color:red;font-size:20px">notify()、notifyAll()</span></strong>。一般来说，所有等待的线程会按照<strong>顺序</strong>进行排列。如果使用了 <strong>notify() 方法</strong>，则会<strong><span style="color:red;font-size:20px">唤醒第一个等待的线程</span></strong>执行；如果使用了 <strong>notifyAll()</strong> 方法，则会<strong><span style="color:red;font-size:20px">唤醒所有的等待线程</span></strong>。哪个线程的<strong><span style="color:red;font-size:20px">优先级高</span></strong>，哪个线程就<strong><span style="color:red;font-size:20px">有可能</span></strong>先执行。</p><p>​        如果想让生产者不重复生产，消费者不重复取走，则可以增加一个标志位，假设标志位为 Boolean 类型变量。如果标志位的内容为 true ，则表示<strong>可以生产</strong>，但是<strong>不能取走</strong>，如果此时线程执行到了，消费者线程则<strong>应该等待</strong>；如果标志位的内容为 false，则表示<strong>可以取走</strong>，但是<strong>不能生产</strong>，如果生产者线程运行，则<strong>应该等待。</strong></p><p>​        要想完成解决数据重复的功能，直接修改 Message 类即可。在 Message 类中加入标志位，并通过判断标志位完成<strong>等待与唤醒</strong>的操作。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Message.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Message</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String title;       <span class="comment">// 保存信息的标题</span></span><br><span class="line">    <span class="keyword">private</span> String content;     <span class="comment">// 保存信息的内容</span></span><br><span class="line">    <span class="comment">// 增加标志位</span></span><br><span class="line">    <span class="comment">// flag == true  : 表示可以生产，但是不可以取走</span></span><br><span class="line">    <span class="comment">// flag == false : 表示可以取走，但是不可以生产</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(String title, String content)</span> &#123;</span><br><span class="line">        <span class="comment">// 已经生产过了，不能继续生产</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.flag == <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 让线程进入等待状态</span></span><br><span class="line">                <span class="built_in">super</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 如果允许生产，继续执行</span></span><br><span class="line">        <span class="built_in">this</span>.title = title;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">100</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.content = content;</span><br><span class="line">        <span class="built_in">this</span>.flag = <span class="literal">false</span>;          <span class="comment">// 生产已经完成，修改标志位</span></span><br><span class="line">        <span class="built_in">super</span>.notify();             <span class="comment">// 唤醒等待线程</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">get</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// 如果未生产，不允许取走</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.flag == <span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 线程等待</span></span><br><span class="line">                <span class="built_in">super</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">100</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.title + <span class="string">&quot;--&gt;&quot;</span> + <span class="built_in">this</span>.content);</span><br><span class="line">        <span class="built_in">this</span>.flag = <span class="literal">true</span>;   <span class="comment">// 已经取走，可以生产</span></span><br><span class="line">        <span class="built_in">super</span>.notify();     <span class="comment">// 唤醒等待线程</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="线程的终止"><a href="#线程的终止" class="headerlink" title="线程的终止"></a>线程的终止</h2><p>​        通过设置标志位的方式停止一个线程的运行</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StopThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 第一层控制是否停止</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">this</span>.flag) &#123;</span><br><span class="line">            <span class="comment">// 循环输出</span></span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;运行，i = &quot;</span> + (i++));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 停止方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 将标志位设置为 false</span></span><br><span class="line">        <span class="built_in">this</span>.flag = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StopThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">StopThread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StopThread</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(thread, <span class="string">&quot;线程A&quot;</span>);</span><br><span class="line">        t.start();</span><br><span class="line">        thread.stop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 多线程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用element输入建议框</title>
      <link href="/post/a0389d4b.html"/>
      <url>/post/a0389d4b.html</url>
      
        <content type="html"><![CDATA[<h1 id="使用element输入建议框"><a href="#使用element输入建议框" class="headerlink" title="使用element输入建议框"></a>使用element输入建议框</h1><h2 id="要注意value一致"><a href="#要注意value一致" class="headerlink" title="要注意value一致"></a>要注意value一致</h2><h2 id="html"><a href="#html" class="headerlink" title="html"></a>html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-autocomplete</span></span></span><br><span class="line"><span class="tag">  <span class="attr">value-key</span>=<span class="string">&quot;value&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">prefix-icon</span>=<span class="string">&quot;el-icon-search&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">&quot;inline-input pd-10 mr-10&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;author&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:debounce</span>=<span class="string">300</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:fetch-suggestions</span>=<span class="string">&quot;querySearch&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">placeholder</span>=<span class="string">&quot;请输入作者&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:trigger-on-focus</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">select</span>=<span class="string">&quot;handleSelect&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">&quot;width: 200px;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">clearable</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-autocomplete</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="js"><a href="#js" class="headerlink" title="js"></a>js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">querySearch</span>(<span class="params">queryString, cb</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> results = []</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">request</span>.<span class="title function_">get</span>(<span class="string">&quot;/author/querySearch&quot;</span>, &#123;</span><br><span class="line">      <span class="attr">params</span>: &#123;</span><br><span class="line">        <span class="attr">authorName</span>: <span class="variable language_">this</span>.<span class="property">author</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="string">&#x27;200&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> r = res.<span class="property">data</span></span><br><span class="line">        results = r</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">cb</span>(results)</span><br><span class="line">        &#125;, <span class="number">1000</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>())</span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">cb</span>(results)</span><br><span class="line">        &#125;, <span class="number">1000</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>())</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">cb</span>(results)</span><br><span class="line">    &#125;, <span class="number">1000</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>())</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">handleSelect</span>(<span class="params">item</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">authorId</span> = item.<span class="property">name</span></span><br><span class="line">    <span class="comment">// console.log(item.name);</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><h2 id="json-关键词-刘"><a href="#json-关键词-刘" class="headerlink" title="json 关键词 刘"></a>json 关键词 刘</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="string">&quot;200&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">278</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[美] 刘易斯·M.霍普费&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">420</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[英] C. S. 刘易斯&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">432</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[英] 刘易斯·卡罗尔&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">584</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘大铭&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">585</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘妍&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">586</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘子超&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">587</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘慈欣&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">588</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘擎&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">589</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘新宇&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">590</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘汝佳&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">591</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘津&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">592</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘润&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">593</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘知远&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">594</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘雪峰&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">595</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘震云&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="number">596</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刘鹏&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> element-ui </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>豆瓣图书api 返回403</title>
      <link href="/post/7a2124a.html"/>
      <url>/post/7a2124a.html</url>
      
        <content type="html"><![CDATA[<h1 id="豆瓣图书api-返回403"><a href="#豆瓣图书api-返回403" class="headerlink" title="豆瓣图书api 返回403"></a>豆瓣图书api 返回403</h1><h2 id="vue工程的index-html文件中加上"><a href="#vue工程的index-html文件中加上" class="headerlink" title="vue工程的index.html文件中加上"></a>vue工程的index.html文件中加上</h2><h3 id="可以去除防盗链"><a href="#可以去除防盗链" class="headerlink" title="可以去除防盗链"></a>可以去除防盗链</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;referrer&quot;</span> <span class="attr">content</span>=<span class="string">&quot;never&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;referrer&quot;</span> <span class="attr">content</span>=<span class="string">&quot;never&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>bookvue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> 防盗链 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教你看懂System.out::println</title>
      <link href="/post/223b52e1.html"/>
      <url>/post/223b52e1.html</url>
      
        <content type="html"><![CDATA[<h1 id="教你看懂System-out-println"><a href="#教你看懂System-out-println" class="headerlink" title="教你看懂System.out::println"></a>教你看懂System.out::println</h1><h1 id="方法引用"><a href="#方法引用" class="headerlink" title="方法引用 ::"></a>方法引用 ::</h1><p>在不经意间， 我们会看到这样的代码</p><pre><code>    // 创建出一个数组    List&lt;String&gt; strList = Arrays.asList(&quot;YangHang&quot;, &quot;AnXiaoHei&quot;, &quot;LiuPengFei&quot;);    strList.forEach(System.out::println);</code></pre><p>第一印象， 哇， 好高大上的写法， 那么这究竟是怎样的一种语法呢。<br>我们一步一步来探究：<br>首先， 我们看一下是<span style="color: #c7254e;background-color: #f9f2f4;border-radius: 2px;">java.lang.Iterable<T></span>下的一个默认方法<span style="color: #c7254e;background-color: #f9f2f4;border-radius: 2px;">forEach</span>调用的， 好家伙， 一看到这个function包下面的被<span style="color: #c7254e;background-color: #f9f2f4;border-radius: 2px;">@FunctionalInterface</span>注解声明的<span style="color: #c7254e;background-color: #f9f2f4;border-radius: 2px;">Consumer<T></span>接口， 瞬间就了然了， 这不又是函数式编程搞的鬼么?<br>现在的问题应该很明朗了， <span style="color: #c7254e;background-color: #f9f2f4;border-radius: 2px;">System.out::println</span>这段代码其实就是<span style="color: #c7254e;background-color: #f9f2f4;border-radius: 2px;">Consumer<T></span>接口的一个实现方式啊。 具体是怎么实现的， 我们再码一段代码。</p><pre><code>@Testpublic void testDemo2() &#123;    List&lt;String&gt; strList = Arrays.asList(&quot;YangHang&quot;, &quot;AnXiaoHei&quot;, &quot;LiuPengFei&quot;);    strList.forEach(x -&gt; &#123;        System.out.println(x);    &#125;);&#125;</code></pre><p>然后， 我们惊喜的发现和上面的代码运行结果是一制的， 我们基本上可以断定， 上面那种写法是下面这种的一种缩写形式。 就是把你遍历出来的每一个对象都用来去调用System.out（也就是PrintStream类的一个实例）的println方法。<br>最后， 大家是不是有一个想法， 想自己写一个<span style="color: #c7254e;background-color: #f9f2f4;border-radius: 2px;">Consumer<T></span>接口的实现类， 让<span style="color: #c7254e;background-color: #f9f2f4;border-radius: 2px;">foreach</span>调用一下。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, Integer age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name + <span class="string">&quot;, &quot;</span> + age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(Student student)</span> &#123;</span><br><span class="line">        System.out.print(student.getName() + <span class="string">&quot;, &quot;</span> + student.getAge() + <span class="string">&quot; \t&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后测试一下</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Case2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        Student[] stus = &#123;</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>,<span class="number">15</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;李四&quot;</span>,<span class="number">16</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;王五&quot;</span>,<span class="number">17</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;赵六&quot;</span>,<span class="number">18</span>),</span><br><span class="line">        &#125;;</span><br><span class="line">        List&lt;Student&gt; list = Arrays.stream(stus).collect(Collectors.toList());</span><br><span class="line"><span class="comment">//        List&lt;Student&gt; list = new ArrayList&lt;&gt;();</span></span><br><span class="line"><span class="comment">//        Collections.addAll(list, stus);   // result |= c.add(element); 位或运算，数据量大时高效。</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;lambda表达式输出：&quot;</span>);</span><br><span class="line">        list.forEach(s -&gt; System.out.print(s + <span class="string">&quot; \t&quot;</span>));</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;方法引用输出：&quot;</span>);</span><br><span class="line"><span class="comment">//        list.forEach(System.out::print);</span></span><br><span class="line">        list.forEach(<span class="keyword">new</span> <span class="title class_">Student</span>()::print);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行一下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lambda表达式输出：</span><br><span class="line">张三, 15 李四, 16 王五, 17 赵六, 18 </span><br><span class="line">方法引用输出：</span><br><span class="line">张三, 15 李四, 16 王五, 17 赵六, 18 </span><br></pre></td></tr></table></figure><p>但是我发现， 如果是静态方法的时候必须得用类名双冒号静态方法， 注意就好。</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> lambda </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux 后台运行 python 脚本</title>
      <link href="/post/bcf4774e.html"/>
      <url>/post/bcf4774e.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-后台运行-python-脚本"><a href="#Linux-后台运行-python-脚本" class="headerlink" title="Linux 后台运行 python 脚本"></a>Linux 后台运行 python 脚本</h1><p>在服务器上，在退出终端后，仍需程序继续运行，需要设置后台运行</p><h2 id="关键命令：nohup"><a href="#关键命令：nohup" class="headerlink" title="关键命令：nohup"></a>关键命令：nohup</h2><h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup python3 -u Sign.py &gt; sign.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><h2 id="含义解释"><a href="#含义解释" class="headerlink" title="含义解释"></a>含义解释</h2><h3 id="nohup：-不挂起-的意思"><a href="#nohup：-不挂起-的意思" class="headerlink" title="nohup： *不挂起* 的意思"></a>nohup： *不挂起* 的意思</h3><div class="table-container"><table><thead><tr><th style="text-align:center">参数</th><th>解释</th></tr></thead><tbody><tr><td style="text-align:center">python3    Sign.py</td><td>运行 python 程序</td></tr><tr><td style="text-align:center">-u</td><td>代表程序不启用缓存，也就是把输出直接放到 log 文件中，没这个参数，log文件的生成会有延迟。</td></tr><tr><td style="text-align:center">> sign.log</td><td>将输出日志保存到这个 log 中</td></tr><tr><td style="text-align:center">2&gt;1</td><td>2与&gt;结合代表错误重定向，而1则代表错误重定向到一个文件1，而不代表标准输出；</td></tr><tr><td style="text-align:center">2&gt;&amp;1</td><td>换成2&gt;&amp;1，&amp;与1结合就代表标准输出了，就变成错误重定向到标准输出.</td></tr><tr><td style="text-align:center">&amp;</td><td>最后一个&amp; ，代表该命令在后台执行</td></tr></tbody></table></div><h2 id="命令运行后会有提示，示例："><a href="#命令运行后会有提示，示例：" class="headerlink" title="*命令运行后会有提示，示例："></a>*命令运行后会有提示，示例：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1] 29812</span><br></pre></td></tr></table></figure><p>代表进程 29812 中运行，在 kill 时　进程 ID　就是　29812</p><h2 id="查看nohub命令下运行的所有后台进程："><a href="#查看nohub命令下运行的所有后台进程：" class="headerlink" title="*查看nohub命令下运行的所有后台进程："></a>*查看nohub命令下运行的所有后台进程：</h2><h2 id="jobs"><a href="#jobs" class="headerlink" title="jobs"></a>jobs</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-2-centos heath-punch]# jobs</span><br><span class="line">[1]+  Running                 nohup python3 -u Sign.py &gt; sign.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><h2 id="查看后台运行的所有python-进程："><a href="#查看后台运行的所有python-进程：" class="headerlink" title="*查看后台运行的所有python 进程："></a>*查看后台运行的所有python 进程：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-2-centos heath-punch]# ps -ef | grep python3</span><br><span class="line">进程拥有者PID  CPU使用率</span><br><span class="line">root      29812 27854  2 16:57 pts/0    00:00:00 python3 -u Sign.py</span><br><span class="line">root      29863 27854  0 16:57 pts/0    00:00:00 grep --color=auto python3</span><br></pre></td></tr></table></figure><h2 id="删除进程"><a href="#删除进程" class="headerlink" title="*删除进程"></a>*删除进程</h2><p>kill -9 [进程id]</p><p>-9 的意思是强制删除</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-2-centos heath-punch]# kill -9 29812</span><br><span class="line">[root@VM-4-2-centos heath-punch]# ps -ef | grep python3</span><br><span class="line">root     30052 27854  0 16:58 pts/0    00:00:00 grep --color=auto python3</span><br><span class="line">[1]+  Killed                  nohup python3 -u Sign.py &gt; sign.log 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p>第二个的意思就是正在删除进程，稍等一会后再次查看进程</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-2-centos heath-punch]# jobs</span><br><span class="line">[root@VM-4-2-centos heath-punch]# ps -ef | grep python3</span><br><span class="line">root     30410 27854  0 17:00 pts/0    00:00:00 grep --color=auto python3</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VM设置网络配置</title>
      <link href="/post/236d2e5a.html"/>
      <url>/post/236d2e5a.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、查看Windows服务中dhcp和NAT-service是否开启"><a href="#一、查看Windows服务中dhcp和NAT-service是否开启" class="headerlink" title="一、查看Windows服务中dhcp和NAT service是否开启"></a>一、查看Windows服务中dhcp和NAT service是否开启</h2><h2 id="二、虚拟机中的网关ip设置为-nat设置中的网关ip：192-168-47-2"><a href="#二、虚拟机中的网关ip设置为-nat设置中的网关ip：192-168-47-2" class="headerlink" title="二、虚拟机中的网关ip设置为 nat设置中的网关ip：192.168.47.2"></a>二、虚拟机中的网关ip设置为 nat设置中的网关ip：192.168.47.2</h2>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VMware </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python 读写 ini 文件</title>
      <link href="/post/fed6a8a.html"/>
      <url>/post/fed6a8a.html</url>
      
        <content type="html"><![CDATA[<h1 id="python-读写-ini-文件"><a href="#python-读写-ini-文件" class="headerlink" title="python 读写 ini 文件"></a>python 读写 ini 文件</h1><p>.ini 文件是<strong>配置文件</strong>，一般存放配置信息</p><p>一个 .ini 文件由多个 section 组成，每个 section 下可以有多个键值对</p><p>结构如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[user] # 这里是 section</span><br><span class="line">username = admin # k = v 的形式保存</span><br><span class="line">password = passwd # 一个 section 下可以允许多个键值对</span><br><span class="line"></span><br><span class="line">[info] # 可以存在多个 section</span><br><span class="line">nickname = test</span><br></pre></td></tr></table></figure><h3 id="导包"><a href="#导包" class="headerlink" title="导包"></a>导包</h3><p>python 下读取 ini 文件需要 configparser 模块</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install configparser</span><br></pre></td></tr></table></figure><h3 id="写入"><a href="#写入" class="headerlink" title="写入"></a>写入</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> configparser</span><br><span class="line"></span><br><span class="line">config = configparser.ConfigParser()  <span class="comment"># 实例化对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据写入</span></span><br><span class="line">config.add_section(<span class="string">&#x27;header&#x27;</span>)  <span class="comment"># 创建名称为 header 的 section</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写入在 header 下，键值对数据</span></span><br><span class="line">config.<span class="built_in">set</span>(<span class="string">&#x27;header&#x27;</span>, <span class="string">&#x27;Referer&#x27;</span>, <span class="string">&#x27;xxxx&#x27;</span>)</span><br><span class="line"><span class="comment"># 文件默认在代码文件的目录下</span></span><br><span class="line">config.write(<span class="built_in">open</span>(<span class="string">&#x27;config.ini&#x27;</span>,<span class="string">&#x27;a&#x27;</span>))</span><br></pre></td></tr></table></figure><p>config.ini</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[header]</span></span><br><span class="line"><span class="attr">referer</span> = xxxx</span><br></pre></td></tr></table></figure><h3 id="读取（展示方法获取的数据为-str-类型，注意数据转换）"><a href="#读取（展示方法获取的数据为-str-类型，注意数据转换）" class="headerlink" title="读取（展示方法获取的数据为 str 类型，注意数据转换）"></a>读取（展示方法获取的数据为 str 类型，注意数据转换）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读取数据</span></span><br><span class="line"><span class="comment"># 首先读取文件</span></span><br><span class="line">config.read(<span class="string">&#x27;config.ini&#x27;</span>)</span><br><span class="line"><span class="comment"># 提取文件信息</span></span><br><span class="line">value = config.get(<span class="string">&#x27;header&#x27;</span>, <span class="string">&#x27;Referer&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(value)<span class="comment"># xxxx</span></span><br><span class="line"><span class="comment"># 注意这里获取的数据类型都是 str，注意数据转换</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(value))<span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 注意：这种获取方式也可以，同样获取的数据类型为 str 类型</span></span><br><span class="line">value = config[<span class="string">&#x27;header&#x27;</span>][<span class="string">&#x27;Referer&#x27;</span>]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>idea运行java web项目</title>
      <link href="/post/352b5fa6.html"/>
      <url>/post/352b5fa6.html</url>
      
        <content type="html"><![CDATA[<h1 id="idea运行java-web项目"><a href="#idea运行java-web项目" class="headerlink" title="idea运行java web项目"></a>idea运行java web项目</h1><ul><li>导入项目，选中项目鼠标右击，选择用 IDEA 打开</li><li>IDEA 打开后，选中项目，按F4进入项目配置<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0b12b3f613cd432e818751f01e99147a.png" alt="在这里插入图片描述"><h2 id="1-在这里可以配置-jdk"><a href="#1-在这里可以配置-jdk" class="headerlink" title="1.在这里可以配置 jdk"></a>1.在这里可以配置 jdk</h2></li><li>配置modules<br>为了让IDEA识别项目，告诉IDEA项目的类型、web.xml的位置，以及根目录</li><li>项目类型：告诉IDEA当前项目类型为 Web</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/71163ad1f63e41baaeaed99d256c2169.png" alt="在这里插入图片描述"></p><ul><li>配置web.xml：选择项目中的web.xml文件的位置（一般在 \WebContent\WEB-INF 路径下）<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2ae99e778bfd48d9995d081cfcc7db9e.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0bf33ca4458b432baa001b19971fa91e.png" alt="在这里插入图片描述"></li><li>设置web资源目录<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/16b2910712da4011a81211be6b7f6499.png" alt="在这里插入图片描述"><br>这里一般设置的是静态的资源，一般指向WebContent目录下就行</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c2de2fece72e410fb720f9716ec7a0ac.png" alt="在这里插入图片描述"></p><ul><li>最下面的是source Roots，是java源码位置，如果默认没选上，自己给选上就好</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/8a91eec5b2ea48c8bb81d5b788c313fc.png" alt="在这里插入图片描述"></p><h2 id="2-配置tomcat"><a href="#2-配置tomcat" class="headerlink" title="2. 配置tomcat"></a>2. 配置tomcat</h2><p>首先在电脑中下载、安装并配置好tomcat<br>向项目中引入tomcat中的jar包<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b8d6a0d5184d45aa8af71e9017b8a6d3.png" alt="在这里插入图片描述"></p><p>选择本地 tomcat 的 lib 目录，一路🆗</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5116968a004d4a988baf6175766d7196.png" alt="在这里插入图片描述"></p><h2 id="配置Artificts"><a href="#配置Artificts" class="headerlink" title="配置Artificts"></a>配置Artificts</h2><p>一路🆗下去</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/0bf4805318644129bff7f53a18cb6b6d.png" alt="在这里插入图片描述"></p><h2 id="最后Apply并ok后，配置tomcat环境"><a href="#最后Apply并ok后，配置tomcat环境" class="headerlink" title="最后Apply并ok后，配置tomcat环境"></a>最后Apply并ok后，配置tomcat环境</h2><p>我这里是已经配好了，所以在这里我就是编辑，第一次配的话这里是添加</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c59200a71650425abe5234961f8824b0.png" alt="在这里插入图片描述"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/417b3a77efd049d3bee42c0a62accb6c.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6f88539b6e254e7cb6543048bf7cc32d.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/190694fdb2374fd99d20182034ad5a2c.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/59bc131e8ffa41b088ffeab68c801a32.png" alt="在这里插入图片描述"></p><p>最后结果为</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ae0c0edaf0894cbfae470e845ffb3f22.png" alt="在这里插入图片描述"></p><h1 id="最后点击Apply和ok保存退出，运行即可"><a href="#最后点击Apply和ok保存退出，运行即可" class="headerlink" title="最后点击Apply和ok保存退出，运行即可"></a>最后点击Apply和ok保存退出，运行即可</h1><h2 id="多说一句，如果遇到tomcat日志在IDEA控制台输出中文乱码的情况"><a href="#多说一句，如果遇到tomcat日志在IDEA控制台输出中文乱码的情况" class="headerlink" title="多说一句，如果遇到tomcat日志在IDEA控制台输出中文乱码的情况"></a>多说一句，如果遇到tomcat日志在IDEA控制台输出中文乱码的情况</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f1b62ffb3cd646809ad8ca139a3f018f.png" alt="在这里插入图片描述"></p><p><strong>在最后加上一句</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Dfile.encoding=UTF-8</span><br></pre></td></tr></table></figure><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/70f6cdb7c24d4d1fa31b78fdd6e67b59.png" alt="在这里插入图片描述"></p><p>保存退出IDEA重启后，查看控制台打印，可正常显示中文</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> idea </tag>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS基础笔记</title>
      <link href="/post/957e08e7.html"/>
      <url>/post/957e08e7.html</url>
      
        <content type="html"><![CDATA[<h1 id="第一课"><a href="#第一课" class="headerlink" title="第一课"></a>第一课</h1><h2 id="引入js"><a href="#引入js" class="headerlink" title="引入js"></a>引入js</h2><ol><li>js代码使用<script>标签括起来</li><li>注释：// 单行注释，/**/多行注释</li><li>js语句后面分号 <strong>可加可不加</strong></li><li>js区分大小写</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// demo.js</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;你好 世界&#x27;</span>);</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;请看控制台&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>初识js<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 内嵌式引入 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 输入方式 1.alert</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="string">&#x27;这是一条js语句&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 输出方式 2.document</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;你好 世界，我是document&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;&lt;h1&gt;你好 世界，我是document&lt;/h1&gt;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 输出方式 3.console 控制台输出</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 外联式引入 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/demo.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="页面加载的顺序需要注意"><a href="#页面加载的顺序需要注意" class="headerlink" title="页面加载的顺序需要注意"></a>页面加载的顺序需要注意</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>js运行顺序<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- js脚本放在这里会报错，因为js的运行顺序式顺序</span></span><br><span class="line"><span class="comment">    需要放在页面元素的后面</span></span><br><span class="line"><span class="comment">    关注html页面代码执行的顺序，自上而下边解释边执行 --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script&gt;</span></span><br><span class="line"><span class="comment">        // 功能实现：向id为div1的元素（盒子）中添加文本内容</span></span><br><span class="line"><span class="comment">        let t = document.getElementById(&#x27;div1&#x27;)</span></span><br><span class="line"><span class="comment">        t.innerHTML = &#x27;&lt;h1&gt;js实现添加内容&lt;/h1&gt;&#x27;</span></span><br><span class="line"><span class="comment">    &lt;/script&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 功能实现：向id为div1的元素（盒子）中添加文本内容</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> t = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    t.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;h1&gt;js实现添加内容&lt;/h1&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="js-基本语法"><a href="#js-基本语法" class="headerlink" title="js 基本语法"></a>js 基本语法</h2><ul><li>变量名称规则：字母、数字、下划线、$,不能以数字开头</li><li>声明（定义）变量：var   let（局部变量） const（变量）<ul><li>let 声明局部变量</li><li>const 声明常量,常量一般大写，常量定义就要赋值，不要分开</li></ul></li><li>js声明变量特点：声明变量时不需要指定数据类型，通过变量值确定改变量的数据类型，<strong>typeof</strong> 函数查看数据类型</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 变量名称规则：字母、数字、下划线、$,不能以数字开头</span></span><br><span class="line"><span class="comment">// 声明（定义）变量：var    let（局部变量） const（变量）</span></span><br><span class="line"><span class="comment">// js声明变量特点：声明变量时不需要指定数据类型，通过变量值确定改变量的数据类型</span></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="number">2</span>, d = <span class="literal">true</span>;</span><br><span class="line">a = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(a));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(b));</span><br><span class="line"></span><br><span class="line"><span class="comment">// let 声明局部变量</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> a1 = <span class="number">10</span></span><br><span class="line">    <span class="keyword">let</span> b1 = <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a1);</span><br><span class="line"><span class="comment">// console.log(b1);    // 这里运行就会报错 b1 is not defined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const 声明常量,常量一般大写</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PI</span> = <span class="number">3.14</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">PI</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// const PI2;  // 缺失初始化</span></span><br><span class="line"><span class="comment">// 常量定义就要赋值，不要分开</span></span><br></pre></td></tr></table></figure><h4 id="小案例"><a href="#小案例" class="headerlink" title="小案例"></a>小案例</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;num1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;num2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;加运算&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;add()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> a = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;num1&#x27;</span>).<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> b = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;num2&#x27;</span>).<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&#x27;两者相加结果为&#x27;</span>+ (<span class="title class_">Number</span>(a)+<span class="title class_">Number</span>(b))) </span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><blockquote><p>js 数组特点：</p><ol><li>数组下标从0开始，数组元素值的类型任意</li><li>数组长度是可变的，不会出现下标越界</li><li>未赋值的数组元素默认值是undefined</li><li>可以更改数组长度：<ul><li>若大于原长度（数组最后多出empty元素）</li><li>若等于数组原长度（数组不变）</li><li>若小于数组原长度（直接截取，删除多出的元素）</li></ul></li></ol></blockquote><h3 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h3><p>​    1、使用Array()</p><p>​    2、创建数组方法2：  使用[]</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建数组方法 1：使用Array</span></span><br><span class="line"><span class="keyword">var</span> arr1 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">3</span>) <span class="comment">// 数组长度为 3</span></span><br><span class="line">arr1[<span class="number">0</span>] = <span class="number">300</span></span><br><span class="line">arr1[<span class="number">1</span>] = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">arr1[<span class="number">2</span>] = <span class="literal">true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);</span><br><span class="line">arr1[<span class="number">3</span>] = <span class="literal">false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);      <span class="comment">// 数组长度为 4</span></span><br><span class="line">arr1[<span class="number">8</span>] = <span class="string">&#x27;world&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);      <span class="comment">// 数组长度为 9，多出部分为 undefined 类型</span></span><br><span class="line">arr1.<span class="property">length</span> = <span class="number">18</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);      <span class="comment">// 数组长度为 18</span></span><br><span class="line">arr1.<span class="property">length</span> = <span class="number">4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);      <span class="comment">// 数组长度为 4 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建数组时，直接赋值</span></span><br><span class="line"><span class="keyword">var</span> arr2 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&#x27;hello&#x27;</span>,<span class="number">300</span>,<span class="literal">true</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建数组方法2：  使用[]</span></span><br><span class="line"><span class="keyword">var</span> stu = [<span class="string">&#x27;Tom&#x27;</span>,<span class="string">&#x27;Jerry&#x27;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu);</span><br></pre></td></tr></table></figure><h3 id="访问数组元素"><a href="#访问数组元素" class="headerlink" title="访问数组元素"></a>访问数组元素</h3><p>访问单个数组元素：数组名称[下标]</p><p>遍历数组元素</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stu = [<span class="string">&#x27;Tom&#x27;</span>,<span class="string">&#x27;Jerry&#x27;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu);</span><br><span class="line"><span class="comment">// 1、访问单个数组元素：数组名称[下标]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu[<span class="number">0</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;-----------------------&#x27;</span>);</span><br><span class="line"><span class="comment">// 2、遍历数组元素</span></span><br><span class="line"><span class="comment">// forin：for(let 下标 in 数组名)</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> stu) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(stu[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;-----------------------&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> stu) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="数组操作方法"><a href="#数组操作方法" class="headerlink" title="数组操作方法"></a>数组操作方法</h3><blockquote><p>push：在数组末尾添加元素（多个），返回值为数组长度</p><p>pop：在数组末尾删除元素（一个），返回值为删除的元素值</p><p>unshift：在数组前添加元素（多个），返回值为数组长度</p><p>shift：在数组前删除元素（一个），返回值为删除的元素值</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);                 <span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"></span><br><span class="line">a.<span class="title function_">push</span>(<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>)               </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);                 <span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">pop</span>());           <span class="comment">// 9</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);                 <span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8]</span></span><br><span class="line">a.<span class="title function_">unshift</span>(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);                 <span class="comment">// [0, 1, 1, 2, 3, 4, 5, 6, 7, 8]</span></span><br><span class="line">a.<span class="title function_">shift</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);                 <span class="comment">// [1, 1, 2, 3, 4, 5, 6, 7, 8]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 连接数组元素</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">join</span>());          <span class="comment">// 1,1,2,3,4,5,6,7,8</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">join</span>(<span class="string">&#x27;-&#x27;</span>));       <span class="comment">// 1-1-2-3-4-5-6-7-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>]</span><br><span class="line">b.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">2</span>)   <span class="comment">// splice(start,length):从start位置开始，删除length个数组元素</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);                 <span class="comment">// [&#x27;a&#x27;, &#x27;d&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>]</span><br><span class="line">c.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="string">&#x27;aaa&#x27;</span>) <span class="comment">// splice(start,length,data):从start位置开始，删除length个数组元素，用data进行替换</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c);                 <span class="comment">// [&#x27;a&#x27;, &#x27;aaa&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br></pre></td></tr></table></figure><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>function    函数名（参数）{}；<strong>记得调用</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、创建无参函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这是一个无参的函数&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun1</span>()      <span class="comment">// 函数声明好后调用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、创建有参函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun2</span>(<span class="params">a,b</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a+b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun2</span>(<span class="number">1</span>,<span class="number">2</span>)   <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 箭头函数</span></span><br><span class="line">fun3 = <span class="function">(<span class="params">a,b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a*b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun3</span>(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3、函数的参数不确定时，使用 arguments内置对象</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun4</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;您输入了&#x27;</span> + <span class="variable language_">arguments</span>.<span class="property">length</span> + <span class="string">&#x27;个参数&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun4</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure><h4 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h4><ol><li>函数表达式：是将函数定义赋值给一个变量</li><li>设置函数表达式之后，函数名称就没有用了，调用函数需要用【变量(参数)】进行调用</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">function</span> <span class="title function_">fun1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这是一个无参函数&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用函数</span></span><br><span class="line"><span class="title function_">f</span>()</span><br></pre></td></tr></table></figure><p>通过上面的例子，函数表达式中的函数名称无用，可以直接将函数名称删除，代码如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">var</span> f1 = <span class="keyword">function</span> (<span class="params"></span>) &#123;<span class="comment">// 匿名函数</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这是一个无参函数&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用匿名函数</span></span><br><span class="line"><span class="title function_">f1</span>()</span><br></pre></td></tr></table></figure><h1 id="第二课"><a href="#第二课" class="headerlink" title="第二课"></a>第二课</h1><h2 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h2><p>全局变量、局部变量、块级变量（let）</p><p>js 特有应用：函数内，未使用var定义的变量，是全局变量</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">f1 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// js 特有应用：函数内，未使用var定义的变量，是全局变量</span></span><br><span class="line">    a = <span class="number">10</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;函数内&#x27;</span> + a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f1</span>()                               <span class="comment">// 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;函数外&#x27;</span> + a);         </span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">f2 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a1 = b1 = c1 = <span class="number">100</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    等价于 </span></span><br><span class="line"><span class="comment">        var a1 = 100</span></span><br><span class="line"><span class="comment">        b1 = 100</span></span><br><span class="line"><span class="comment">        c1 = 100</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a1);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b1);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(c1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f2</span>()</span><br><span class="line"><span class="comment">// console.log(a1);         报错，因为是a1是局部</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b1);           <span class="comment">// 正确，b1是全局变量</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c1);           <span class="comment">// 正确，c1是全局变量</span></span><br></pre></td></tr></table></figure><h2 id="内置对象"><a href="#内置对象" class="headerlink" title="内置对象"></a>内置对象</h2><h3 id="string对象"><a href="#string对象" class="headerlink" title="string对象"></a>string对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="comment">// 1 下标能取到，3 取不到，取到 3 之前的前一位</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">substring</span>(<span class="number">1</span>,<span class="number">3</span>));        <span class="comment">// el</span></span><br><span class="line"><span class="comment">// 这里 3 是长度   </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">substr</span>(<span class="number">1</span>,<span class="number">3</span>));           <span class="comment">// ell</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">       输入字符串：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;old&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">       转换后的字符串：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;new&quot;</span> <span class="attr">readonly</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;转为大写字母&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;toupper()&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;转为小写字母&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;tolower()&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">var</span> old = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;old&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">var</span> new1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;new&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">       toupper = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="variable language_">console</span>.<span class="title function_">log</span>(old.<span class="property">value</span>.<span class="title function_">toUpperCase</span>());</span></span><br><span class="line"><span class="language-javascript">           new1.<span class="property">value</span> = old.<span class="property">value</span>.<span class="title function_">toUpperCase</span>()</span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">       tolower = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="variable language_">console</span>.<span class="title function_">log</span>(old.<span class="property">value</span>.<span class="title function_">toUpperCase</span>());</span></span><br><span class="line"><span class="language-javascript">           new1.<span class="property">value</span> = old.<span class="property">value</span>.<span class="title function_">toLowerCase</span>()</span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="math对象"><a href="#math对象" class="headerlink" title="math对象"></a>math对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>());                     <span class="comment">// 生成 [0,1) 之间的实数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">10</span> + <span class="number">1</span>)); <span class="comment">// 随机获取 1~10 之间的整数，floor：向下取整</span></span><br></pre></td></tr></table></figure><h3 id="Date对象"><a href="#Date对象" class="headerlink" title="Date对象"></a>Date对象</h3><p>获取当前时间，并格式化</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取当前日期</span></span><br><span class="line"><span class="keyword">var</span> d1 = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d1);                                <span class="comment">// Mon May 30 2022 14:53:29 GMT+0800 (中国标准时间)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d2 = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">2022</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">00</span>,<span class="number">00</span>,<span class="number">00</span>)            <span class="comment">// 这里 月份 是 从 0 开始</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d2);                                <span class="comment">// 这里显示的将是 7 月 1 日</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d3 = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;2022-06-01 00:00:00&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d3);                                <span class="comment">// Wed Jun 01 2022 00:00:00 GMT+0800 (中国标准时间)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Date对象的常用方法</span></span><br><span class="line"><span class="keyword">var</span> year = d1.<span class="title function_">getFullYear</span>()</span><br><span class="line"><span class="keyword">var</span> month = d1.<span class="title function_">getMonth</span>()</span><br><span class="line"><span class="keyword">var</span> day = d1.<span class="title function_">getDate</span>()</span><br><span class="line"><span class="keyword">var</span> hour = d1.<span class="title function_">getHours</span>()</span><br><span class="line"><span class="keyword">var</span> min = d1.<span class="title function_">getMinutes</span>()</span><br><span class="line"><span class="keyword">var</span> second = d1.<span class="title function_">getSeconds</span>()</span><br><span class="line"><span class="comment">// 现在时间是：2022-5-30 15:7:24</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;现在时间是：&#x27;</span> + year + <span class="string">&#x27;-&#x27;</span> + (month+<span class="number">1</span>) + <span class="string">&#x27;-&#x27;</span> + day + <span class="string">&#x27; &#x27;</span> + hour + <span class="string">&#x27;:&#x27;</span> + min + <span class="string">&#x27;:&#x27;</span> +  second);</span><br><span class="line"><span class="comment">// 分钟和秒进行补零</span></span><br><span class="line">min = min &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span>+min : min</span><br><span class="line">second = second &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span>+second : second</span><br><span class="line"><span class="comment">// 现在时间是：2022-5-30 15:07:24</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;现在时间是：&#x27;</span> + year + <span class="string">&#x27;-&#x27;</span> + (month+<span class="number">1</span>) + <span class="string">&#x27;-&#x27;</span> + day + <span class="string">&#x27; &#x27;</span> + hour + <span class="string">&#x27;:&#x27;</span> + min + <span class="string">&#x27;:&#x27;</span> +  second);</span><br></pre></td></tr></table></figure><h4 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h4><p><strong>setInterval</strong>(() =&gt; {</p><p>​    }, interval);</p><p>interval：定时的时间，单位 <strong>毫秒</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">getTime = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> d1 = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> hour = d1.<span class="title function_">getHours</span>()</span><br><span class="line">    <span class="keyword">var</span> min = d1.<span class="title function_">getMinutes</span>()</span><br><span class="line">    <span class="keyword">var</span> second = d1.<span class="title function_">getSeconds</span>()</span><br><span class="line"></span><br><span class="line">    min = min &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + min : min</span><br><span class="line">    second = second &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + second : second</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(hour + <span class="string">&#x27;:&#x27;</span> + min + <span class="string">&#x27;:&#x27;</span> + second);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">getTime</span>()</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> a = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        getTime = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> d1 = <span class="keyword">new</span> <span class="title class_">Date</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> hour = d1.<span class="title function_">getHours</span>()</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> min = d1.<span class="title function_">getMinutes</span>()</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> second = d1.<span class="title function_">getSeconds</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            min = min &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + min : min</span></span><br><span class="line"><span class="language-javascript">            second = second &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + second : second</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// document.write(&#x27;&lt;h1&gt;&#x27; + hour + &#x27;:&#x27; + min + &#x27;:&#x27; + second + &#x27;&lt;/h1&gt;&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">            a.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;h1&gt;&#x27;</span> + hour + <span class="string">&#x27;:&#x27;</span> + min + <span class="string">&#x27;:&#x27;</span> + second + <span class="string">&#x27;&lt;/h1&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">getTime</span>()</span></span><br><span class="line"><span class="language-javascript">        &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="第三课"><a href="#第三课" class="headerlink" title="第三课"></a>第三课</h1><h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><p>浏览器对象模型</p><p>window对象是 <strong>顶层对象</strong>，其它对象都是window对象的  <strong>子对象</strong></p><h3 id="window-对象"><a href="#window-对象" class="headerlink" title="window 对象"></a>window 对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;你好 世界&#x27;</span>)</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="string">&#x27;window对象的alert&#x27;</span>)   <span class="comment">// window对象可以省略，与上一条语句功能一致</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">a</span>);  <span class="comment">// 输出：undefined，表示a存在，但是未赋值</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">console</span>.<span class="title function_">log</span>(a)   <span class="comment">// 报错，a is not defined</span></span><br></pre></td></tr></table></figure><h3 id="window-对象打开对话框"><a href="#window-对象打开对话框" class="headerlink" title="window 对象打开对话框"></a>window 对象打开对话框</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、警示框</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="string">&#x27;这是一个警示框&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、选择确认对话框：confirm(提示字符串)，返回值为Boolean</span></span><br><span class="line"><span class="keyword">var</span> choice = <span class="variable language_">window</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;这是一个确认对话框吗？&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(choice);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3、输入对话框：prompt(提示字符串，默认值)，返回值为 用户输入的字符串</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="variable language_">window</span>.<span class="title function_">prompt</span>(<span class="string">&#x27;姓名&#x27;</span>,<span class="string">&#x27;cx&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name);</span><br></pre></td></tr></table></figure><h3 id="window-对象操作窗口"><a href="#window-对象操作窗口" class="headerlink" title="window 对象操作窗口"></a>window 对象操作窗口</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;打开窗口&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;openwindow()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;打开空白窗口&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;openwindow2()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;关闭空白窗口&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;closewindow()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;移动空白窗口&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;movewindow()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">openwindow</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// open(url,窗口名称string,窗口特征值string)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;http://www.baidu.com&#x27;</span>,<span class="string">&#x27;mywin&#x27;</span>,<span class="string">&#x27;width=400,height=400,left=100,top=50&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> mywin</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">openwindow2</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// open(url,窗口名称string,窗口特征值string)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// var mywin        在关闭的时候是局部变量，所以定义的时候在全局定义</span></span></span><br><span class="line"><span class="language-javascript">            mywin = <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;mywin&#x27;</span>,<span class="string">&#x27;width=400,height=400,left=100,top=50&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            mywin.<span class="property">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;&lt;p&gt;输出&lt;/p&gt;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">getPosition</span>()</span></span><br><span class="line"><span class="language-javascript">            mywin.<span class="property">document</span>.<span class="property">title</span> = <span class="string">&#x27;这是新窗口&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        closewindow = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            mywin.<span class="title function_">close</span>()</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        movewindow = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 每次移动一段距离，这里是距离</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// mywin.moveBy(100,100)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 移动到指定的位置</span></span></span><br><span class="line"><span class="language-javascript">            mywin.<span class="title function_">moveTo</span>(<span class="number">400</span>,<span class="number">100</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">getPosition</span>()</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 获取窗口当前坐标</span></span></span><br><span class="line"><span class="language-javascript">        getPosition = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> x = mywin.<span class="property">screenX</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> y = mywin.<span class="property">screenY</span></span></span><br><span class="line"><span class="language-javascript">            mywin.<span class="property">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;&lt;p&gt;窗口坐标为&#x27;</span> + x + <span class="string">&#x27; 纵坐标为 &#x27;</span> + y + <span class="string">&#x27;&lt;/p&gt;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><p>文档对象模型</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS基础笔记</title>
      <link href="/post/8074a0ef.html"/>
      <url>/post/8074a0ef.html</url>
      
        <content type="html"><![CDATA[<h1 id="第一课"><a href="#第一课" class="headerlink" title="第一课"></a>第一课</h1><p>CSS（层叠式样式表）；样式规则由  <strong>选择器</strong>、 <strong>属性</strong> 以及 <strong>属性值</strong> 组成</p><p><strong>内联</strong>样式表、<strong>内嵌</strong>样式表、<strong>外部</strong>样式表</p><h2 id="内联样式表"><a href="#内联样式表" class="headerlink" title="内联样式表"></a>内联样式表</h2><p>写在标签里 用 <strong>style</strong> 属性进行表示，优先级比 <strong>内嵌</strong> 和 <strong>外部</strong> 高</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;color: blue; text-align: center;&quot;</span>&gt;</span>内联样式，h1我是蓝色<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="内嵌样式表"><a href="#内嵌样式表" class="headerlink" title="内嵌样式表"></a>内嵌样式表</h2><p>写在 <strong>head</strong> 标签内，使用 <strong>style</strong> 标签包含，优先级比 <strong>外部</strong> 高</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>CSS文本属性<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* 选择器&#123;样式&#125; */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.red</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.blue</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: blue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.yellow</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.green</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">span</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">&quot;background-image: url(../HTML/材料/img/bj.gif);&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是红色<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是绿色，字体大小是 30 px<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;color: blue; text-align: center;&quot;</span>&gt;</span>内联样式，h1我是蓝色<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;blue&quot;</span>&gt;</span>G<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span>o<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;yellow&quot;</span>&gt;</span>o<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;blue&quot;</span>&gt;</span>g<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;green&quot;</span>&gt;</span>l<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span>e<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="外联样式表"><a href="#外联样式表" class="headerlink" title="外联样式表"></a>外联样式表</h2><p>在 <strong>head</strong> 标签内，使用 <strong>link</strong> 标签外链外部文件 <strong>.css</strong>，优先级较低</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>外联样式表<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/01-02-外联样式表.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>你好，世界<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* css文件里面只有样式没有标签 */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../../HTML/材料/img/bj.gif</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: pink;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="第二课"><a href="#第二课" class="headerlink" title="第二课"></a>第二课</h1><p><strong>!importtant</strong> 用于定义优先级最高</p><p>important <strong>后面</strong> 才加 <strong>分号</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: brown <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;color: blue;&quot;</span>&gt;</span>你好 世界<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;color: blue;&quot;</span>&gt;</span>你好 蓝色<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="标签选择器"><a href="#标签选择器" class="headerlink" title="标签选择器"></a>标签选择器</h2><p>就是标签名的选择器，对HTML标签指定样式规则。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>; green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ID选择器"><a href="#ID选择器" class="headerlink" title="ID选择器"></a>ID选择器</h2><p>id 的值必须<strong>唯一</strong>，id 是标签内的一个 <strong>属性</strong></p><p>格式：#id名 {}</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#id1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#id2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: blue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#id3</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: black;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#id4</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>id选择器的使用<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;id1&quot;</span>&gt;</span>id选择器<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;id2&quot;</span>&gt;</span>id选择器<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;id3&quot;</span>&gt;</span>id选择器<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;id4&quot;</span>&gt;</span>id选择器<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="类选择器"><a href="#类选择器" class="headerlink" title="类选择器"></a>类选择器</h2><p>可以为标有特定class值的HTML元素指定样式规则。</p><p>css语法：<strong>.</strong> 类选择器名{}</p><p>标签语法：&lt;标签名 <strong>class=</strong>“类选择器名”&gt;</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.class1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.class2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: right;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>类选择器<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;class1&quot;</span>&gt;</span>这是class1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;class2&quot;</span>&gt;</span>这是class2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="全局选择器"><a href="#全局选择器" class="headerlink" title="全局选择器"></a>全局选择器</h2><p>可以为页面所有的HTML页面的所有元素指定样式</p><p>语法：*{}</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">这里两个清零很重要，因为有的标签有默认的 <span class="attribute">margin</span> 和 <span class="attribute">padding</span></span><br><span class="line">所以写页面的时候，通配符双清零很重要！！！！</span><br></pre></td></tr></table></figure><h2 id="群组选择器"><a href="#群组选择器" class="headerlink" title="群组选择器"></a>群组选择器</h2><p>语法：选择器名1 <strong>，</strong> 选择器名2 <strong>，</strong> 选择器名3 <strong>，</strong>…</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>,<span class="selector-tag">div</span>,<span class="selector-class">.class1</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>群组选择器<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;xuanzeqi1&quot;</span>&gt;</span>这是id选择器<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>这是div标签选择器<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;class1&quot;</span>&gt;</span>这是类选择器<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="后代选择器"><a href="#后代选择器" class="headerlink" title="后代选择器"></a>后代选择器</h2><p>父子关系的标签</p><p>语句：父选择器名 <strong>空格</strong> 子选择器名 {}</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#id1</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class1</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>后代选择器<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>后代选择器<span class="tag">&lt;/<span class="name">span</span>&gt;</span>的应用<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;id1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>后代选择器<span class="tag">&lt;/<span class="name">span</span>&gt;</span>的应用<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;class1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>后代选择器<span class="tag">&lt;/<span class="name">span</span>&gt;</span>的应用<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="伪类选择器"><a href="#伪类选择器" class="headerlink" title="伪类选择器"></a>伪类选择器</h2><p>用于添加选择器的一些特殊效果，例如HTML元素在不同状态下使用不同的样式。</p><p>使用最多的是 <strong>连接的伪类选择器</strong></p><blockquote><p>link：未访问连接</p><p>visited：已访问链接</p><p>hover：鼠标悬停</p><p>active：鼠标按下不松的时候</p></blockquote><p><strong>注意</strong> 一定要按照顺序link，visited，hover，active的顺序来写</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* text-decoration属性清除默认的下划线 */</span></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>这是测试<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="属性选择器"><a href="#属性选择器" class="headerlink" title="属性选择器"></a>属性选择器</h2><p>定于属性选择器的语法格式：选择器名[属性名]{}</p><p>子串匹配属性选择器</p><blockquote><p>[ab^=”def”]  选择ab属性以def开头的</p></blockquote><h2 id="字体属性"><a href="#字体属性" class="headerlink" title="字体属性"></a>字体属性</h2><blockquote><p>font：简写属性；font-style font-weight font-size font-family;</p><p><strong>斜不斜 粗不粗 大不大/高不高 什么样</strong></p><p>font-size：字体大小</p><p>font-weight：字体粗细</p><p>font-family：字体</p><p>font-style：字形，italic 斜体</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 符合属性：简写的方式 */</span></span><br><span class="line"><span class="comment">/* font: font-style font-weight font-size font-family; */</span></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>:<span class="string">&#x27;Segoe UI&#x27;</span>, Tahoma, Geneva, Verdana, sans-serif;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">font-style</span>: italic;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="文本属性"><a href="#文本属性" class="headerlink" title="文本属性"></a>文本属性</h2><blockquote><p>color：文本言责</p><p>line-height：行高</p><p>letter-spacing：字符间距</p><p>text-indent：缩进</p><p>text-decoration：字体的初始化，none就是空，即清除字体样式</p><p>text-align；文本对齐的方式</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: brown;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>text-shadow</strong> 阴影：水平偏移    垂直偏移    模糊半径    颜色值</p><p>水平和垂直正值的是右下，负值是左上</p><p>模糊半径不可为负，越小阴影越明显</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">font</span>: italic <span class="number">700</span> <span class="number">60px</span>/<span class="number">80px</span> <span class="string">&quot;宋体&quot;</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">235</span>, <span class="number">16</span>, <span class="number">16</span>, <span class="number">0.856</span>);</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">1px</span> green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="word-wrap-自动换行"><a href="#word-wrap-自动换行" class="headerlink" title="word-wrap 自动换行"></a>word-wrap 自动换行</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.huanhang</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="comment">/* 多余字进行换行 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="font-face-导入自己的字体"><a href="#font-face-导入自己的字体" class="headerlink" title="font-face 导入自己的字体"></a>font-face 导入自己的字体</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&quot;guaiti&quot;</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">./css/怪体2.ttf</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&quot;guaiti&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">5px</span> <span class="number">5px</span> <span class="number">10px</span> gray;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">192</span>, <span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.author</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">231</span>, <span class="number">149</span>, <span class="number">163</span>);</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">5px</span> <span class="number">5px</span> <span class="number">10px</span> gray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="背景属性-background"><a href="#背景属性-background" class="headerlink" title="背景属性 background"></a>背景属性 background</h2><blockquote><p>background-color：背景颜色</p><p>background-image：背景图片</p><p>background-repeat：背景重复，指定只显示一次背景图像：no-repeat</p><p>background-position: right top;    用于指定背景图像的位置</p><p>background-origin：设置图片的相对位置，<strong>前提</strong>是得有padding，值有content-box：相对于内容，padding-box：相对于外盒</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>: bisque;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.fistword</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>: <span class="number">300%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">./css/hs.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">100vw</span> <span class="number">100vh</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.warp</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">./css/yks.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: left;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">background-origin</span>: padding-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="第三课"><a href="#第三课" class="headerlink" title="第三课"></a>第三课</h1><h2 id="列表属性"><a href="#列表属性" class="headerlink" title="列表属性"></a>列表属性</h2><blockquote><p>list-style：简写属性。主要用 <strong>none</strong></p><p>list-style-image：图像设置列表项标志（即用图片替换 <strong>·</strong>）</p><p>list-style-position：设置列表中列表项标志的位置</p><p>list-style-type：设置列表项标志的类型，</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 主要用于消除列表的默认样式 */</span></span><br><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 用列表做导航栏 */</span></span><br><span class="line">        <span class="selector-tag">ul</span> &#123;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">300px</span>;  </span><br><span class="line">            <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">            <span class="attribute">list-style</span>: none;</span><br><span class="line">            <span class="attribute">text-align</span>: center;</span><br><span class="line">            <span class="comment">/* margin: 0; */</span></span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">            <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">            <span class="attribute">display</span>: list-item;</span><br><span class="line">            <span class="attribute">color</span>: white;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h2 id="表格属性"><a href="#表格属性" class="headerlink" title="表格属性"></a>表格属性</h2><blockquote><p>border-collapse：设置是否把表格边框合并为单一的边框，值为 collapse</p><p>caption-side：设置表格标题的位置</p><p>vertical-align：设置文本垂直对齐方式</p><p>text-align：设置文本水平对齐方式</p><p>border-spacing：属性和 <strong>cellspacing</strong> 类似</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class1</span> &#123;</span><br><span class="line">          <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">          <span class="attribute">text-align</span>: center;</span><br><span class="line">          <span class="comment">/* 把表格边框合并为单一的边框 */</span></span><br><span class="line">          <span class="attribute">border-collapse</span>: collapse;</span><br><span class="line">          <span class="comment">/* 表格居中的css实现 */</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.class1</span> <span class="selector-tag">tr</span> <span class="selector-tag">td</span> &#123;</span><br><span class="line">          <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.class2</span> &#123;</span><br><span class="line">          <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">          <span class="attribute">border-spacing</span>: <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.class2</span> <span class="selector-tag">tr</span> <span class="selector-tag">td</span> &#123;</span><br><span class="line">          <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.class3</span> &#123;</span><br><span class="line">          <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">          <span class="attribute">border-spacing</span>: <span class="number">30px</span>;</span><br><span class="line">          <span class="attribute">float</span>: right;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.class3</span> <span class="selector-tag">tr</span> <span class="selector-tag">td</span> &#123;</span><br><span class="line">          <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;class1&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">td</span>&gt;</span>item<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">td</span>&gt;</span>item<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">td</span>&gt;</span>item<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">td</span>&gt;</span>item<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;class2&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">td</span>&gt;</span>item<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">td</span>&gt;</span>item<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">td</span>&gt;</span>item<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">td</span>&gt;</span>item<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;class3&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">td</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">td</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/e678eed1e13b8cbed0a56175c47fda00.png" alt="在这里插入图片描述"></p><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>表格、列表课堂任务<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">table</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: auto auto;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* border: 1px solid black; */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">vertical-align</span>: middle;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.top</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">350px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.bottom</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">170px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.top</span> <span class="selector-class">.font</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">80px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.bottom</span> <span class="selector-tag">td</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">100</span>,<span class="number">149</span>,<span class="number">237</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;  </span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* margin: 0; */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: list-item;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">cellspacing</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;top&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">&quot;width: 200px;background-color: rgb(60,114,106);&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>手机电话卡<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>电视盒子<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>笔记本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>智能家电<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>健康家居<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>出行儿童<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>路由器手机配件<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>移动电源 插线板<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>耳机 音箱<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>生活 米兔<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;3&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color: rgb(100,149,237);&quot;</span> <span class="attr">class</span>=<span class="string">&quot;font&quot;</span>&gt;</span>900×350<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">&quot;width: 200px;background-color: pink;&quot;</span>&gt;</span>200×170<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">&quot;background-color: yellow;&quot;</span>&gt;</span>316×170<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">&quot;background-color: rgb(16,142,37);&quot;</span>&gt;</span>316×170<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">&quot;background-color: rgb(137,68,206);&quot;</span>&gt;</span>316×170<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="盒子模型"><a href="#盒子模型" class="headerlink" title="盒子模型"></a>盒子模型</h2><p><strong>内容</strong>、<strong>内边距</strong>、<strong>边框</strong>和<strong>外边框</strong></p><blockquote><p>width 和 height 只改变内容的大小</p><p>margin：外边框</p><p>padding：内边距</p><p>border：边框</p></blockquote><h2 id="边框-border"><a href="#边框-border" class="headerlink" title="边框 border"></a>边框 border</h2><blockquote><p>宽度：border-width；顺序是 <strong>上    右    下    左</strong> 、<strong>上下    左右</strong> 、<strong>上下    左右</strong>、<strong>上    左右    下</strong></p><p>样式：border-style；solid    实线</p><p>颜色：border-color；</p><p>阴影：box-shadow：水平    垂直    阴影半径    阴影颜色，水平和垂直正值为右下；阴影半径必须为正值，数值越小越清晰；</p><p>例如 border：1px solid black；</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">border-style</span>: solid;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ffc</span>;</span><br><span class="line">    <span class="comment">/* border-top-width: 2px;</span></span><br><span class="line"><span class="comment">    border-right-width: 3px;</span></span><br><span class="line"><span class="comment">    border-bottom-width: 4px;</span></span><br><span class="line"><span class="comment">    border-left-width: 5px; */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 顺序是上右下左 */</span></span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">2px</span> <span class="number">3px</span> <span class="number">4px</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="comment">/* 顺序是 上 左右 下 */</span></span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">2px</span> <span class="number">5px</span> <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="边框圆角-border-radius"><a href="#边框圆角-border-radius" class="headerlink" title="边框圆角 border-radius"></a>边框圆角 border-radius</h2><ul><li><p>border-radius 属性指定圆角的半径</p></li><li><p>若只提供一个值，将全部应用到 4 个角</p></li><li><p>顺序按照 左上、右上、右下、坐下（顺时针）</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border: 5px solid black;</span></span></span><br><span class="line"><span class="string"><span class="tag">            border-radius: 50px;&quot;</span>&gt;</span></span><br><span class="line">    边框圆角</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">如果是圆形的话</span><br><span class="line">长宽相等的正方形</span><br><span class="line">border-radius为长宽的一半</span><br></pre></td></tr></table></figure><p>阴影：box-shadow：水平    垂直    阴影半径    阴影颜色，水平和垂直正值为右下；阴影半径必须为正值，数值越小越清晰；</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.top</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">5px</span> solid blue;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">36</span>, <span class="number">36</span>, <span class="number">170</span>);</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bottom</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: brown;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">5px</span> green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;top&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 100%;width: 800px;margin: 0 auto; border: 3px dotted burlywood;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/单元2-6_西安事变.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>张学良<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>杨虎城<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>蒋介石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/b2173ef032fc0f2619777f638a1d4c78.png" alt="在这里插入图片描述"></p><h1 id="第四课"><a href="#第四课" class="headerlink" title="第四课"></a>第四课</h1><h2 id="padding-内边距"><a href="#padding-内边距" class="headerlink" title="padding 内边距"></a>padding 内边距</h2><blockquote><p>padding：内边距的距离值</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">128px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">128px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ffc</span>;</span><br><span class="line">    <span class="attribute">border-style</span>: solid;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin: 0 auto;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/淘宝.JPG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;淘宝logo&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 128px;height: 128px;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="外边距中-inline即行内元素的注意事项"><a href="#外边距中-inline即行内元素的注意事项" class="headerlink" title="外边距中 inline即行内元素的注意事项"></a>外边距中 inline即行内元素的注意事项</h2><p>两个水平行内元素之间的外边距 margin-right    margin-left 为两个水平行内元素的距离之和</p><p>两个垂直行内元素之间的外边距 margin-top    margin-bottom 为两个垂直行内元素的距离的最大值的那个</p><h2 id="内边距与外边距-案例"><a href="#内边距与外边距-案例" class="headerlink" title="内边距与外边距 案例"></a>内边距与外边距 案例</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.context</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">32px</span>;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 400px; margin: 0 auto;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/单元2-6_澳门回归.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;澳门回归&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;context&quot;</span>&gt;</span></span><br><span class="line">        澳门名称：</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;context&quot;</span>&gt;</span></span><br><span class="line">        澳门简历：</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;context&quot;</span>&gt;</span></span><br><span class="line">        日期由来：</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;context&quot;</span>&gt;</span></span><br><span class="line">        纪念活动：</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/691de7f9997a0116f9d40a6d76350536.png" alt="在这里插入图片描述"></p><h2 id="溢出-overflow"><a href="#溢出-overflow" class="headerlink" title="溢出 overflow"></a>溢出 overflow</h2><blockquote><p>hidden：隐藏溢出</p><p>scroll：溢出部分用滚动条显示</p><p>visible：默认，直接溢出</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">          <span class="attribute">width</span>: <span class="number">200px</span>; </span><br><span class="line">          <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">          <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span>&gt;</span>玩的好的后啊维护的基本挖掘哇哦的比较拗口我本地接口带u我表弟把我i第九位那就按可能大家那我叫你 啊啊伟大伟大无法无法无法哇大碗大碗大碗的<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;overflow: hidden;&quot;</span>&gt;</span>玩的好的后啊维护的基本挖掘哇哦的比较拗口我本地接口带u我表弟把我i第九位那就按可能大家那我叫你 啊啊伟大伟大无法无法无法哇大碗大碗大碗的<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;overflow: scroll;&quot;</span>&gt;</span>玩的好的后啊维护的基本挖掘哇哦的比较拗口我本地接口带u我表弟把我i第九位那就按可能大家那我叫你 啊啊伟大伟大无法无法无法哇大碗大碗大碗的<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;&quot;</span>&gt;</span>玩的好的后啊维护的基本挖掘哇哦的比较拗口我本地接口带u我表弟把我i第九位那就按可能大家那我叫你 啊啊伟大伟大无法无法无法哇大碗大碗大碗的<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="浮动-float"><a href="#浮动-float" class="headerlink" title="浮动 float"></a>浮动 float</h2><blockquote><p>left：靠左浮动</p><p>right：靠右浮动</p><p>none：不浮动</p></blockquote><p>浮动元素需要 父级设置一个宽度，子元素脱离文档流后不得超过父级的宽度，即 <strong><u>子浮动宽度小于父级宽度</u></strong></p><p>浮动元素属性设置后，就算是 inline 即行内元素也会变成 block 即块级元素</p><h3 id="float-受父类影响！！！"><a href="#float-受父类影响！！！" class="headerlink" title="float 受父类影响！！！"></a>float 受父类影响！！！</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>; </span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 900px;border: 1px solid red;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>玩的好的...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;overflow: hidden;&quot;</span>&gt;</span>玩的好.../div&gt;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;overflow: scroll;&quot;</span>&gt;</span>玩的好的...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;&quot;</span>&gt;</span>玩的好...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/832258fa5c9fbcd9d9415b590f8362b7.png" alt="在这里插入图片描述"></p><h4 id="ul-中-li-变成横向，需要对-li-进行-float：left"><a href="#ul-中-li-变成横向，需要对-li-进行-float：left" class="headerlink" title="ul 中 li 变成横向，需要对 li 进行 float：left"></a>ul 中 li 变成横向，需要对 li 进行 float：left</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="第五课"><a href="#第五课" class="headerlink" title="第五课"></a>第五课</h1><h2 id="相对定位-position：relative"><a href="#相对定位-position：relative" class="headerlink" title="相对定位 position：relative"></a>相对定位 position：relative</h2><p>position：relative</p><p>是相对于 <strong>父级元素</strong> 的调动</p><p>使用相对定位的盒子对 父级 和 兄弟 并无影响</p><blockquote><p>left：30px</p><p>right：30px</p><p>top：30px</p><p>bottom：30px</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#id1</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#id2</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;id1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;id2&quot;</span>&gt;</span>Box<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/f0d970e7de3d648c0cf61bb110d05a6d.png" alt="在这里插入图片描述"></p><h2 id="绝对定位-position：absolute"><a href="#绝对定位-position：absolute" class="headerlink" title="绝对定位 position：absolute"></a>绝对定位 position：absolute</h2><p>相对于 <strong>浏览器页面</strong> 的调用</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#father</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">700px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#father</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid yellow;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box2</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>111111111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box2&quot;</span>&gt;</span>22222222222222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>3333333333333333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/b6f965236ff6474a7ad63bfa66a9e4d4.png" alt="在这里插入图片描述"></p><p>当父元素被定位，box2就会以其 <strong>父亲</strong> 作为绝对定位的基准</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#father</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">700px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;&lt;-----------</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#box2</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/540856f6a3b6fd08fb679841265e835e.png" alt="在这里插入图片描述"></p><h2 id="z-index-属性"><a href="#z-index-属性" class="headerlink" title="z-index 属性"></a>z-index 属性</h2><p>用于设置重叠元素的堆叠顺序，默认是0，允许负值。z-index <strong><u>仅能在定位元素上奏效</u></strong></p><p>越 <strong>大</strong> 越 在上</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#father</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: black;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">700px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#father</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid yellow;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box1</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box2</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box3</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">110px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span>box1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box2&quot;</span>&gt;</span>box2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box3&quot;</span>&gt;</span>box3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/8ee846502750c85a0bdb1cff811e1b52.png" alt="在这里插入图片描述"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box1</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;&lt;-----------------------</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box2</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">3</span>;&lt;-----------------------</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">30px</span>;&lt;-----------------------</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box3</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2</span>;&lt;-----------------------</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/f2d40da88e59b248d40d257b5a06a728.png" alt="在这里插入图片描述"></p><h3 id="小练"><a href="#小练" class="headerlink" title="小练"></a>小练</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/b1454ba80945bef8f62da3e3c8c4258a.png" alt="在这里插入图片描述"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#wrap</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box1</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: gray;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box2</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: gray;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box3</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">180px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box4</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span>方块1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box2&quot;</span>&gt;</span>方块2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box3&quot;</span>&gt;</span>圆形<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box4&quot;</span>&gt;</span>圆角矩形<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="display-属性"><a href="#display-属性" class="headerlink" title="display 属性"></a>display 属性</h2><blockquote><p>inline：行内元素</p><p>block：块元素</p><p>none：无元素，无元素就是 <strong>不显示</strong> 里面的内容</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>默认span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>默认span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;display: block;&quot;</span>&gt;</span>属性改为 block 的span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;display: block;&quot;</span>&gt;</span>属性改为 block 的span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>默认div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>默认div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: inline;&quot;</span>&gt;</span>属性改为 inline 的div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: inline;&quot;</span>&gt;</span>属性改为 inline 的div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: none;&quot;</span>&gt;</span>属性改为 none 的div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="flex-布局"><a href="#flex-布局" class="headerlink" title="flex 布局"></a>flex 布局</h2><p>容器-&gt;项目，主轴（水平）、交叉轴（垂直）</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML基础笔记</title>
      <link href="/post/74c0bbe.html"/>
      <url>/post/74c0bbe.html</url>
      
        <content type="html"><![CDATA[<h1 id="第一课"><a href="#第一课" class="headerlink" title="第一课"></a>第一课</h1><h2 id="1-vscode-插件集合整理"><a href="#1-vscode-插件集合整理" class="headerlink" title="1. vscode 插件集合整理"></a>1. vscode 插件集合整理</h2><div class="table-container"><table><thead><tr><th style="text-align:center">插件名称</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center">Auto Rename Tag</td><td style="text-align:center">自动更改标签名称</td></tr><tr><td style="text-align:center">chinese</td><td style="text-align:center">汉化</td></tr><tr><td style="text-align:center">open in browser</td><td style="text-align:center">右键打开默认浏览器执行html文件</td></tr></tbody></table></div><h2 id="2-HTML基本结构"><a href="#2-HTML基本结构" class="headerlink" title="2. HTML基本结构"></a>2. HTML基本结构</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 文档说明 --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line">主框架，所有代码写在html标签内</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    并列关系head和body</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 文档说明 --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 语言：en 为英语，zh-CN是中文 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- meta参数设置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>演员<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- p段落标签，默认会在段落的上方或下方空出一行 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>简单点<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="第二课"><a href="#第二课" class="headerlink" title="第二课"></a>第二课</h1><p>div主要是分局、分块页面用的，是块级元素，无特殊意义。</p><p>div,span没有语义，用来布局，相当于一个盒子，用来装内容，对文本进行控制。</p><p>div：分割、分区，默认独占一行，大盒子</p><p>span：跨度、跨距，一行上可以有多个span</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>一行<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>一段<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>一段<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="文本格式化标签"><a href="#文本格式化标签" class="headerlink" title="文本格式化标签"></a>文本格式化标签</h3><div class="table-container"><table><thead><tr><th style="text-align:left">strong</th><th>加粗标签，推荐，比b标签好一点</th></tr></thead><tbody><tr><td style="text-align:left">b</td><td>加粗</td></tr><tr><td style="text-align:left">em</td><td>斜体标签，比 i 好一点</td></tr><tr><td style="text-align:left">i</td><td>斜体</td></tr><tr><td style="text-align:left">del</td><td>删除标签</td></tr><tr><td style="text-align:left">u</td><td>下划线标签</td></tr><tr><td style="text-align:left">sub</td><td>下标</td></tr><tr><td style="text-align:left">sup</td><td>上标</td></tr></tbody></table></div><h3 id="a-标签（超链接标签）"><a href="#a-标签（超链接标签）" class="headerlink" title="a 标签（超链接标签）"></a>a 标签（超链接标签）</h3><p>a标签是超链接，在网页中跳转，href属性设置连接的地址</p><p>target=”_self”打开窗口的方式，标识当前窗口打开页面</p><p>target=”_blank” 用新窗口打开页面</p><p>href=“#”标识空连接，href=”#1”表示寻找当前页面的锚点。</p><p>href属性可以放外部链接和内部链接，外部链接路径需要输入http:// 协议头 ，内部链接路径可以   <strong>相对路径</strong> 和 <strong>绝对路径</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h4</span> <span class="attr">name</span>=<span class="string">&quot;top&quot;</span>&gt;</span>外部链接<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.w3school.com.cn&quot;</span>&gt;</span>链接到w3c网站<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>连接到百度，新建窗口打开<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">h4</span>&gt;</span>内部链接：网站内部页面之间的连接<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;02-02-文本格式化标签.html&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>默认链接到文件同一级目录下<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;下一级目录/index.html&quot;</span>&gt;</span>链接到文件所在目录的下一级目录中的本地文档<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">h4</span>&gt;</span>空连接<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>空链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">h4</span>&gt;</span>下载链接<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;./材料/南信文本.txt&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>a标签 下载链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment">&lt;!-- 当前页面内进行跳转，使用命名锚内部链接 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">h4</span>&gt;</span>页面内进行跳转<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#bottom&quot;</span>&gt;</span>跳转到底部<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#top&quot;</span>&gt;</span>回到顶部<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span>这是底部<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="图像标签：img，单标签"><a href="#图像标签：img，单标签" class="headerlink" title="图像标签：img，单标签"></a>图像标签：img，单标签</h3><p>src 属性设置为要插入图像文件的URL，alt 属性在浏览器无法载入图像时，设置显示的文本</p><p>src 路径的使用方法和a标签中href差不多，可以使用 <strong>相对路径</strong> 和 <strong>绝对路径</strong></p><blockquote><p><img>是单标签，图像尺寸</p><p>src属性： 可以设置图片的路径</p><p>alt：替换文本，图像显示不出来的时候用文字替换，设置提示</p><p>title：不管图像是否成功显示，鼠标悬停在图像上就会有文字提示</p><p>border: 设置边框</p><p>hspace：上下留白</p><p>vspace：左右留白</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>图像标签的使用<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/大雄.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是大雄，可惜没显示出来&quot;</span> <span class="attr">title</span>=<span class="string">&quot;我是大雄&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img大雄.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是大雄，可惜没显示出来&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 描述：图像边框设置 border属性 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/face.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;一张脸&quot;</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/face.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;一张脸&quot;</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100px&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 百分比设置图像标签的尺寸 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/face.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;一张脸&quot;</span> <span class="attr">width</span>=<span class="string">&quot;20%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 设置图片的位置：水平和垂直方向 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        这是一段文字，图片的align属性设置“left”。图像将“浮动”到文本的左侧</span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/face.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是一张脸&quot;</span> <span class="attr">align</span>=<span class="string">&quot;left&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        这是一段文字，图片的align属性设置“right”。图像将“浮动”到文本的右侧</span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/face.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是一张脸&quot;</span> <span class="attr">align</span>=<span class="string">&quot;right&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        这是一段文字，图片的align属性设置“top”。图像将“浮动”到文本的上侧</span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/face.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是一张脸&quot;</span> <span class="attr">align</span>=<span class="string">&quot;top&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        这是一段文字，图片的align属性设置“bottom”。图像将“浮动”到文本的下侧</span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/face.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是一张脸&quot;</span> <span class="attr">align</span>=<span class="string">&quot;bottom&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        这是一段文字，图片的align属性设置“middle”。图像将“浮动”到文本的居中侧</span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/face.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是一张脸&quot;</span> <span class="attr">align</span>=<span class="string">&quot;middle&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 图像留白及边框线 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        这是一段文字，垂直左右都留白</span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/face.PNG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是一张脸&quot;</span> <span class="attr">align</span>=<span class="string">&quot;middle&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">hspace</span>=<span class="string">&quot;50&quot;</span> <span class="attr">vspace</span>=<span class="string">&quot;50&quot;</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>图片超链接<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.njcit.cn&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./材料/img/logo.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是南信院logo&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="图像地图-area标签"><a href="#图像地图-area标签" class="headerlink" title="图像地图 area标签"></a>图像地图 area标签</h3><p>整张图片被分成的多块活动的 <strong>区域</strong>。用户自己定义这些热点，把他们分别连接到各自独立的URL地址。</p><blockquote><p>shape：区域类型，是圆形还是矩形，circle圆形；rect矩形</p><p>coords：圆心（横坐标，据上距离纵坐标），半径；左上角（x，y），右下角（x，y）</p><p>href：链接的地址</p></blockquote><p><strong><map></strong>定义一个客户端图像映射，应带有 id 和 name 属性，id 的值要和 name 的值 <strong>保持一致</strong>，并不可缺一。</p><p>img元素中的 <strong>usemap</strong> 属性引用 <strong>map</strong> 元素中的 <strong>id</strong> 或 <strong>name</strong> 属性，<u><strong>要用#</strong></u></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>请点击图像上的星球，把它们放大<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/eg_planets.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是全图&quot;</span> <span class="attr">usemap</span>=<span class="string">&quot;#plants&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span> <span class="attr">id</span>=<span class="string">&quot;plants&quot;</span> <span class="attr">name</span>=<span class="string">&quot;plants&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">&quot;circle&quot;</span> <span class="attr">coords</span>=<span class="string">&quot;130,162,10&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./mercur.html&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是小的&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">&quot;circle&quot;</span> <span class="attr">coords</span>=<span class="string">&quot;180,140,15&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./venus.html&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;这是大的&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">&quot;rect&quot;</span> <span class="attr">coords</span>=<span class="string">&quot;0,0,112,259&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./sun.html&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;我就是太阳&quot;</span> <span class="attr">title</span>=<span class="string">&quot;我就是太阳&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="第三课"><a href="#第三课" class="headerlink" title="第三课"></a>第三课</h1><h3 id="音频标签-audio"><a href="#音频标签-audio" class="headerlink" title="音频标签 audio"></a>音频标签 audio</h3><p>可以播放音频文件或者音频流</p><p>audio内部可以嵌套 <strong>source</strong> 元素</p><p>source 可以链接 <strong>不同</strong> 的音频文件，浏览器识别第一个可播放的音频类型</p><blockquote><p>src：文件地址</p><p>autoplay：自动播放</p><p>controls：显示播放按钮等组件</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 播放音频文件使用audio标签：controls 属性向用户显示音频控件 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 也可使用多个不同的音频格式。HTML5 &lt;audio&gt; 元素会尝试以 mp3 或 ogg 来播放音频 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">&quot;./材料/第三课/media/雨的印记.mp3&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 浏览器或许不识别 mp3 格式文件，所以用 source 标签 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;./材料/第三课/media/雨的印记.ogg&quot;</span> <span class="attr">type</span>=<span class="string">&quot;audio/ogg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="视频标签-video"><a href="#视频标签-video" class="headerlink" title="视频标签 video"></a>视频标签 video</h3><p>播放视频标签，属性与 audio 相差不大</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 视频标签 video --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;./材料/第三课/media/南信版成都.MP4&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/MP4&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="embed标签"><a href="#embed标签" class="headerlink" title="embed标签"></a>embed标签</h3><p>视频、音频都可以</p><p>单标签</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 播放音频、视频文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&quot;./材料/第三课/media/卡农.mp3&quot;</span> <span class="attr">type</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&quot;./材料/第三课/media/凉凉.ogg&quot;</span> <span class="attr">type</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="a-超链接标签"><a href="#a-超链接标签" class="headerlink" title="a 超链接标签"></a>a 超链接标签</h3><p>a 超链接标签也可以用于播放音频、视频</p><p>打开另一个页面，用 <strong>辅助应用程序</strong> 来播放文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 大多数浏览器会使用“辅助应用程序”来播放文件 --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;a href=&quot;./材料/第三课/media/雨的印记.mp3&quot;&gt;雨的印记&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h3 id="marquee-标签-滚动文字"><a href="#marquee-标签-滚动文字" class="headerlink" title="marquee 标签 滚动文字"></a>marquee 标签 滚动文字</h3><p>用于插入一段滚动文字</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 滚动文字 --&gt;</span><br><span class="line">&lt;marquee&gt;你好世界&lt;/marquee&gt;</span><br></pre></td></tr></table></figure><h2 id="表格标签-table"><a href="#表格标签-table" class="headerlink" title="表格标签 table"></a>表格标签 table</h2><p>table 标签里有 tr 和 td 标签，tr 是行，td是列</p><blockquote><p>border：设置边框</p><p>width：设置表格宽度</p><p>height： 设置表格高度</p><p>align：设置表格相对于页面的对其方式</p><p>cellspacing：设置单元格的间距，一般设置0，完全重叠</p><p>cellpadding：设置单元边距与内容之间的空白，设置为 1 </p><p>​    caption：添加标题</p><p>​    th：是表头标签</p><p>​    tr：行标签</p><p>​    td：列标签</p><p><strong>语义标签：</strong><thead> 和 <tbody>，只是增加可读性，在页面上不显示</p><p>td 标签中 valign=”top”，设置 td 标签的对齐格式</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">cellpadding</span>=<span class="string">&quot;10&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- 添加标题 --&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">caption</span>&gt;</span>学生信息表<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                   <span class="comment">&lt;!-- 设置表头 th 标签，加粗加黑、居中 --&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">th</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">th</span>&gt;</span>性别<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">th</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">td</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">td</span>&gt;</span>男<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">td</span>&gt;</span>18<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">td</span>&gt;</span>李四<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">td</span>&gt;</span>女<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">td</span>&gt;</span>18<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>跨行合并：rowspan=“要进行行合并的列数”</strong></p><p><strong>跨列合并：colspan=“要进行列合并的行数”</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 表格跨行跨列</span></span><br><span class="line"><span class="comment">    colspan 属性设置跨列</span></span><br><span class="line"><span class="comment">    rowspan 属性设置跨行 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">caption</span>&gt;</span>横跨两列的单元格<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- &lt;td&gt;3&lt;/td&gt; --&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>5<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>6<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> <span class="attr">style</span>=<span class="string">&quot;size: 5px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">caption</span>&gt;</span>横跨两行的单元格<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- &lt;td&gt;5&lt;/td&gt; --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>6<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/ab7858a7864ac399fbe05d7a0ecc48b9.png" alt="合并单元格"></p><h4 id="表格嵌套"><a href="#表格嵌套" class="headerlink" title="表格嵌套"></a>表格嵌套</h4><p>在单纯的跨行合并与跨列行并不好合并的情况下，可以用 <strong>嵌套</strong> 进行表示</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 表格嵌套 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">cellpadding</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">caption</span>&gt;</span>表格嵌套<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>教材全称<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">cellpadding</span>=<span class="string">&quot;10&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>名称<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>HTML网页设计<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>编者<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>王强<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>出版社<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>清华大学出版社<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>版 次<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>第 1 版<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="第四课"><a href="#第四课" class="headerlink" title="第四课"></a>第四课</h1><blockquote><p>列表：有序列表，<u><strong>无序列表</strong></u>，自定义列表</p><p>特点：整齐、整洁、有序</p></blockquote><h3 id="无序列表-ul-标签"><a href="#无序列表-ul-标签" class="headerlink" title="无序列表 ul 标签"></a>无序列表 ul 标签</h3><p>ul 标签里 <strong>只能</strong> 嵌套 li 标签</p><p>li 标签是个容器，可以容纳所有元素</p><blockquote><p>type：修改列表项前面的符号，disc：实心小圆点（默认）；circle：空心小圆点；square：实心小方块</p><p>li 标签：ul 标签中唯一存在的标签</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>无序列表<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">type</span>=<span class="string">&quot;circle&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>菠萝<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>西瓜<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="有序列表-ol-标签"><a href="#有序列表-ol-标签" class="headerlink" title="有序列表 ol 标签"></a>有序列表 ol 标签</h3><p>ol 标签里 <strong>只能</strong> 嵌套 li 标签</p><p>li 标签是个容器，可以容纳所有元素</p><p>基本使用方法与无序列表相同</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>有序列表<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>有序列表项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>有序列表项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>有序列表项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="自定义列表-dl-标签"><a href="#自定义列表-dl-标签" class="headerlink" title="自定义列表 dl 标签"></a>自定义列表 dl 标签</h3><p>常用于对术语或名词进行解释和描述，定义列表的列表项前没有任何项目符号</p><p>dl 标签里面<strong>只能</strong>包含 dt 标签</p><p>dt 标签和 dd 标签个数没有限制，经常是一个 dt 标签对应多个 dd 标签</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>自定义列表<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span>帮助中心</span><br><span class="line">            <span class="tag">&lt;<span class="name">dd</span>&gt;</span>账户管理<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dd</span>&gt;</span>购物指南<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span>关于小米</span><br><span class="line">            <span class="tag">&lt;<span class="name">dd</span>&gt;</span>了解<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dd</span>&gt;</span>加入<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dd</span>&gt;</span>联系我们<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="浮动框架-iframe-标签"><a href="#浮动框架-iframe-标签" class="headerlink" title="浮动框架 iframe 标签"></a>浮动框架 iframe 标签</h3><p>可以在网页上开辟一个小区域显示单独的网页</p><ol><li>在 iframe 标签中使用 name 属性定义一个名称，src 属性设置连接的目标网址</li><li>在 a 标签的 target 属性上设置 iframe 的 name 属性值</li><li><strong>属性值与浮动框架的 <em><u>name</u></em> 值一致</strong></li></ol><blockquote><p>src：URL 地址</p><p>width：宽度</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.qidian.com/rank/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;display&quot;</span>&gt;</span>点此进入起点<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.w3school.com.cn&quot;</span> <span class="attr">target</span>=<span class="string">&quot;display&quot;</span>&gt;</span>点此进入w3c网站<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;http://www.w3school.com.cn&quot;</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">&quot;display&quot;</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">style</span>=<span class="string">&quot;width: 600px;height: 300px;&quot;</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">align</span>=<span class="string">&quot;right&quot;</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="第五课"><a href="#第五课" class="headerlink" title="第五课"></a>第五课</h1><p>表单域、表单控件以及提示信息</p><h2 id="form-标签"><a href="#form-标签" class="headerlink" title="form 标签"></a>form 标签</h2><p>是HTML页面中用来收集用户信息的所有元素集合，然后把这些信息发送到服务器</p><blockquote><p>action：规定当提交表单时，向何处发送表单数据</p></blockquote><h3 id="input-标签"><a href="#input-标签" class="headerlink" title="input 标签"></a>input 标签</h3><p>规定用户可输入数据的输入字段，根据不同的 <strong>type</strong> ，输入字段有多种形态。</p><blockquote><p>name：获取文本框的name</p><p>value：文本框中默认填充的文字</p><p>maxlength：限制输入的字符</p><p>size：文本框的宽度</p><p>checked=“checked”：是否默认选中</p></blockquote><p>type 的属性</p><blockquote><p>text：文件输入框</p><p>radio：是单选框，内容字可以用 <strong>label</strong> 标签中 <strong>for</strong>属性进行绑定。</p><p>checkbox：复选框，内容字可以用 <strong>label</strong> 标签中 <strong>for</strong>属性进行绑定。</p><p>select 标签是下拉列表框，option 标签是下拉列表框中选中的表现</p><p>submit：是提交按钮</p><p>reset：重置按钮</p><p>button：按钮</p><p>file：文件上传按钮</p><p>hidden：隐藏按钮</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;./03-03-小说排行榜.html&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 整体是 11 行 2 列 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">cellpadding</span>=<span class="string">&quot;5&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">caption</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>用户注册<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>用户名：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;useName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;请输入用户名&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>密码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>性别：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- radio 单选框注意设置相同的 name 实现单选效果 --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;nan&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;nan&quot;</span>&gt;</span></span><br><span class="line">                            男</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;nv&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;nv&quot;</span>&gt;</span></span><br><span class="line">                            女</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>爱好：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- value 属性：获取用户的选中情况 --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;favourite&quot;</span> <span class="attr">id</span>=<span class="string">&quot;foot&quot;</span> <span class="attr">value</span>=<span class="string">&quot;foot&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;foot&quot;</span>&gt;</span></span><br><span class="line">                            足球</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;favourite&quot;</span> <span class="attr">id</span>=<span class="string">&quot;basket&quot;</span> <span class="attr">value</span>=<span class="string">&quot;basket&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;basket&quot;</span>&gt;</span></span><br><span class="line">                            篮球</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;favourite&quot;</span> <span class="attr">id</span>=<span class="string">&quot;volleyball&quot;</span> <span class="attr">value</span>=<span class="string">&quot;volleyball&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;volleyball&quot;</span>&gt;</span></span><br><span class="line">                            排球</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>出生年月日：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">name</span>=<span class="string">&quot;date&quot;</span> <span class="attr">id</span>=<span class="string">&quot;date&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>电子邮箱<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入邮件地址&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>籍贯：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- 下拉选择器 --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;province&quot;</span> <span class="attr">id</span>=<span class="string">&quot;province&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">option</span>&gt;</span>--请输入籍贯--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;jiangsu&quot;</span>&gt;</span>江苏<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shandong&quot;</span>&gt;</span>山东<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>我最喜欢的颜色是：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- datalist 标签，除了从列表中选择，还可以在文本框中输入 --&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- datalist 标签id 要与 input 的 list 属性进行绑定 --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;color&quot;</span> <span class="attr">id</span>=<span class="string">&quot;color&quot;</span> <span class="attr">list</span>=<span class="string">&quot;colorslist&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;colorslist&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;red&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;green&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>今日反馈：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;today&quot;</span> <span class="attr">id</span>=<span class="string">&quot;today&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;5&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入要反馈的内容&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>上传头像<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;alert(&#x27;提交成功&#x27;)&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>获取随机手机号</title>
      <link href="/post/d29f50df.html"/>
      <url>/post/d29f50df.html</url>
      
        <content type="html"><![CDATA[<h1 id="获取随机手机号"><a href="#获取随机手机号" class="headerlink" title="获取随机手机号"></a>获取随机手机号</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> redbean</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/28 - 16:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RandomPhoneNum</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getooo</span><span class="params">()</span>&#123; <span class="keyword">return</span> <span class="number">1</span>;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//询问需要多少个随机号码</span></span><br><span class="line"></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">boo</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line"><span class="comment">//如果用户输入的不是一个整数，就循环要求用户输入一个整数</span></span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;你需要多少组电话号码，请输入一个整数&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">answer</span> <span class="operator">=</span> sc.next();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//将用户的输入转化为整数</span></span><br><span class="line"></span><br><span class="line">                num = Integer.parseInt(answer);</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果转换成功，boo就设置为false使其可以跳出循环</span></span><br><span class="line"></span><br><span class="line">                boo = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">//如果用户输入的不是一个整数，就抛出异常，要求用户重新输入</span></span><br><span class="line"></span><br><span class="line">                System.out.println(<span class="string">&quot;你输入的不是一个整数，请重新输入&quot;</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">while</span> (boo);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;你要的手机号码如下：&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//将循环次数设置为用户需要的号码的数量</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line"><span class="comment">//调用静态方法生成手机号码</span></span><br><span class="line"></span><br><span class="line">            getPhoneNum();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定一个静态方法，专门生成单个的号码</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getPhoneNum</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">//给予真实的初始号段，号段是在百度上面查找的真实号段</span></span><br><span class="line"></span><br><span class="line">        String[] start = &#123;<span class="string">&quot;133&quot;</span>, <span class="string">&quot;149&quot;</span>, <span class="string">&quot;153&quot;</span>, <span class="string">&quot;173&quot;</span>, <span class="string">&quot;177&quot;</span>,</span><br><span class="line"></span><br><span class="line">                <span class="string">&quot;180&quot;</span>, <span class="string">&quot;181&quot;</span>, <span class="string">&quot;189&quot;</span>, <span class="string">&quot;199&quot;</span>, <span class="string">&quot;130&quot;</span>, <span class="string">&quot;131&quot;</span>, <span class="string">&quot;132&quot;</span>,</span><br><span class="line"></span><br><span class="line">                <span class="string">&quot;145&quot;</span>, <span class="string">&quot;155&quot;</span>, <span class="string">&quot;156&quot;</span>, <span class="string">&quot;166&quot;</span>, <span class="string">&quot;171&quot;</span>, <span class="string">&quot;175&quot;</span>, <span class="string">&quot;176&quot;</span>, <span class="string">&quot;185&quot;</span>, <span class="string">&quot;186&quot;</span>, <span class="string">&quot;166&quot;</span>, <span class="string">&quot;134&quot;</span>, <span class="string">&quot;135&quot;</span>,</span><br><span class="line"></span><br><span class="line">                <span class="string">&quot;136&quot;</span>, <span class="string">&quot;137&quot;</span>, <span class="string">&quot;138&quot;</span>, <span class="string">&quot;139&quot;</span>, <span class="string">&quot;147&quot;</span>, <span class="string">&quot;150&quot;</span>, <span class="string">&quot;151&quot;</span>, <span class="string">&quot;152&quot;</span>, <span class="string">&quot;157&quot;</span>, <span class="string">&quot;158&quot;</span>, <span class="string">&quot;159&quot;</span>, <span class="string">&quot;172&quot;</span>,</span><br><span class="line"></span><br><span class="line">                <span class="string">&quot;178&quot;</span>, <span class="string">&quot;182&quot;</span>, <span class="string">&quot;183&quot;</span>, <span class="string">&quot;184&quot;</span>, <span class="string">&quot;187&quot;</span>, <span class="string">&quot;188&quot;</span>, <span class="string">&quot;198&quot;</span>, <span class="string">&quot;170&quot;</span>, <span class="string">&quot;171&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//随机出真实号段 使用数组的length属性，获得数组长度，</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//通过Math.random()*数组长度获得数组下标，从而随机出前三位的号段</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">phoneFirstNum</span> <span class="operator">=</span> start[(<span class="type">int</span>) (Math.random() * start.length)];</span><br><span class="line"></span><br><span class="line"><span class="comment">//随机出剩下的8位数</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">phoneLastNum</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义尾号，尾号是8位</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="type">int</span> <span class="variable">LENPHONE</span> <span class="operator">=</span> <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//循环剩下的位数</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; LENPHONE; i++) &#123;</span><br><span class="line"><span class="comment">//每次循环都从0~9挑选一个随机数</span></span><br><span class="line"></span><br><span class="line">            phoneLastNum += (<span class="type">int</span>) (Math.random() * <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//最终将号段和尾数连接起来</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">phoneNum</span> <span class="operator">=</span> phoneFirstNum + phoneLastNum;</span><br><span class="line"></span><br><span class="line">        System.out.println(phoneNum);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于物品的协同过滤算法</title>
      <link href="/post/7774025f.html"/>
      <url>/post/7774025f.html</url>
      
        <content type="html"><![CDATA[<h1 id="基于物品的协同过滤算法"><a href="#基于物品的协同过滤算法" class="headerlink" title="基于物品的协同过滤算法"></a>基于物品的协同过滤算法</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ItemCF</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;itemCFData&gt; novelInfos;            <span class="comment">// 小说数据</span></span><br><span class="line">    <span class="keyword">private</span> BiMap&lt;Integer,String&gt; allTags = <span class="keyword">new</span> <span class="title class_">BiMap</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;());      <span class="comment">// 所有的小说标签</span></span><br><span class="line">    <span class="keyword">private</span> itemCFData testInfos;                   <span class="comment">// 输入的小说数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[][] gongXian;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[][] gongXianTmp;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] N;                                <span class="comment">// 每个标签被喜欢的人数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ItemCF</span><span class="params">(itemCFData testInfos, List&lt;itemCFData&gt; novelInfos)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.testInfos = testInfos;</span><br><span class="line">        <span class="built_in">this</span>.novelInfos = novelInfos;</span><br><span class="line">        init(); <span class="comment">// 计算共现矩阵</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        HashSet&lt;String&gt; stringHashSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (itemCFData novelInfo : novelInfos) &#123;</span><br><span class="line">            String[] split = novelInfo.getTag().split(<span class="string">&quot;\\|&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (String s : split) &#123;</span><br><span class="line">                stringHashSet.add(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (String s : stringHashSet) &#123;</span><br><span class="line">            allTags.put(count, s);</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 初始化共现矩阵</span></span><br><span class="line">        gongXian = <span class="keyword">new</span> <span class="title class_">int</span>[allTags.size()][allTags.size()];</span><br><span class="line">        gongXianTmp = <span class="keyword">new</span> <span class="title class_">int</span>[allTags.size()][allTags.size()];</span><br><span class="line">        N = <span class="keyword">new</span> <span class="title class_">int</span>[allTags.size()];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回相似度最高的标签</span></span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title function_">getMaxTags</span><span class="params">()</span> &#123;</span><br><span class="line">        ArrayList&lt;String&gt; maxTags = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (itemCFData novelInfo : novelInfos) &#123;</span><br><span class="line">            <span class="keyword">if</span> (novelInfo.getOldBookid().equals(testInfos.getOldBookid())) &#123;    <span class="comment">// 如果是相同数据则跳过</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            String[] tags = novelInfo.getTag().split(<span class="string">&quot;\\|&quot;</span>);            <span class="comment">// 当前小说的标签</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; allTags.size(); i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; allTags.size(); j++) &#123;</span><br><span class="line">                    gongXianTmp[i][j] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;   <span class="comment">// 清空矩阵</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 遍历当前小说已有的标签，组成共现矩阵的中间矩阵</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; tags.length; i++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">key1</span> <span class="operator">=</span> allTags.getKey(tags[i]);</span><br><span class="line">                N[key1] = N[key1] + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; tags.length; j++) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">key2</span> <span class="operator">=</span> allTags.getKey(tags[j]);</span><br><span class="line">                    <span class="comment">// 实对称稀疏矩阵,两两加一</span></span><br><span class="line">                    gongXianTmp[key1][key2] += <span class="number">1</span>;</span><br><span class="line">                    gongXianTmp[key2][key1] += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 对中间矩阵进行累加，得到共现矩阵</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; allTags.size(); i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; allTags.size(); j++) &#123;</span><br><span class="line">                    gongXian[i][j] += gongXianTmp[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 测试小说的标签列表</span></span><br><span class="line">        String[] tags = testInfos.getTag().split(<span class="string">&quot;\\|&quot;</span>);</span><br><span class="line">        BiMap&lt;String,Double&gt; ws;         <span class="comment">// 小说标签的相似度</span></span><br><span class="line">        <span class="keyword">for</span> (String tag : tags) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">Nij</span> <span class="operator">=</span> <span class="number">0</span>;        <span class="comment">// 既喜欢i又喜欢j的人数</span></span><br><span class="line">            <span class="type">double</span> wij;         <span class="comment">// 相似度</span></span><br><span class="line">            ws = <span class="keyword">new</span> <span class="title class_">BiMap</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;());</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> allTags.getKey(tag);  <span class="comment">// 获取当前小说标签的key值</span></span><br><span class="line">            <span class="comment">// 根据allTags遍历共现数组</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; allTags.size(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == j) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                Nij = gongXian[i][j];   <span class="comment">// 同时喜欢ij的人数</span></span><br><span class="line">                wij = (<span class="type">double</span>) Nij / Math.sqrt(N[i] * N[j]);    <span class="comment">// 根据公式计算相似度</span></span><br><span class="line"></span><br><span class="line">                ws.put(allTags.get(j), wij);    <span class="comment">// 存入相似度中</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 遍历相似度，查找相似度最高的</span></span><br><span class="line">            <span class="type">double</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;String, Double&gt; w : ws) &#123;</span><br><span class="line">                flag = Math.max(w.getValue(), flag);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">String</span> <span class="variable">maxTag</span> <span class="operator">=</span> ws.getKey(flag);</span><br><span class="line">            maxTags.add(maxTag);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxTags;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根据最高相似度标签，返回标签中出现次数最多的小说id前五个</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] run() &#123;</span><br><span class="line">        ArrayList&lt;String&gt; maxTags = <span class="built_in">this</span>.getMaxTags();</span><br><span class="line">        <span class="comment">// 创建数组，计算标签次数最多的前五个小说</span></span><br><span class="line">        <span class="type">int</span>[][] count = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][novelInfos.size()];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; novelInfos.size(); i++) &#123;</span><br><span class="line">            count[<span class="number">0</span>][i] = novelInfos.get(i).getOldBookid();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; maxTags.size(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (novelInfos.get(i).getTag().contains(maxTags.get(j))) &#123;</span><br><span class="line">                    count[<span class="number">1</span>][i] += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 遍历，传入map</span></span><br><span class="line">        Map&lt;Integer,Integer&gt; results = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; count[<span class="number">1</span>].length; i++) &#123;</span><br><span class="line">            results.put(count[<span class="number">0</span>][i],count[<span class="number">1</span>][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 取出最高的五个来</span></span><br><span class="line">        <span class="type">int</span>[] maxBookids = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">maxBookid</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : results.entrySet()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (entry.getValue() &gt; max) &#123;</span><br><span class="line">                    max = entry.getValue();</span><br><span class="line">                    maxBookid = entry.getKey();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            results.remove(maxBookid);</span><br><span class="line">            maxBookids[i] = maxBookid;</span><br><span class="line">            System.out.println(results);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxBookids;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="调整改进版"><a href="#调整改进版" class="headerlink" title="调整改进版"></a>调整改进版</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ItemCF</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;itemCFData&gt; novelInfos;            <span class="comment">// 小说数据</span></span><br><span class="line">    <span class="keyword">private</span> BiMap&lt;Integer,String&gt; allTags = <span class="keyword">new</span> <span class="title class_">BiMap</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;());      <span class="comment">// 所有的小说标签</span></span><br><span class="line">    <span class="keyword">private</span> itemCFData testInfos;                   <span class="comment">// 输入的小说数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[][] gongXian;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[][] gongXianTmp;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] N;                                <span class="comment">// 每个标签被喜欢的人数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ItemCF</span><span class="params">(itemCFData testInfos, List&lt;itemCFData&gt; novelInfos)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.testInfos = testInfos;</span><br><span class="line">        <span class="built_in">this</span>.novelInfos = novelInfos;</span><br><span class="line">        init(); <span class="comment">// 计算共现矩阵</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        HashSet&lt;String&gt; stringHashSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (itemCFData novelInfo : novelInfos) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                String[] split = novelInfo.getTag().split(<span class="string">&quot;\\|&quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (String s : split) &#123;</span><br><span class="line">                    stringHashSet.add(s);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                System.out.println(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (String s : stringHashSet) &#123;</span><br><span class="line">            allTags.put(count, s);</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 初始化共现矩阵</span></span><br><span class="line">        gongXian = <span class="keyword">new</span> <span class="title class_">int</span>[allTags.size()][allTags.size()];</span><br><span class="line">        gongXianTmp = <span class="keyword">new</span> <span class="title class_">int</span>[allTags.size()][allTags.size()];</span><br><span class="line">        N = <span class="keyword">new</span> <span class="title class_">int</span>[allTags.size()];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回相似度最高的标签</span></span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title function_">getMaxTags</span><span class="params">()</span> &#123;</span><br><span class="line">        ArrayList&lt;String&gt; maxTags = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (itemCFData novelInfo : novelInfos) &#123;</span><br><span class="line">            <span class="keyword">if</span> (novelInfo.getOldBookid().equals(testInfos.getOldBookid())) &#123;    <span class="comment">// 如果是相同数据则跳过</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            String[] tags = novelInfo.getTag().split(<span class="string">&quot;\\|&quot;</span>);            <span class="comment">// 当前小说的标签</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; allTags.size(); i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; allTags.size(); j++) &#123;</span><br><span class="line">                    gongXianTmp[i][j] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;   <span class="comment">// 清空矩阵</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 遍历当前小说已有的标签，组成共现矩阵的中间矩阵</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; tags.length; i++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">key1</span> <span class="operator">=</span> allTags.getKey(tags[i]);</span><br><span class="line">                N[key1] = N[key1] + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; tags.length; j++) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">key2</span> <span class="operator">=</span> allTags.getKey(tags[j]);</span><br><span class="line">                    <span class="comment">// 实对称稀疏矩阵,两两加一</span></span><br><span class="line">                    gongXianTmp[key1][key2] += <span class="number">1</span>;</span><br><span class="line">                    gongXianTmp[key2][key1] += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 对中间矩阵进行累加，得到共现矩阵</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; allTags.size(); i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; allTags.size(); j++) &#123;</span><br><span class="line">                    gongXian[i][j] += gongXianTmp[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 测试小说的标签列表</span></span><br><span class="line">        String[] tags = testInfos.getTag().split(<span class="string">&quot;\\|&quot;</span>);</span><br><span class="line">        BiMap&lt;String,Double&gt; ws;         <span class="comment">// 小说标签的相似度</span></span><br><span class="line">        <span class="keyword">for</span> (String tag : tags) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">Nij</span> <span class="operator">=</span> <span class="number">0</span>;        <span class="comment">// 既喜欢i又喜欢j的人数</span></span><br><span class="line">            <span class="type">double</span> wij;         <span class="comment">// 相似度</span></span><br><span class="line">            ws = <span class="keyword">new</span> <span class="title class_">BiMap</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;());</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> allTags.getKey(tag);  <span class="comment">// 获取当前小说标签的key值</span></span><br><span class="line">            <span class="comment">// 根据allTags遍历共现数组</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; allTags.size(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == j) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                Nij = gongXian[i][j];   <span class="comment">// 同时喜欢ij的人数</span></span><br><span class="line">                wij = (<span class="type">double</span>) Nij / Math.sqrt(N[i] * N[j]);    <span class="comment">// 根据公式计算相似度</span></span><br><span class="line"></span><br><span class="line">                ws.put(allTags.get(j), wij);    <span class="comment">// 存入相似度中</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 遍历相似度，查找相似度最高的</span></span><br><span class="line">            <span class="type">double</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;String, Double&gt; w : ws) &#123;</span><br><span class="line">                flag = Math.max(w.getValue(), flag);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">String</span> <span class="variable">maxTag</span> <span class="operator">=</span> ws.getKey(flag);</span><br><span class="line">            maxTags.add(maxTag);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxTags;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根据最高相似度标签，返回标签中出现次数最多的小说id前五个</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] run() &#123;</span><br><span class="line">        ArrayList&lt;String&gt; maxTags = <span class="built_in">this</span>.getMaxTags();</span><br><span class="line">        <span class="comment">// 创建数组，计算标签次数最多的前五个小说</span></span><br><span class="line">        <span class="type">int</span>[][] count = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][novelInfos.size()];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; novelInfos.size(); i++) &#123;</span><br><span class="line">            count[<span class="number">0</span>][i] = novelInfos.get(i).getOldBookid();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; maxTags.size(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (novelInfos.get(i).getTag().contains(maxTags.get(j))) &#123;</span><br><span class="line">                    count[<span class="number">1</span>][i] += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 遍历，传入map</span></span><br><span class="line">        Map&lt;Integer,Integer&gt; results = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; count[<span class="number">1</span>].length; i++) &#123;</span><br><span class="line">            results.put(count[<span class="number">0</span>][i],count[<span class="number">1</span>][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 取出最高的六个来</span></span><br><span class="line">        <span class="type">int</span>[] maxBookids = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">6</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxBookid</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 标签出现次数最高的novelid都放在这里，随机取6个</span></span><br><span class="line">        List&lt;Integer&gt; maxnovelids = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : results.entrySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (entry.getValue() &gt;= max) &#123;</span><br><span class="line">                max = entry.getValue();</span><br><span class="line">                maxBookid = entry.getKey();</span><br><span class="line">                maxnovelids.add(maxBookid);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Set&lt;Integer&gt; integers;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            integers = RandomUtil.randomEleSet(maxnovelids, <span class="number">6</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            integers = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(maxnovelids);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(integers);</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxBookids_flag</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (Integer integer : integers) &#123;</span><br><span class="line">            <span class="keyword">if</span> (maxBookids_flag == <span class="number">6</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            maxBookids[maxBookids_flag] = integer;</span><br><span class="line">            maxBookids_flag++;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        for (int i = 0; i &lt; 6; i++) &#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//            results.remove(maxBookid);</span></span><br><span class="line"><span class="comment">//            maxBookids[i] = maxBookid;</span></span><br><span class="line"><span class="comment">//            System.out.println(results);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="keyword">return</span> maxBookids;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 协同过滤 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springBoot 集成 hutool邮箱发送功能</title>
      <link href="/post/94e8ad0d.html"/>
      <url>/post/94e8ad0d.html</url>
      
        <content type="html"><![CDATA[<h1 id="springBoot-集成-hutool邮箱发送功能"><a href="#springBoot-集成-hutool邮箱发送功能" class="headerlink" title="springBoot 集成 hutool邮箱发送功能"></a>springBoot 集成 hutool邮箱发送功能</h1><p>pom文件导入依赖<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--- 邮箱 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.sun.mail<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>在resource文件夹下创建config目录，config目录下创建mail.setting文件<br/><br>文件如下<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from = 熹烨小说分析系统&lt;x.xxxx@qq.com&gt;</span><br><span class="line">pass = #####邮件服务器密码</span><br><span class="line">sslEnable = true</span><br></pre></td></tr></table></figure></p><h4 id="在service中使用"><a href="#在service中使用" class="headerlink" title="在service中使用"></a>在service中使用</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Result <span class="title function_">send</span><span class="params">(SendEmailVo sendEmailVo)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">publickey</span> <span class="operator">=</span> sendEmailVo.getKey();</span><br><span class="line">    <span class="type">String</span> <span class="variable">privatekey</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(publickey);</span><br><span class="line">    <span class="keyword">if</span> (StrUtil.isBlank(privatekey)) &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;406&quot;</span>, <span class="string">&quot;注册时间过长，请刷新页面&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">String</span> <span class="variable">toemail</span> <span class="operator">=</span> Sm2.doDecrypt(sendEmailVo.getEmail(), privatekey);</span><br><span class="line">    stringRedisTemplate.delete(publickey);</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">rellycode</span> <span class="operator">=</span> RandomUtil.randomString(<span class="number">6</span>);</span><br><span class="line">    MailUtil.send(toemail,<span class="string">&quot;邮箱验证&quot;</span> , <span class="string">&quot;您的验证码是：&lt;h1&gt;&quot;</span> + rellycode + <span class="string">&quot;&lt;/h1&gt;，有效时间为 &lt;h3&gt;5分钟&lt;/h3&gt;&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">    stringRedisTemplate.opsForValue().set(toemail, rellycode,<span class="number">5</span>,TimeUnit.MINUTES);</span><br><span class="line">    <span class="keyword">return</span> Result.success(<span class="string">&quot;发送邮件成功，请进入邮箱查看&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> hutool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于sm-crypto实现前后端数据加密交互sm2</title>
      <link href="/post/9f8a29c0.html"/>
      <url>/post/9f8a29c0.html</url>
      
        <content type="html"><![CDATA[<h1 id="基于sm-crypto实现前后端数据加密交互sm2"><a href="#基于sm-crypto实现前后端数据加密交互sm2" class="headerlink" title="基于sm-crypto实现前后端数据加密交互sm2"></a>基于sm-crypto实现前后端数据加密交互sm2</h1><h3 id="springboot引入依赖"><a href="#springboot引入依赖" class="headerlink" title="springboot引入依赖"></a>springboot引入依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 国密 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.antherd<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>sm-crypto<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="获取公钥和私钥放在redis数据库中"><a href="#获取公钥和私钥放在redis数据库中" class="headerlink" title="获取公钥和私钥放在redis数据库中"></a>获取公钥和私钥放在redis数据库中</h6><h6 id="公钥做k，私钥做v"><a href="#公钥做k，私钥做v" class="headerlink" title="公钥做k，私钥做v"></a>公钥做k，私钥做v</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取公钥</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">getSM2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Keypair</span> <span class="variable">keypair</span> <span class="operator">=</span> Sm2.generateKeyPairHex();</span><br><span class="line">    <span class="type">String</span> <span class="variable">publicKey</span> <span class="operator">=</span> keypair.getPublicKey();</span><br><span class="line">    <span class="type">String</span> <span class="variable">privateKey</span> <span class="operator">=</span> keypair.getPrivateKey();</span><br><span class="line">    stringRedisTemplate.opsForValue().set(publicKey, privateKey, <span class="number">10</span>, TimeUnit.MINUTES);</span><br><span class="line">    <span class="keyword">return</span> Result.success(publicKey);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="在login中，进行校验"><a href="#在login中，进行校验" class="headerlink" title="在login中，进行校验"></a>在login中，进行校验</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对邮箱和密码进行解密</span></span><br><span class="line"><span class="type">String</span> <span class="variable">privatekey</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(userLoginVo.getKey());</span><br><span class="line"><span class="keyword">if</span> (StrUtil.isBlank(privatekey)) &#123;</span><br><span class="line">    <span class="keyword">return</span> Result.error(<span class="string">&quot;406&quot;</span>, <span class="string">&quot;登录时间过长，请刷新页面&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> Sm2.doDecrypt(userLoginVo.getEmail(), privatekey);</span><br><span class="line"><span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> Sm2.doDecrypt(userLoginVo.getPassword(), privatekey);</span><br><span class="line">stringRedisTemplate.delete(userLoginVo.getKey());</span><br></pre></td></tr></table></figure><h3 id="vue安装sm-crypto"><a href="#vue安装sm-crypto" class="headerlink" title="vue安装sm-crypto"></a>vue安装sm-crypto</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sm-crypto --save</span><br></pre></td></tr></table></figure><h6 id="在页面created的时候，获取公钥，和获取验证码一样"><a href="#在页面created的时候，获取公钥，和获取验证码一样" class="headerlink" title="在页面created的时候，获取公钥，和获取验证码一样"></a>在页面created的时候，获取公钥，和获取验证码一样</h6><h6 id="存入到user-key中，这个key就是从后端获取的公钥"><a href="#存入到user-key中，这个key就是从后端获取的公钥" class="headerlink" title="存入到user.key中，这个key就是从后端获取的公钥"></a>存入到user.key中，这个key就是从后端获取的公钥</h6><h6 id="调用前端的插件，按照公钥进行加密"><a href="#调用前端的插件，按照公钥进行加密" class="headerlink" title="调用前端的插件，按照公钥进行加密"></a>调用前端的插件，按照公钥进行加密</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">getKey</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">request</span>.<span class="title function_">get</span>(<span class="string">&quot;/user/sm2&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="string">&quot;200&quot;</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">key</span> = res.<span class="property">data</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">doSM2</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> sm2 = <span class="built_in">require</span>(<span class="string">&#x27;sm-crypto&#x27;</span>).<span class="property">sm2</span></span><br><span class="line">  <span class="keyword">let</span> encryptData = sm2.<span class="title function_">doEncrypt</span>(data,<span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">key</span>,<span class="number">1</span>)</span><br><span class="line">  <span class="keyword">return</span> encryptData</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h6 id="加密完成后赋值给新的对象，该对象为发送对象"><a href="#加密完成后赋值给新的对象，该对象为发送对象" class="headerlink" title="加密完成后赋值给新的对象，该对象为发送对象"></a>加密完成后赋值给新的对象，该对象为发送对象</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">login</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;userForm&#x27;</span>].<span class="title function_">validate</span>(<span class="function">(<span class="params">valid</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">userSend</span>.<span class="property">captcha</span> = <span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">captcha</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">userSend</span>.<span class="property">code</span> = <span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">code</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">userSend</span>.<span class="property">key</span> = <span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">key</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">userSend</span>.<span class="property">email</span> = <span class="variable language_">this</span>.<span class="title function_">doSM2</span>(<span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">email</span>)</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">userSend</span>.<span class="property">password</span> = <span class="variable language_">this</span>.<span class="title function_">doSM2</span>(<span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">password</span>)</span><br><span class="line">            request.<span class="title function_">post</span>(<span class="string">&quot;/user/login&quot;</span>, <span class="variable language_">this</span>.<span class="property">userSend</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="string">&#x27;200&#x27;</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">user</span> = &#123;&#125;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">userSend</span> = &#123;&#125;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">success</span>(res.<span class="property">msg</span>)</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/&quot;</span>)</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(res.<span class="property">msg</span>)</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">user</span> = &#123;&#125;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">userSend</span> = &#123;&#125;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">getCaptcha</span>()</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">getKey</span>()</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br></pre></td></tr></table></figure><h6 id="最后发送时的效果"><a href="#最后发送时的效果" class="headerlink" title="最后发送时的效果"></a>最后发送时的效果</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">captcha<span class="punctuation">:</span> <span class="string">&quot;e5e7bbcb9db6435db5d234d059b4fa32&quot;</span></span><br><span class="line">code<span class="punctuation">:</span> <span class="string">&quot;svku&quot;</span></span><br><span class="line">email<span class="punctuation">:</span> <span class="string">&quot;dba2161072c4650a1e9cf6bfd812b162cb1f8396ffe63f9ac636e9ecb17cb4e4e7cca95852cb1bd1262a54eaeee2b05272f39181e461b34d256e3ade4ab71032146baa68f6ec4040ec87be556a03b2907a6f6dadf4b4a1b9a3f35137ee3ca0d450648d1a9a8ec1a686c865a8e8&quot;</span></span><br><span class="line">key<span class="punctuation">:</span> <span class="string">&quot;0447a7b506bc611fd9b23402321c050e0ad4acc4ade3e05f1b49ca84c43de7f0fa40ba45870c64dac055b23b82bf0858c3026c8d6cc4b600aa16049f048d56bbfa&quot;</span></span><br><span class="line">password<span class="punctuation">:</span> <span class="string">&quot;03cc8340ca06c0e069b3f1edbe9abf038a605894a9c0b856b1273ceb9dbf47aac8333392ceef42df636e079b3721b6510793f8bd0c980bcae4c1d6306a90d0ba972280d818047691ce00e12d8247272e1e0b531edb549d934ce1306d9fe5867a49be2b99d6&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> vue </tag>
            
            <tag> sm2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>element-ui 分页插件</title>
      <link href="/post/23c1a3eb.html"/>
      <url>/post/23c1a3eb.html</url>
      
        <content type="html"><![CDATA[<h1 id="element-ui-分页插件"><a href="#element-ui-分页插件" class="headerlink" title="element-ui 分页插件"></a>element-ui 分页插件</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;pd-10&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-pagination</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">size-change</span>=<span class="string">&quot;(e) =&gt; handleSizeChange(e)&quot;</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">current-change</span>=<span class="string">&quot;handleCurrentChange&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:current-page</span>=<span class="string">&quot;currentPage&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:page-sizes</span>=<span class="string">&quot;[100, 200, 300, 400, 500]&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:page-size</span>=<span class="string">&quot;pageSize&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">layout</span>=<span class="string">&quot;total, sizes, prev, pager, next, jumper&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:total</span>=<span class="string">&quot;total&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">background</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleSizeChange</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">currentPage</span> = <span class="number">1</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pageSize</span> = e</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">load</span>()</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">handleCurrentChange</span>(<span class="params">pageNum</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">currentPage</span> = pageNum</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">load</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> element-ui </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue使用sm2国密加密和后端hutool解密配置</title>
      <link href="/post/7f7fec03.html"/>
      <url>/post/7f7fec03.html</url>
      
        <content type="html"><![CDATA[<h1 id="vue使用sm2国密加密和后端hutool解密配置"><a href="#vue使用sm2国密加密和后端hutool解密配置" class="headerlink" title="vue使用sm2国密加密和后端hutool解密配置"></a>vue使用sm2国密加密和后端hutool解密配置</h1><p>后端pom文件引入相关依赖<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- sm2国密 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.bouncycastle<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>bcprov-jdk15to18<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.69<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><br>结合hutool工具类，获取公钥，在service层<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取公钥q</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> String privatekey;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getSM2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">SM2</span> <span class="variable">sm2</span> <span class="operator">=</span> SmUtil.sm2(); <span class="comment">// 创建密钥</span></span><br><span class="line">    <span class="comment">// sm2的加解密时有两种方式即 C1C2C3前端的就是0、 C1C3C2前端的就是1，</span></span><br><span class="line">    sm2.setMode(SM2Engine.Mode.C1C3C2);</span><br><span class="line">    <span class="comment">// 生成私钥</span></span><br><span class="line">    <span class="built_in">this</span>.privatekey = HexUtil.encodeHexStr(sm2.getPrivateKey().getEncoded());</span><br><span class="line">    <span class="comment">// 生成公钥</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">publickey</span> <span class="operator">=</span> HexUtil.encodeHexStr(sm2.getPublicKey().getEncoded());</span><br><span class="line">    <span class="keyword">return</span> publickey;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 获取公钥q</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> Result <span class="title function_">getSM2</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="type">String</span> <span class="variable">publickey</span> <span class="operator">=</span> <span class="string">&quot;PUBLICKEY&quot;</span>;</span><br><span class="line">      <span class="type">String</span> <span class="variable">privatekey</span> <span class="operator">=</span> <span class="string">&quot;PRIVATEKEY&quot;</span>;</span><br><span class="line">      <span class="type">String</span> <span class="variable">prik</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(privatekey);</span><br><span class="line">      <span class="type">String</span> <span class="variable">pubk</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(publickey);</span><br><span class="line">      <span class="keyword">if</span> (StrUtil.isBlank(prik) || StrUtil.isBlank(pubk)) &#123;</span><br><span class="line">          stringRedisTemplate.delete(publickey);</span><br><span class="line">          stringRedisTemplate.delete(privatekey);</span><br><span class="line">          <span class="type">SM2</span> <span class="variable">sm2</span> <span class="operator">=</span> SmUtil.sm2(); <span class="comment">// 创建密钥</span></span><br><span class="line">          <span class="comment">// sm2的加解密时有两种方式即 C1C2C3前端的就是0、 C1C3C2前端的就是1，</span></span><br><span class="line">          sm2.setMode(SM2Engine.Mode.C1C3C2);</span><br><span class="line">          <span class="comment">// 生成私钥</span></span><br><span class="line">          <span class="type">String</span> <span class="variable">privakey</span> <span class="operator">=</span> HexUtil.encodeHexStr(sm2.getPrivateKey().getEncoded());</span><br><span class="line">          <span class="comment">// 生成公钥</span></span><br><span class="line">          <span class="type">String</span> <span class="variable">publkey</span> <span class="operator">=</span> HexUtil.encodeHexStr(sm2.getPublicKey().getEncoded());</span><br><span class="line">          stringRedisTemplate.opsForValue().set(publickey, publkey);</span><br><span class="line">          stringRedisTemplate.opsForValue().set(privatekey, privakey);</span><br><span class="line">          prik = stringRedisTemplate.opsForValue().get(privatekey);</span><br><span class="line">          pubk = stringRedisTemplate.opsForValue().get(publickey);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> Result.success(pubk);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><br>前端vue下载sm-crypto<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sm-crypto --save</span><br></pre></td></tr></table></figure><br>代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">request.<span class="title function_">get</span>(<span class="string">&quot;/user/sm&quot;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pubk</span> = res.<span class="property">data</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">pubk</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">email</span> = <span class="variable language_">this</span>.<span class="title function_">sm2Encrypt</span>(<span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">email</span>,<span class="variable language_">this</span>.<span class="property">pubk</span>)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">password</span> = <span class="variable language_">this</span>.<span class="title function_">sm2Encrypt</span>(<span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">password</span>,<span class="variable language_">this</span>.<span class="property">pubk</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">email</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">password</span>)</span><br><span class="line"><span class="keyword">return</span></span><br></pre></td></tr></table></figure><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">sm2Encrypt</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> sm2 = <span class="built_in">require</span>(<span class="string">&#x27;sm-crypto&#x27;</span>).<span class="property">sm2</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">pubk</span>)</span><br><span class="line">  <span class="keyword">const</span> cipherMode = <span class="number">1</span>; <span class="comment">// 1 - C1C3C2，0 - C1C2C3，默认为1</span></span><br><span class="line">  <span class="keyword">return</span> sm2.<span class="title function_">doEncrypt</span>(data, <span class="variable language_">this</span>.<span class="property">pubk</span>, cipherMode)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> hutool </tag>
            
            <tag> sm2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>轮廓系数算法(测试KMeans，java实现)</title>
      <link href="/post/cef847c9.html"/>
      <url>/post/cef847c9.html</url>
      
        <content type="html"><![CDATA[<h1 id="轮廓系数算法-测试KMeans，java实现"><a href="#轮廓系数算法-测试KMeans，java实现" class="headerlink" title="轮廓系数算法(测试KMeans，java实现)"></a>轮廓系数算法(测试KMeans，java实现)</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * a(i) - b(i) / max(a(i), b(i))</span></span><br><span class="line"><span class="comment"> * a(i) the average of same cluster</span></span><br><span class="line"><span class="comment"> * b(i) the min average of not same cluster</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> data</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> result</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> flag</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> center</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SilhouetteCoefficient</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;Cluster&gt; clusters;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Point&gt; points = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> List&lt;Point&gt; members = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SilhouetteCoefficient</span><span class="params">(Set&lt;Cluster&gt; clusters)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clusters = clusters;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getEuclideanDis</span><span class="params">(Point point1, Point point2)</span> &#123;</span><br><span class="line">        <span class="type">float</span>[] novelInfo1 = point1.getNovelInfo();</span><br><span class="line">        <span class="type">float</span>[] novelInfo2 = point2.getNovelInfo();</span><br><span class="line">        <span class="type">double</span> <span class="variable">dist_temp</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; novelInfo1.length; i++) &#123;</span><br><span class="line">            dist_temp += Math.pow(novelInfo1[i] - novelInfo2[i], <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.sqrt(dist_temp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> clusters.size();</span><br><span class="line">        Cluster[] clu = <span class="keyword">new</span> <span class="title class_">Cluster</span>[index];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Cluster cluster : clusters) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">clusterId</span> <span class="operator">=</span> cluster.getId();</span><br><span class="line">            members = cluster.getMembers();</span><br><span class="line">            <span class="keyword">for</span> (Point member : members) &#123;</span><br><span class="line">                points.add(member);</span><br><span class="line">            &#125;</span><br><span class="line">            clu[clusterId] = cluster;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; index; i++) &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">inDis</span> <span class="operator">=</span> <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; clu[i].getMembers().size(); j++) &#123;</span><br><span class="line">                inDis = <span class="number">0</span>;</span><br><span class="line">                <span class="type">double</span>[] other = <span class="keyword">new</span> <span class="title class_">double</span>[index];</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">0</span>; y &lt; points.size(); y++) &#123;</span><br><span class="line">                    <span class="type">double</span> <span class="variable">dis</span> <span class="operator">=</span> getEuclideanDis(clu[i].getMembers().get(j), points.get(y));</span><br><span class="line">                    <span class="comment">// 认为是本簇的</span></span><br><span class="line">                    <span class="keyword">if</span> (i == points.get(y).getClusterId()) &#123;</span><br><span class="line">                        inDis += dis;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// 不是本簇的</span></span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; index; k++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (points.get(y).getClusterId() == k) &#123;</span><br><span class="line">                            other[k] += dis;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 点到其它簇点的距离和，用数组other存储</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> <span class="number">0</span>; v &lt; index; v++) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> clu[v].getMembers().size();</span><br><span class="line">                    <span class="type">double</span> <span class="variable">avg_tmp</span> <span class="operator">=</span> other[v] / size;</span><br><span class="line">                    other[v] = avg_tmp;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">double</span> compute_b;</span><br><span class="line">                <span class="type">double</span> temp;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>; b &lt; index - <span class="number">1</span>; b++) &#123;<span class="comment">//</span></span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt; index - <span class="number">1</span> - b; c++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (other[c] &gt; other[c + <span class="number">1</span>]) &#123;</span><br><span class="line">                            temp = other[c];</span><br><span class="line">                            other[c] = other[c + <span class="number">1</span>];</span><br><span class="line">                            other[c + <span class="number">1</span>] = temp;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                compute_b = other[<span class="number">1</span>];</span><br><span class="line">                <span class="type">int</span> <span class="variable">tag</span> <span class="operator">=</span> clu[i].getMembers().size();</span><br><span class="line">                <span class="keyword">if</span> (tag == <span class="number">1</span>) &#123;</span><br><span class="line">                    tag = <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">double</span> <span class="variable">compute_a</span> <span class="operator">=</span> inDis / ( tag - <span class="number">1</span>);</span><br><span class="line">                <span class="type">double</span> <span class="variable">s</span> <span class="operator">=</span> (compute_b - compute_a) / Math.max(compute_a, compute_b);</span><br><span class="line">                sum += s;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum / points.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 轮廓系数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kmeans算法（java实现）</title>
      <link href="/post/b6ce25ff.html"/>
      <url>/post/b6ce25ff.html</url>
      
        <content type="html"><![CDATA[<h1 id="kmeans算法（java实现）"><a href="#kmeans算法（java实现）" class="headerlink" title="kmeans算法（java实现）"></a>kmeans算法（java实现）</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.redbean.noveldata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> redbean</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2022/4/15 - 16:39</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">kMeansTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ArrayList&lt;<span class="type">float</span>[]&gt; dataSet = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;<span class="type">float</span>[]&gt;();</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123;<span class="number">1000025</span>, <span class="number">434464</span>, <span class="number">24143</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123;<span class="number">1000060</span>, <span class="number">557784</span>, <span class="number">62171</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">1</span>, <span class="number">4</span>, <span class="number">4</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">2</span>, <span class="number">6</span>, <span class="number">5</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">3</span>, <span class="number">9</span>, <span class="number">6</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">6</span>, <span class="number">9</span>, <span class="number">7</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">8</span>, <span class="number">2</span>, <span class="number">10</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">9</span>, <span class="number">9</span>, <span class="number">12</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">10</span>, <span class="number">8</span>, <span class="number">112</span>&#125;);</span><br><span class="line">        dataSet.add(<span class="keyword">new</span> <span class="title class_">float</span>[] &#123; <span class="number">11</span>, <span class="number">8</span>, <span class="number">4</span>&#125;);</span><br><span class="line">        <span class="type">KMeans</span> <span class="variable">kMeans</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">KMeans</span>(<span class="number">3</span>, dataSet);</span><br><span class="line">        Set&lt;Cluster&gt; run = kMeans.run();</span><br><span class="line">        System.out.println(<span class="string">&quot;迭代次数：&quot;</span> + kMeans.getIterRunTimes());</span><br><span class="line">        <span class="keyword">for</span> (Cluster cluster : run) &#123;</span><br><span class="line">            System.out.println(cluster.getId());</span><br><span class="line">            System.out.println(cluster.getCenter());</span><br><span class="line">            System.out.println(cluster.getMembers());</span><br><span class="line">            System.out.println(<span class="string">&quot;====================&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span><span class="comment">// 点的格式</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">float</span>[] novelInfo;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">float</span> Id;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> clusterId;  <span class="comment">// 簇id</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">float</span> dist;     <span class="comment">// 与中心簇的欧几里得距离</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Point</span><span class="params">(<span class="type">float</span> Id, <span class="type">float</span>[] novelInfo)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.novelInfo = novelInfo;</span><br><span class="line">        <span class="built_in">this</span>.Id = Id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Point</span><span class="params">(<span class="type">float</span>[] novelInfo)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.Id = -<span class="number">1</span>;       <span class="comment">// 表示不属于任何一个类</span></span><br><span class="line">        <span class="built_in">this</span>.novelInfo = novelInfo;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line">        <span class="comment">// 簇群</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cluster</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id; <span class="comment">// 簇id</span></span><br><span class="line">    <span class="keyword">private</span> Point center; <span class="comment">// 中心簇点</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Point&gt; members = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(); <span class="comment">// 成员</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cluster</span><span class="params">(<span class="type">int</span> id, Point center)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.center = center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cluster</span><span class="params">(<span class="type">int</span> id, Point center, List&lt;Point&gt; members)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.center = center;</span><br><span class="line">        <span class="built_in">this</span>.members = members;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addPoint</span><span class="params">(Point newPoint)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!members.contains(newPoint)) &#123;</span><br><span class="line">            members.add(newPoint);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; 样本数据&#123;&quot;</span> + newPoint + <span class="string">&quot;&#125; 已经存在&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算欧氏距离</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DistanceCompute</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getEuclideanDis</span><span class="params">(Point point1, Point point2)</span> &#123;</span><br><span class="line">        <span class="type">float</span>[] novelInfo1 = point1.getNovelInfo();</span><br><span class="line">        <span class="type">float</span>[] novelInfo2 = point2.getNovelInfo();</span><br><span class="line">        <span class="type">double</span> <span class="variable">dist_temp</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; novelInfo1.length; i++) &#123;</span><br><span class="line">            dist_temp += Math.pow(novelInfo1[i] - novelInfo2[i], <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.sqrt(dist_temp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算类，输入：k，原始数据</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">KMeans</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> kNum;                                    <span class="comment">// 簇的个数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">ITER_SUM</span> <span class="operator">=</span> <span class="number">10</span>;                     <span class="comment">// 迭代次数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">ITER_MAX_TIMES</span> <span class="operator">=</span> <span class="number">1000000000</span>;       <span class="comment">// 单次迭代的最大运行次数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">iterRunTimes</span> <span class="operator">=</span> <span class="number">0</span>;                        <span class="comment">// 单次迭代运行的实际次数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">float</span> <span class="variable">ITER_STOP</span> <span class="operator">=</span> (<span class="type">float</span>) <span class="number">0.01</span>;        <span class="comment">// 单次迭代终止条件，类的距离差</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;<span class="type">float</span>[]&gt; novelData = <span class="literal">null</span>;                <span class="comment">// 原始数据</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;Point&gt; pointList = <span class="literal">null</span>;          <span class="comment">// 原始数据构成的点集合</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">DistanceCompute</span> <span class="variable">distanceCompute</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DistanceCompute</span>();    <span class="comment">// 创建欧氏距离计算</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;                                  <span class="comment">// 每个数据点的维度</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">KMeans</span><span class="params">(<span class="type">int</span> kNum, List&lt;<span class="type">float</span>[]&gt; novelData)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.kNum = kNum;</span><br><span class="line">        <span class="built_in">this</span>.novelData = novelData;</span><br><span class="line">        <span class="comment">// 初始化点集</span></span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将每个原始数据转换为点类</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        pointList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Point&gt;();</span><br><span class="line">        len = novelData.get(<span class="number">0</span>).length - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 将novelid赋值点id，后面的数据赋值给点novelinfo</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp_len</span> <span class="operator">=</span> novelData.get(<span class="number">0</span>).length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = novelData.size(); i &lt; j; i++) &#123;</span><br><span class="line">            <span class="type">float</span>[] tmp = <span class="keyword">new</span> <span class="title class_">float</span>[tmp_len];;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">f</span> <span class="operator">=</span> <span class="number">0</span>; f &lt; tmp_len; f++) &#123;</span><br><span class="line">                tmp[f] = novelData.get(i)[f + <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            pointList.add(<span class="keyword">new</span> <span class="title class_">Point</span>(novelData.get(i)[<span class="number">0</span>], tmp));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第一次，随机选择中心点，构成中心簇点（这个时候一个簇里只有一个点，别的都没有）</span></span><br><span class="line">    <span class="keyword">public</span> Set&lt;Cluster&gt; <span class="title function_">chooseCenterCluster</span><span class="params">()</span> &#123;</span><br><span class="line">        HashSet&lt;Cluster&gt; clusterHashSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Cluster&gt;();</span><br><span class="line">        <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="comment">// 创建k个簇</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> <span class="number">0</span>; id &lt; kNum; ) &#123;</span><br><span class="line">            <span class="comment">// 中心簇点</span></span><br><span class="line">            <span class="type">Point</span> <span class="variable">point</span> <span class="operator">=</span> pointList.get(random.nextInt(pointList.size()));</span><br><span class="line">            <span class="comment">// 标记是否已经选择该数据</span></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (Cluster cluster : clusterHashSet) &#123;</span><br><span class="line">                <span class="keyword">if</span> (cluster.getCenter().equals(point)) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                <span class="type">Cluster</span> <span class="variable">cluster</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cluster</span>(id, point);</span><br><span class="line">                clusterHashSet.add(cluster);</span><br><span class="line">                id++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> clusterHashSet;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对每个点分配一个簇</span></span><br><span class="line">    <span class="comment">// 传入簇</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cluster</span><span class="params">(Set&lt;Cluster&gt; clusterSet)</span> &#123;</span><br><span class="line">        <span class="comment">// 计算每个点到每个中心簇点的欧式距离，并为每个点标记簇号</span></span><br><span class="line">        <span class="keyword">for</span> (Point point : pointList) &#123;</span><br><span class="line">            <span class="type">float</span> <span class="variable">min_dis</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">for</span> (Cluster cluster : clusterSet) &#123;</span><br><span class="line">                <span class="comment">// 跟每个簇心进行欧式距离比较，如果后一个簇心的距离比前一个簇心的距离要小的话，这个点归为后一个簇类中</span></span><br><span class="line">                <span class="comment">// 如果到后一个簇心的距离比到前一个簇心大的话，保持前一个簇心的距离和类别</span></span><br><span class="line">                <span class="type">float</span> <span class="variable">tmp_dis</span> <span class="operator">=</span> (<span class="type">float</span>) Math.min(distanceCompute.getEuclideanDis(point, cluster.getCenter()), min_dis);</span><br><span class="line">                <span class="keyword">if</span> (tmp_dis != min_dis) &#123;</span><br><span class="line">                    min_dis = tmp_dis;</span><br><span class="line">                    point.setClusterId(cluster.getId());</span><br><span class="line">                    point.setDist(min_dis);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 以上操作只是对点进行标记，并没有对簇进行改动</span></span><br><span class="line">        <span class="comment">// 下面清空簇的成员，按照点的簇id重新加载簇</span></span><br><span class="line">        <span class="keyword">for</span> (Cluster cluster : clusterSet) &#123;</span><br><span class="line">            cluster.getMembers().clear();</span><br><span class="line">            <span class="keyword">for</span> (Point point : pointList) &#123;</span><br><span class="line">                <span class="keyword">if</span> (point.getClusterId() == cluster.getId()) &#123;</span><br><span class="line">                    cluster.addPoint(point);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算每个类的中心位置</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">getUpdate</span><span class="params">(Set&lt;Cluster&gt; hashSet)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isNeedIter</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (Cluster cluster : hashSet) &#123;</span><br><span class="line">            List&lt;Point&gt; members = cluster.getMembers();</span><br><span class="line">            <span class="type">float</span>[] sumAll = <span class="keyword">new</span> <span class="title class_">float</span>[len];</span><br><span class="line">            <span class="comment">// 各维度求和，（按簇类的列求和）</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; members.size(); j++) &#123;</span><br><span class="line">                    sumAll[i] += members.get(j).getNovelInfo()[i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 计算平均值</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                sumAll[i] = (<span class="type">float</span>) sumAll[i] / members.size();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 计算新旧簇心的距离，如果距离大于设定的距离ITER_STOP则继续迭代</span></span><br><span class="line">            <span class="keyword">if</span> (distanceCompute.getEuclideanDis(cluster.getCenter(), <span class="keyword">new</span> <span class="title class_">Point</span>(sumAll)) &gt; ITER_STOP) &#123;</span><br><span class="line">                isNeedIter = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 设置簇的中心位置</span></span><br><span class="line">            cluster.setCenter(<span class="keyword">new</span> <span class="title class_">Point</span>(sumAll));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isNeedIter;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 运行kmeans</span></span><br><span class="line">    <span class="keyword">public</span> Set&lt;Cluster&gt; <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        Set&lt;Cluster&gt; clusters = chooseCenterCluster();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">ifNeedIter</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span> (ifNeedIter) &#123;</span><br><span class="line">            cluster(clusters);</span><br><span class="line">            ifNeedIter = getUpdate(clusters);</span><br><span class="line">            iterRunTimes ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> clusters;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回真正的运行次数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getIterRunTimes</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> iterRunTimes;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> kmeans </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pom文件引入相关依赖</title>
      <link href="/post/f9682444.html"/>
      <url>/post/f9682444.html</url>
      
        <content type="html"><![CDATA[<h1 id="pom文件"><a href="#pom文件" class="headerlink" title="pom文件"></a>pom文件</h1><h2 id="引入阿里云下载"><a href="#引入阿里云下载" class="headerlink" title="引入阿里云下载"></a>引入阿里云下载</h2><h3 id="在项目的最后引入"><a href="#在项目的最后引入" class="headerlink" title="在项目的最后引入"></a>在项目的最后引入</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>public<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun nexus<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="引入其它依赖"><a href="#引入其它依赖" class="headerlink" title="引入其它依赖"></a>引入其它依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- swagger --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        hutool工具类--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.hutool<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hutool-all<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.7.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        mp代码生成器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- mp --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- jwt--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.auth0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>java-jwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.10.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- redis --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="引入日志文件"><a href="#引入日志文件" class="headerlink" title="引入日志文件"></a>引入日志文件</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--日志文件--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jcl-over-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.25<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring boot 集成 redis</title>
      <link href="/post/126591a7.html"/>
      <url>/post/126591a7.html</url>
      
        <content type="html"><![CDATA[<h1 id="spring-boot-集成redis"><a href="#spring-boot-集成redis" class="headerlink" title="spring boot 集成redis"></a>spring boot 集成redis</h1><h2 id="pom文件中加入依赖"><a href="#pom文件中加入依赖" class="headerlink" title="pom文件中加入依赖"></a>pom文件中加入依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- redis --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="在application-yml里添加redis相关配置"><a href="#在application-yml里添加redis相关配置" class="headerlink" title="在application.yml里添加redis相关配置"></a>在application.yml里添加redis相关配置</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br></pre></td></tr></table></figure><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><h3 id="在需要引用的业务代码中，比如service层引入"><a href="#在需要引用的业务代码中，比如service层引入" class="headerlink" title="在需要引用的业务代码中，比如service层引入"></a>在需要引用的业务代码中，比如service层引入</h3><hr><p><strong>StringRedisTemplate是专门的string类型，如果有别的类型可以用RedisTemplate</strong><br><strong>因为json数据一般都是string，所以这里就用了StringRedisTemplate</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br></pre></td></tr></table></figure></p><h3 id="StringRedisTemplate中所有的get，set等操作都在ops中"><a href="#StringRedisTemplate中所有的get，set等操作都在ops中" class="headerlink" title="StringRedisTemplate中所有的get，set等操作都在ops中"></a>StringRedisTemplate中所有的get，set等操作都在ops中</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">KEY</span> <span class="operator">=</span> <span class="string">&quot;USER_FIND_ALL&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">userFindAllJsonStr</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(KEY);</span><br><span class="line"></span><br><span class="line">List&lt;SysUser&gt; all = sysUserMapper.findAll();</span><br><span class="line">stringRedisTemplate.opsForValue().set(KEY, JSONUtil.toJsonStr(all));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果要删除的话，delete是在stringRedisTemplate下</span></span><br><span class="line">stringRedisTemplate.delete(KEY);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置过期时间</span></span><br><span class="line">stringRedisTemplate.opsForValue().set(KEY, JSONUtil.toJsonStr(all),<span class="number">60</span>*<span class="number">5</span>, TimeUnit.SECONDS);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">SECONDS 单位：秒</span></span><br><span class="line"><span class="comment">天，小时，分钟在java.util.concurrent.TimeUnit包中都有</span></span><br><span class="line"><span class="comment">这里设置的是过期时间为：5分钟</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="用hutool工具类，可以将我们的string类型转换为泛类型，也可以将泛类型转换为字符串类型"><a href="#用hutool工具类，可以将我们的string类型转换为泛类型，也可以将泛类型转换为字符串类型" class="headerlink" title="用hutool工具类，可以将我们的string类型转换为泛类型，也可以将泛类型转换为字符串类型"></a>用hutool工具类，可以将我们的string类型转换为泛类型，也可以将泛类型转换为字符串类型</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 泛类型转换为字符串</span></span><br><span class="line">JSONUtil.toJsonStr(<span class="keyword">new</span> <span class="title class_">User</span>());</span><br><span class="line"><span class="comment">// 字符串转换为泛类型</span></span><br><span class="line">List&lt;SysUser&gt; all = JSONUtil.toBean(userFindAllJsonStr, <span class="keyword">new</span> <span class="title class_">TypeReference</span>&lt;List&lt;SysUser&gt;&gt;() &#123;&#125;,<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// JSONUtil.toBean(字符串, new TypeReference&lt;类型&gt;() &#123;&#125;,是否忽略错误);</span></span><br></pre></td></tr></table></figure><div class="note warning flat"><p>！！记得new TypeReference&lt;类型&gt;()后面加上{}</p></div>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mp代码生成器</title>
      <link href="/post/3b927c52.html"/>
      <url>/post/3b927c52.html</url>
      
        <content type="html"><![CDATA[<h1 id="mp代码生成器"><a href="#mp代码生成器" class="headerlink" title="mp代码生成器"></a>mp代码生成器</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeGenerator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">scanner</span><span class="params">(String tip)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">help</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        help.append(<span class="string">&quot;请输入&quot;</span> + tip + <span class="string">&quot;：&quot;</span>);</span><br><span class="line">        System.out.println(help.toString());</span><br><span class="line">        <span class="keyword">if</span> (scanner.hasNext()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">ipt</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">            <span class="keyword">if</span> (StringUtils.isNotEmpty(ipt)) &#123;</span><br><span class="line">                <span class="keyword">return</span> ipt;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusException</span>(<span class="string">&quot;请输入正确的&quot;</span> + tip + <span class="string">&quot;!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//  代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//  全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>);</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/java&quot;</span>);</span><br><span class="line">        gc.setAuthor(<span class="string">&quot;作者原创：曹熹&quot;</span>);</span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);</span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);</span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/noveldata?useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai&quot;</span>);</span><br><span class="line">        dsc.setDriverName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">        dsc.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        dsc.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//  包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setModuleName(<span class="literal">null</span>);</span><br><span class="line">        pc.setParent(<span class="string">&quot;com.redbean.noveldata&quot;</span>);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//  自定义配置</span></span><br><span class="line">        <span class="type">InjectionConfig</span> <span class="variable">cfg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InjectionConfig</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initMap</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//  如果模板引擎是 freemarker</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">templatePath</span> <span class="operator">=</span> <span class="string">&quot;/templates/mapper.xml.ftl&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//  自定义输出配置</span></span><br><span class="line">        List&lt;FileOutConfig&gt; focList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//  自定义配置会被优先输出</span></span><br><span class="line">        focList.add(<span class="keyword">new</span> <span class="title class_">FileOutConfig</span>(templatePath) &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> String <span class="title function_">outputFile</span><span class="params">(TableInfo tableInfo)</span> &#123;</span><br><span class="line">                <span class="comment">//  自定义输出文件名，如果你Entity设置了前后缀、此处注意xml的名称会跟着发生变化！！</span></span><br><span class="line">                <span class="keyword">return</span> projectPath + <span class="string">&quot;/src/main/resources/mapper/&quot;</span> + <span class="string">&quot;/&quot;</span> + tableInfo.getEntityName() + <span class="string">&quot;Mapper&quot;</span> + StringPool.DOT_XML;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        cfg.setFileOutConfigList(focList);</span><br><span class="line">        mpg.setCfg(cfg);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//  配置模板</span></span><br><span class="line">        <span class="type">TemplateConfig</span> <span class="variable">templateConfig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplateConfig</span>();</span><br><span class="line"></span><br><span class="line">        templateConfig.setXml(<span class="literal">null</span>);</span><br><span class="line">        mpg.setTemplate(templateConfig);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//  策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">strategy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        strategy.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        strategy.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        strategy.setEntityLombokModel(<span class="literal">true</span>);</span><br><span class="line">        strategy.setRestControllerStyle(<span class="literal">true</span>);</span><br><span class="line">        strategy.setInclude(scanner(<span class="string">&quot;表名，多个英文逗号分割&quot;</span>).split(<span class="string">&quot;,&quot;</span>));</span><br><span class="line">        strategy.setControllerMappingHyphenStyle(<span class="literal">true</span>);</span><br><span class="line">        strategy.setTablePrefix(<span class="string">&quot;m_&quot;</span>);</span><br><span class="line">        mpg.setStrategy(strategy);</span><br><span class="line">        mpg.setTemplateEngine(<span class="keyword">new</span> <span class="title class_">FreemarkerTemplateEngine</span>());</span><br><span class="line">        mpg.execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note warning flat"><p><strong>必须在 spring 的启动类的目录下执行</strong></p></div>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> mybitsplus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SwaggerConfig配置类</title>
      <link href="/post/c81b37f.html"/>
      <url>/post/c81b37f.html</url>
      
        <content type="html"><![CDATA[<h3 id="SwaggerConfig配置类"><a href="#SwaggerConfig配置类" class="headerlink" title="SwaggerConfig配置类"></a>SwaggerConfig配置类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwaggerConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">createRestApi</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2).apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.any())</span><br><span class="line">                .paths(PathSelectors.any()).build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">                .title(<span class="string">&quot;熹烨网络小说分析系统管理API&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;熹烨网络小说分析系统的API文档.&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=" "></a> </h3><h2 id="然后访问localhost-9090-swagger-ui-html"><a href="#然后访问localhost-9090-swagger-ui-html" class="headerlink" title="然后访问localhost:9090/swagger-ui.html"></a>然后访问localhost:9090/swagger-ui.html</h2>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> swagger </tag>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mp启动扫描配置</title>
      <link href="/post/d08f8977.html"/>
      <url>/post/d08f8977.html</url>
      
        <content type="html"><![CDATA[<h1 id="mp启动扫描配置"><a href="#mp启动扫描配置" class="headerlink" title="mp启动扫描配置"></a>mp启动扫描配置</h1><h2 id="MybatisPlusConfig"><a href="#MybatisPlusConfig" class="headerlink" title="MybatisPlusConfig"></a>MybatisPlusConfig</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.redbean.noveldata.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> PaginationInterceptor <span class="title function_">paginationInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">PaginationInterceptor</span> <span class="variable">paginationInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PaginationInterceptor</span>();</span><br><span class="line">        <span class="keyword">return</span> paginationInterceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> mybatisplus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java解决跨域问题</title>
      <link href="/post/86af3585.html"/>
      <url>/post/86af3585.html</url>
      
        <content type="html"><![CDATA[<h1 id="java解决跨域问题"><a href="#java解决跨域问题" class="headerlink" title="java解决跨域问题"></a>java解决跨域问题</h1><h2 id="CorsConfig-java"><a href="#CorsConfig-java" class="headerlink" title="CorsConfig.java"></a>CorsConfig.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CorsConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当前跨域请求最大有效时长。这里默认1天</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">MAX_AGE</span> <span class="operator">=</span> <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> CorsConfiguration <span class="title function_">buildConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">CorsConfiguration</span> <span class="variable">corsConfiguration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CorsConfiguration</span>();</span><br><span class="line">        corsConfiguration.addAllowedOrigin(<span class="string">&quot;*&quot;</span>); <span class="comment">// 1 设置访问源地址</span></span><br><span class="line">        corsConfiguration.addAllowedHeader(<span class="string">&quot;*&quot;</span>); <span class="comment">// 2 设置访问源请求头</span></span><br><span class="line">        corsConfiguration.addAllowedMethod(<span class="string">&quot;*&quot;</span>); <span class="comment">// 3 设置访问源请求方法</span></span><br><span class="line">        corsConfiguration.setMaxAge(MAX_AGE);</span><br><span class="line">        <span class="keyword">return</span> corsConfiguration;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> CorsFilter <span class="title function_">corsFilter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">UrlBasedCorsConfigurationSource</span> <span class="variable">source</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlBasedCorsConfigurationSource</span>();</span><br><span class="line">        source.registerCorsConfiguration(<span class="string">&quot;/**&quot;</span>, buildConfig()); <span class="comment">// 4 对接口配置跨域设置</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CorsFilter</span>(source);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言编程设计</title>
      <link href="/post/9258bace.html"/>
      <url>/post/9258bace.html</url>
      
        <content type="html"><![CDATA[<h2 id="C语言编程设计"><a href="#C语言编程设计" class="headerlink" title="C语言编程设计"></a>C语言编程设计</h2><h3 id="1-C语言程序的结构"><a href="#1-C语言程序的结构" class="headerlink" title="1. C语言程序的结构"></a>1. C语言程序的结构</h3><h4 id="1-1-程序的构成，main函数和其他函数。"><a href="#1-1-程序的构成，main函数和其他函数。" class="headerlink" title="1.1 程序的构成，main函数和其他函数。"></a>1.1 程序的构成，main函数和其他函数。</h4><p>​    C语言是由<strong><u>函数</u></strong>构成的</p><p>​    main函数是启动函数，程序的开始就是从main函数开始，<strong>有且只有一个</strong></p><h4 id="1-2-头文件，数据说明，程序注释。"><a href="#1-2-头文件，数据说明，程序注释。" class="headerlink" title="1.2 头文件，数据说明，程序注释。"></a>1.2 头文件，数据说明，程序注释。</h4><ol><li><p>程序注释</p><p>//双斜杠：单行注释</p><p>/**/：多行注释</p></li></ol><h4 id="1-3-源程序的书写格式。"><a href="#1-3-源程序的书写格式。" class="headerlink" title="1.3 源程序的书写格式。"></a>1.3 源程序的书写格式。</h4><p>​    一行一句，分号结尾，<strong>\反斜杠</strong>代表<strong>续行符</strong></p><h3 id="2-数据类型及其运算"><a href="#2-数据类型及其运算" class="headerlink" title="2. 数据类型及其运算"></a>2. 数据类型及其运算</h3><h4 id="2-1-C语言的基本数据类型及定义方法。"><a href="#2-1-C语言的基本数据类型及定义方法。" class="headerlink" title="2.1 C语言的基本数据类型及定义方法。"></a>2.1 C语言的基本数据类型及定义方法。</h4><p>​    基本数据类型</p><ul><li>char：字符型，占用一个字节</li><li>int：整型，通常反映所用机器中整数的最自然长度，四个字节</li><li>float：单精度浮点型，四个字节</li><li>double：双精度浮点型，八个字节</li><li>_Bool：布尔类型，一个字节</li></ul><p>​     定义方法</p><ul><li>数据类型 变量名<ul><li>int a，unsigned int a</li><li>char b，unsigned char b</li><li>float c</li><li>double d</li></ul></li></ul><p>​    占位符（输出控制符）</p><ul><li>%d：整数值，d表示十进制</li><li>%x：x表示十六进制</li><li>%u：无符号整型（unsigned）</li><li>%c：字符型</li><li>%s：字符串型</li><li>%f：浮点型</li></ul><p><strong><u>注意</u></strong>：%.2f中的2是精确到小数点后二位，<strong>编译器会自动四舍五入</strong>，整数部分有几位就打印出来几位</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> a = <span class="number">5553.1415926</span>;</span><br><span class="line">    <span class="type">double</span> b = <span class="number">3.145</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;它有：%.2f&quot;</span>,a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;四舍五入：%.2f&quot;</span>,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 它有：5553.14</span></span><br><span class="line"><span class="comment">// 四舍五入：3.15</span></span><br></pre></td></tr></table></figure><p>如果是%8.2f：当中8是总宽度(总宽度：小数部分+整数部分+1)，包含小数部分和整数部分，如果大于显示的数，则用空格表示</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> a = <span class="number">5553.1455926</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%8.2f&quot;</span>,a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 空格5553.15</span></span><br></pre></td></tr></table></figure><p>​    在整数型中有<strong>带符号</strong>和<strong>不带符号（unsigned）</strong>，默认都是带符号整型，<strong>unsigned没有负数</strong></p><h4 id="2-2-C语言运算符的种类、运算优先级和结合性。"><a href="#2-2-C语言运算符的种类、运算优先级和结合性。" class="headerlink" title="2.2 C语言运算符的种类、运算优先级和结合性。"></a>2.2 C语言运算符的种类、运算优先级和结合性。</h4><p>​    运算符的种类：<u><strong>算术 &gt; 关系 &gt; 逻辑 &gt; 赋值 &gt; 逗号</strong></u></p><ol><li><p>赋值运算符：=       <strong>优先级第二低，仅高于逗号运算符</strong></p></li><li><p>算术运算符：+、-、<em>、/、%、++、—、*</em>、()、！<b>（取非,不是取反）</b>、sizeof、~</p><ul><li>第一优先级：（）</li><li>第二优先级：++、—、**、！、sizeof(长度运算符)、~(取反运算符)    <b><u>注意：此类运算符运算规则从右向左</u></b></li><li>第三优先级：<em>、/、%(取模，必须为<em>*整型</em></em>运算对象)</li><li>第四优先级：+、-</li></ul></li><li><p>关系运算符：比较两数大小来判断真假</p><ul><li><p>|  &lt;   | （相同）优先级高 |<br>| :—: | :———————: |<br>|  &lt;=  | （相同）优先级高 |<br>|  &gt;   | （相同）优先级高 |<br>|  &gt;=  | （相同）优先级高 |<br>|  ==  | 优先级低（相同） |<br>|  !=  | 优先级低（相同） |</p></li><li><p>比算术运算符低，比赋值运算符高</p></li></ul></li><li><p>逻辑运算符：判断真假</p><ul><li>| 运算符 |  含义  | 优先级 |  举例  |                             说明                             |<br>| :——: | :——: | :——: | :——: | :—————————————————————————————: |<br>|   ！   | 逻辑非 |   高   |   !a   |          如果a为真，!a为假；<br />如果a为假，!a为真          |<br>|   &amp;&amp;   | 逻辑与 |   中   |  a&amp;&amp;b  | 只有a和b同时为真，结果为真；<br />a或b有一个为假，结果为假的 |<br>|  ||  | 逻辑或 |   低   | a||b | 只要a或b有一个为真，结果为真；<br />只有a和b同时为假，结果为假 |</li></ul></li><li><p>条件运算符：条件?真:假</p><ul><li>也叫三目运算符，自右向左运算</li><li>低于关系运算符和算术运算符，但高于赋值运算符</li></ul></li><li><p>逗号运算符：,(自左向右顺序计算)；<strong><u>表达式的值是最后一个表达式的值</u></strong>，<u><strong><em>优先级最低</em></strong></u></p></li></ol><h4 id="2-3-不同类型数据间的转换与运算。"><a href="#2-3-不同类型数据间的转换与运算。" class="headerlink" title="2.3 不同类型数据间的转换与运算。"></a>2.3 不同类型数据间的转换与运算。</h4><p>​    当整型和浮点型计算，自动都转换为浮点型(字节比较大的)计算，例如：1+2.0 ==&gt; 1.0+2.0</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="type">float</span> b = <span class="number">2.0</span>;</span><br><span class="line">    <span class="type">char</span> c = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    <span class="type">int</span> d = <span class="number">97</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;整型结果：%d\n&quot;</span>,a + b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;强制整型：%d\n&quot;</span>,a + (<span class="type">int</span>)b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;浮点型结果：%f\n&quot;</span>,a + b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;char类型强制转换为整型：%d\n&quot;</span>,(<span class="type">int</span>)c);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;整型强制转化为char：%c\n&quot;</span>,(<span class="type">char</span>)d);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">整型结果：0</span></span><br><span class="line"><span class="comment">强制整型：3</span></span><br><span class="line"><span class="comment">浮点型结果：3.000000      </span></span><br><span class="line"><span class="comment">char类型强制转换为整型：97</span></span><br><span class="line"><span class="comment">整型强制转化为char：a </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h4 id="2-4-C语言表达式类型（赋值表达式，算术表达式，关系表达式，逻辑表达式，条件表达式，逗号表达式）和求值规则。"><a href="#2-4-C语言表达式类型（赋值表达式，算术表达式，关系表达式，逻辑表达式，条件表达式，逗号表达式）和求值规则。" class="headerlink" title="2.4 C语言表达式类型（赋值表达式，算术表达式，关系表达式，逻辑表达式，条件表达式，逗号表达式）和求值规则。"></a>2.4 C语言表达式类型（赋值表达式，算术表达式，关系表达式，逻辑表达式，条件表达式，逗号表达式）和求值规则。</h4><ul><li><p>求值规则：<u><strong>算术 &gt; 关系 &gt; 逻辑 &gt; 赋值 &gt; 逗号</strong></u></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 赋值表达式</span></span><br><span class="line">    <span class="type">int</span> a = <span class="number">0</span>,b = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 算术表达式</span></span><br><span class="line">    <span class="type">int</span> c = (!a + b++) % <span class="number">6</span>;     <span class="comment">// 这次运算过后 ==&gt; b = 9</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;算数表达式：%d\n&quot;</span>,c);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    算数表达式：3</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 条件表达式，条件表达式只有0或1，表示真和假</span></span><br><span class="line">    <span class="type">_Bool</span> d = a &lt; b;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;条件表达式：%d\n&quot;</span>,d);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;条件表达式(6&gt;=7)：%d\n&quot;</span>,<span class="number">6</span>&gt;=<span class="number">7</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;条件表达式(33&lt;=66)：%d\n&quot;</span>,<span class="number">33</span>&lt;=<span class="number">66</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;条件表达式(108==108)：%d\n&quot;</span>,<span class="number">108</span>==<span class="number">108</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    条件表达式：1</span></span><br><span class="line"><span class="comment">    条件表达式(6&gt;=7)：0</span></span><br><span class="line"><span class="comment">    条件表达式(33&lt;=66)：1</span></span><br><span class="line"><span class="comment">    条件表达式(108==108)：1</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 逻辑表达式，判断真假，是否满足条件</span></span><br><span class="line">    <span class="comment">// 逻辑表达式两边都得是逻辑值（即0或1），但是不为0的都是真</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;逻辑表达式(3 &gt; 1 &amp;&amp; 1 &lt; 2)：%d\n&quot;</span>,<span class="number">3</span> &gt; <span class="number">1</span> &amp;&amp; <span class="number">1</span> &lt; <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;逻辑表达式(3 + 1 || 2 == 0)：%d\n&quot;</span>,<span class="number">3</span> + <span class="number">1</span> || <span class="number">2</span> == <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;逻辑表达式(!0 + 1 &lt; 1 || !(3 + 4))：%d\n&quot;</span>,!<span class="number">0</span> + <span class="number">1</span> &lt; <span class="number">1</span> || !(<span class="number">3</span> + <span class="number">4</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;逻辑表达式(&#x27;a&#x27; - &#x27;b&#x27; &amp;&amp; &#x27;c&#x27;)：%d\n&quot;</span>,<span class="string">&#x27;a&#x27;</span> - <span class="string">&#x27;b&#x27;</span> &amp;&amp; <span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    逻辑表达式(3 &gt; 1 &amp;&amp; 1 &lt; 2)：1</span></span><br><span class="line"><span class="comment">    逻辑表达式(3 + 1 || 2 == 0)：1</span></span><br><span class="line"><span class="comment">    逻辑表达式(!0 + 1 &lt; 1 || !(3 + 4))：0</span></span><br><span class="line"><span class="comment">    逻辑表达式(&#x27;a&#x27; - &#x27;b&#x27; &amp;&amp; &#x27;c&#x27;)：1</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 短路求值：只有第一个运算的逻辑值无法判断结果，才对第二个运算数进行求职</span></span><br><span class="line">    <span class="comment">// 只要不满足，我就不继续往下判断了</span></span><br><span class="line">    <span class="type">int</span> first = <span class="number">3</span>,second = <span class="number">3</span>;</span><br><span class="line">    (first = <span class="number">0</span>) &amp;&amp; (second = <span class="number">5</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;短路求值((first = 0) &amp;&amp; (second = 5))：first = %d, second = %d\n&quot;</span>,first,second);</span><br><span class="line">    (first = <span class="number">1</span>) || (second = <span class="number">5</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;短路求值((first = 1) || (second = 5))：first = %d, second = %d\n&quot;</span>,first,second);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    短路求值((first = 0) &amp;&amp; (second = 5))：first = 0, second = 3</span></span><br><span class="line"><span class="comment">    短路求值((first = 1) || (second = 5))：first = 1, second = 3</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 条件运算符，及三目运算符（condition？1：0）</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;5 &gt; 6的结果是%d\n&quot;</span>,<span class="number">5</span>&gt;<span class="number">6</span> ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;5 &lt; 6的结果是%d\n&quot;</span>,<span class="number">5</span>&lt;<span class="number">6</span> ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    5 &gt; 6的结果是0</span></span><br><span class="line"><span class="comment">    5 &lt; 6的结果是1</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 逗号表达式，顺序计算，最后一个表达式是最终表达式的值，优先级最低，比赋值还低</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(3+4),(5+6)的值是：%d\n&quot;</span>,((<span class="number">3</span> + <span class="number">4</span>),(<span class="number">5</span> + <span class="number">6</span>)));</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    (3+4),(5+6)的值是：11</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> x,y,z;</span><br><span class="line">    x = <span class="number">1</span>;</span><br><span class="line">    y = <span class="number">1</span>;</span><br><span class="line">    z = x++,y++,++y;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;x=%d,y=%d,z=%d&quot;</span>,x,y,z);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    x=2,y=3,z=1</span></span><br><span class="line"><span class="comment">    因为逗号标识符优先级小于赋值，所以最后z可以看作    (z = x++),y++,++y</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-基本语句"><a href="#3-基本语句" class="headerlink" title="3. 基本语句"></a>3. 基本语句</h3><h4 id="3-1-表达式语句，空语句，复合语句。"><a href="#3-1-表达式语句，空语句，复合语句。" class="headerlink" title="3.1 表达式语句，空语句，复合语句。"></a>3.1 表达式语句，空语句，复合语句。</h4><ul><li><p>在表达式的后边加一个分号“；”就构成了表达式语句，例如  a = a + 1;</p></li><li><p>在C语言中或C++中，如果一个语句只有一个分号“;”，则称该语句为空语句。简单来说，就是没有执行代码，只有一个语句结束的标志“;”分号。</p><p>空语句是什么都不执行的语句。在程序中，空语句主要用来做空循环体，如：while(getchar()!=’\n’);这个语句的功能是，只要从键盘输入的字符不是回车，则要求用户重新输入。即要求用户回车后才会继续后面的程序。在该部分代码中，接收用户按键，判断按键的内容都集中在while判断中，因此，循环体中不再需要执行任何功能。就在循环体中，输入一个空语句作为循环体。</p></li><li><p>复合语句是由若干条语句组合而成的一种语句，在C51中，用一个大括号“{  }”将若干条语句括在一起就形成了一个复合语句，复合语句最后不需要以分号“；”结束，但它内部的各条语句仍需以分号“；”结束。复合语句的一般形式为：</p><p>{</p><p>局部变量定义；</p><p>语句l；</p><p>语句2；</p><p>}</p></li></ul><h4 id="3-2-输入输出函数的调用，正确输入数据并正确设计输出格式。"><a href="#3-2-输入输出函数的调用，正确输入数据并正确设计输出格式。" class="headerlink" title="3.2 输入输出函数的调用，正确输入数据并正确设计输出格式。"></a>3.2 输入输出函数的调用，正确输入数据并正确设计输出格式。</h4><ul><li><p><strong>scanf中变量名前记得+<u><em>&amp;</em></u></strong>，例如scanf(“%d”,<strong>&amp;</strong>age);</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> name[<span class="number">5</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入你的名字：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;name);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入你的年龄：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;age);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (age &gt;= <span class="number">18</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;恭喜您！%s,您已成年，今年%d岁了。&quot;</span>,name,age);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;抱歉，%s，您未成年，还差%d岁成年。&quot;</span>,name,<span class="number">18</span>-age);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">请输入你的名字：cx</span></span><br><span class="line"><span class="comment">请输入你的年龄：16</span></span><br><span class="line"><span class="comment">抱歉，cx，您未成年，还差2岁成年。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">请输入你的名字：cx</span></span><br><span class="line"><span class="comment">请输入你的年龄：18</span></span><br><span class="line"><span class="comment">恭喜您！cx,您已成年，今年18岁了。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="4-选择结构程序设计"><a href="#4-选择结构程序设计" class="headerlink" title="4. 选择结构程序设计"></a>4. 选择结构程序设计</h3><h4 id="4-1-用if语句实现选择结构。"><a href="#4-1-用if语句实现选择结构。" class="headerlink" title="4.1 用if语句实现选择结构。"></a>4.1 用if语句实现选择结构。</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> score = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入分数:&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;score);</span><br><span class="line">    <span class="keyword">if</span> (score &gt;= <span class="number">90</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;您的评价为：A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (score &gt;=<span class="number">80</span> &amp;&amp; score &lt; <span class="number">90</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;您的评价为：B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (score &gt;= <span class="number">60</span> &amp;&amp; score &lt; <span class="number">80</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;您的评价为：C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;您的评价为：D&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">请输入分数:100</span></span><br><span class="line"><span class="comment">您的评价为：A</span></span><br><span class="line"><span class="comment">请输入分数:80</span></span><br><span class="line"><span class="comment">您的评价为：B</span></span><br><span class="line"><span class="comment">请输入分数:60</span></span><br><span class="line"><span class="comment">您的评价为：C</span></span><br><span class="line"><span class="comment">请输入分数:59</span></span><br><span class="line"><span class="comment">您的评价为：D</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h4 id="4-2-用switch语句实现多分支选择结构。"><a href="#4-2-用switch语句实现多分支选择结构。" class="headerlink" title="4.2 用switch语句实现多分支选择结构。"></a>4.2 用switch语句实现多分支选择结构。</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">char</span> score = <span class="string">&#x27;z&#x27;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入成绩：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>,&amp;score);</span><br><span class="line">    <span class="keyword">switch</span> (score) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span> : <span class="built_in">printf</span>(<span class="string">&quot;您的分数在90分以上&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span> : <span class="built_in">printf</span>(<span class="string">&quot;您的分数在80分到90分之间&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span> : <span class="built_in">printf</span>(<span class="string">&quot;您的分数在60分到80分之间&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span> : <span class="built_in">printf</span>(<span class="string">&quot;您的分数在不足60分&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span> : <span class="built_in">printf</span>(<span class="string">&quot;请输入正确的成绩&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">请输入成绩：A</span></span><br><span class="line"><span class="comment">您的分数在90分以上</span></span><br><span class="line"><span class="comment">请输入成绩：a</span></span><br><span class="line"><span class="comment">请输入正确的成绩</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h4 id="4-3-选择结构的嵌套。"><a href="#4-3-选择结构的嵌套。" class="headerlink" title="4.3 选择结构的嵌套。"></a>4.3 选择结构的嵌套。</h4><ul><li><p>嵌套，顾名思义，就是if语句里再套if</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入任意两个整数(中间用空格或回车隔开)：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;a,&amp;b);</span><br><span class="line">    <span class="keyword">if</span> (a != b )&#123;</span><br><span class="line">        <span class="keyword">if</span> (a &gt; b)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d大于%d&quot;</span>,a,b);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (a &lt; b)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d小于%d&quot;</span>,a,b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d等于%d&quot;</span>,a,b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">请输入任意两个整数(中间用空格或回车隔开)：16 16</span></span><br><span class="line"><span class="comment">16等于16</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">请输入任意两个整数(中间用空格或回车隔开)：12</span></span><br><span class="line"><span class="comment">16</span></span><br><span class="line"><span class="comment">12小于16</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">请输入任意两个整数(中间用空格或回车隔开)：16 12</span></span><br><span class="line"><span class="comment">16大于12</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="5-循环结构程序设计"><a href="#5-循环结构程序设计" class="headerlink" title="5. 循环结构程序设计"></a>5. 循环结构程序设计</h3><h4 id="5-1-for循环结构。"><a href="#5-1-for循环结构。" class="headerlink" title="5.1 for循环结构。"></a>5.1 for循环结构。</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d×%d=%d\t&quot;</span>,j,i,i*j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1×1=1</span></span><br><span class="line"><span class="comment">1×2=2   2×2=4</span></span><br><span class="line"><span class="comment">1×3=3   2×3=6   3×3=9</span></span><br><span class="line"><span class="comment">1×4=4   2×4=8   3×4=12  4×4=16</span></span><br><span class="line"><span class="comment">1×5=5   2×5=10  3×5=15  4×5=20  5×5=25</span></span><br><span class="line"><span class="comment">1×6=6   2×6=12  3×6=18  4×6=24  5×6=30  6×6=36</span></span><br><span class="line"><span class="comment">1×7=7   2×7=14  3×7=21  4×7=28  5×7=35  6×7=42  7×7=49</span></span><br><span class="line"><span class="comment">1×8=8   2×8=16  3×8=24  4×8=32  5×8=40  6×8=48  7×8=56  8×8=64</span></span><br><span class="line"><span class="comment">1×9=9   2×9=18  3×9=27  4×9=36  5×9=45  6×9=54  7×9=63  8×9=72  9×9=81</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h4 id="5-2-while和do-while循环结构。"><a href="#5-2-while和do-while循环结构。" class="headerlink" title="5.2 while和do-while循环结构。"></a>5.2 while和do-while循环结构。</h4><ul><li><p>while循环：先判断，后循环</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (count &lt;= <span class="number">100</span>)&#123;</span><br><span class="line">        sum = sum + count;</span><br><span class="line">        count = count + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;从1加到100的结果是：%d\n&quot;</span>,sum);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 例二</span></span><br><span class="line">    count = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入字符串：&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (getchar() != <span class="string">&#x27;\n&#x27;</span>)&#123;</span><br><span class="line">        count = count + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;您一共输入了%d个字符！&quot;</span>,count);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">从1加到100的结果是：5050</span></span><br><span class="line"><span class="comment">请输入字符串：你好</span></span><br><span class="line"><span class="comment">您一共输入了4个字符！</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">从1加到100的结果是：5050</span></span><br><span class="line"><span class="comment">请输入字符串：nihao</span></span><br><span class="line"><span class="comment">您一共输入了5个字符！</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li><li><p>do-while循环：先循环，后判断；记得while语句后有<strong>分号结尾</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// do-while循环,有分号结尾</span></span><br><span class="line">    <span class="type">int</span> password;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请输入密码：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;password);</span><br><span class="line">    &#125;<span class="keyword">while</span> (password != <span class="number">521</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">请输入密码：55</span></span><br><span class="line"><span class="comment">请输入密码：521</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="5-3-continue语句和break语句。"><a href="#5-3-continue语句和break语句。" class="headerlink" title="5.3 continue语句和break语句。"></a>5.3 continue语句和break语句。</h4><ul><li>break语句跳出循环，注意只跳出本层循环，外层循环需要再在外层break<ul><li>终止循环</li></ul></li><li>continue：跳过本次循环，不对循环进行终止</li></ul><h3 id="6-数组的定义和引用"><a href="#6-数组的定义和引用" class="headerlink" title="6. 数组的定义和引用"></a>6. 数组的定义和引用</h3><h4 id="6-1-一维数组的定义、初始化和数组元素的引用。"><a href="#6-1-一维数组的定义、初始化和数组元素的引用。" class="headerlink" title="6.1 一维数组的定义、初始化和数组元素的引用。"></a>6.1 一维数组的定义、初始化和数组元素的引用。</h4><ol><li>一维数组的定义：可变，意思是在定义元素个数时是动态的，定义完成后不可修改<ul><li>类型 数组名[元素个数]</li><li>int a[6];</li><li>char n[33];</li></ul></li><li>初始化：如果不赋值，默认值为0<ul><li>int a[10] = {1,2,3,4,5,6,7,8,9,0};        // 1 2 3 4 5 6 7 8 9 0</li><li>int b[10] = {1,2,3,4,5}                         // 1 2 3 4 5 0 0 0 0 0 </li><li>可以不表明数组长度，int a[] = {1,2,3,4,5}，长度自动计算为5 </li></ul></li><li>引用：<ul><li>数组名[下标]    的格式进行引用</li><li>int a[]={1,2}  —&gt;  a[1] ==&gt; 2</li></ul></li></ol><h4 id="6-2-二维数组的定义、初始化和数组元素的引用。"><a href="#6-2-二维数组的定义、初始化和数组元素的引用。" class="headerlink" title="6.2 二维数组的定义、初始化和数组元素的引用。"></a>6.2 二维数组的定义、初始化和数组元素的引用。</h4><ol><li><p>二维数组的定义</p><ul><li>数据类型    数组名[常量表达式][常量表达式]</li><li>int a[6][6];        //6行6列</li><li>char b[8][8];    //8行8列</li></ul></li><li><p>初始化：<strong>只有第一维度的数值可以不写，其它维度的数值必须写上</strong></p><ul><li><p>int a[][6] = {</p><p>​    {1,2,3,4,5,6},</p><p>​    {7,8,9,10,11,12}</p><p>}            //    这里第一维度自动表示为2，第二个维度必须写上</p></li></ul></li><li><p>数组元素的引用</p><ul><li>数组名[下标][下标]</li><li>a[0][0]      //  访问a数组中第一行第一列的数据</li></ul></li></ol><h4 id="6-3-字符串与字符数组。"><a href="#6-3-字符串与字符数组。" class="headerlink" title="6.3 字符串与字符数组。"></a>6.3 字符串与字符数组。</h4><p>​    字符串中结尾有一个\0结尾，表示读取到\0结束</p><p>​    其中，sizeof和strlen的不同在于，sizeof的结果包含了\0，strlen不包含结尾字符\0</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> a[] = <span class="string">&quot;nihao&quot;</span>;</span><br><span class="line">    <span class="comment">// char a[] = &quot;nihao&quot;;   ==&gt;  char a[] = &#123;&#x27;n&#x27;,&#x27;i&#x27;,&#x27;h&#x27;,&#x27;a&#x27;,&#x27;o&#x27;,&#x27;\0&#x27;&#125;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;英文字符串占字节：%d\n&quot;</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;英文字符串长度(单位：字节)：%d\n&quot;</span>,<span class="built_in">strlen</span>(a));</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> b[] = <span class="string">&quot;你好世界&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;中文字符串占字节：%d\n&quot;</span>,<span class="keyword">sizeof</span>(b));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;中文字符串长度(单位：字节)：%d\n&quot;</span>,<span class="built_in">strlen</span>(b));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">英文字符串占字节：6</span></span><br><span class="line"><span class="comment">英文字符串长度(单位：字节)：5</span></span><br><span class="line"><span class="comment">中文字符串占字节：9</span></span><br><span class="line"><span class="comment">中文字符串长度(单位：字节)：8</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从结果可以看出一个中文占两个字符，英文占一个字符，结尾字符\0也占一个字符</span></span><br></pre></td></tr></table></figure><ul><li>字符串处理函数<ul><li>获取字符串的长度：strlen</li><li>拷贝字符串：strcpy和strncpy</li><li>连接字符串：strcat和strncat</li><li>比较字符串：strcmp和strncmp</li></ul></li></ul><h4 id="6-4-使用一维数组解决批量数据查找或排序等问题。"><a href="#6-4-使用一维数组解决批量数据查找或排序等问题。" class="headerlink" title="6.4 使用一维数组解决批量数据查找或排序等问题。"></a>6.4 使用一维数组解决批量数据查找或排序等问题。</h4><ul><li><p>快速排序：分而治之的思想，先找中间量，然后比中间量大的放在中间量后面，比中间量小的放在中间量前面；然后采用递归，依次排序，直到最后后下标到0和前下标到最后</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">quick_sort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> left, <span class="type">int</span> right)</span>&#123;</span><br><span class="line">    <span class="type">int</span> i = left,j = right;</span><br><span class="line">    <span class="type">int</span> pivot = arr[(left + right) / <span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> temp = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt;= j) &#123;</span><br><span class="line">        <span class="keyword">while</span> (arr[i] &lt; pivot)&#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (arr[j] &gt; pivot)&#123;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i &lt;= j)&#123;</span><br><span class="line">            temp = arr[i];</span><br><span class="line">            arr[i] = arr[j];</span><br><span class="line">            arr[j] = temp;</span><br><span class="line">            i++;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (left &lt; j)&#123;</span><br><span class="line">        quick_sort(arr,left,j);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; right)&#123;</span><br><span class="line">        quick_sort(arr,i,right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">153</span>,<span class="number">261</span>,<span class="number">352</span>,<span class="number">321</span>,<span class="number">46</span>,<span class="number">398</span>,<span class="number">125</span>,<span class="number">526</span>,<span class="number">23</span>,<span class="number">568</span>,<span class="number">521</span>,<span class="number">123</span>&#125;;</span><br><span class="line">    <span class="type">int</span> length = <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">    quick_sort(arr,<span class="number">0</span>,length<span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;排序后的顺序：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length; i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 排序后的顺序：23 46 123 125 153 261 321 352 398 521 526 568 </span></span><br></pre></td></tr></table></figure></li><li><p>冒泡排序：数值像泡泡一样从小到大，一点一点浮现出来；两个相近的数据进行比较，大的调到后面，然后在和后面的进行比较，如果前面那个数值大就和后面的数据进行互换。</p><ul><li>注意的是，如果十个数，排九次即可，所以j &lt; length -1</li><li>每进行一次冒泡，下次排序就可以把最后的排除，就是减去排的次数，所以i &lt; length - j</li><li>第一次排序注意下标越界，所以i &lt; length-1</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">236</span>,<span class="number">251</span>,<span class="number">623</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">365</span>,<span class="number">23</span>,<span class="number">568</span>,<span class="number">124</span>,<span class="number">521</span>,<span class="number">30</span>,<span class="number">128</span>,<span class="number">128</span>&#125;;</span><br><span class="line">    <span class="type">int</span> length = <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; length<span class="number">-1</span>; j++)&#123;<span class="comment">// </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length<span class="number">-1</span>-j; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &gt; arr[i + <span class="number">1</span>])&#123;</span><br><span class="line">                temp = arr[i];</span><br><span class="line">                arr[i] = arr[i + <span class="number">1</span>];</span><br><span class="line">                arr[i + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length; i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 15 20 23 30 124 128 128 236 251 365 521 568 623</span></span><br></pre></td></tr></table></figure></li><li><p>二分查找法：利用查找数和中间数进行比较，比中间数大的，中间数左面的就不要了，继续比对右面的中间数，看看是比右面的中间数大还是小，再舍弃一半，最后确定是否查找数是否存在（<strong>利用下标</strong>）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">binary_search</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> left, <span class="type">int</span> right, <span class="type">int</span> search)</span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right)&#123;<span class="comment">// 这里等于号确保数字在最开始或者最末尾的时候</span></span><br><span class="line">        <span class="type">int</span> middle = (left + right) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (search == arr[middle])&#123;</span><br><span class="line">            <span class="keyword">return</span> middle;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (search &gt; arr[middle])&#123;</span><br><span class="line">            left = middle + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (search &lt; arr[middle])&#123;</span><br><span class="line">            right = middle - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">8</span>,<span class="number">12</span>,<span class="number">16</span>,<span class="number">23</span>,<span class="number">36</span>,<span class="number">38</span>,<span class="number">45</span>,<span class="number">46</span>,<span class="number">52</span>,<span class="number">59</span>,<span class="number">65</span>,<span class="number">66</span>,<span class="number">68</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入一个数：&quot;</span>);</span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">    <span class="type">int</span> length = <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">    <span class="type">int</span> result = binary_search(arr,<span class="number">0</span>,length<span class="number">-1</span>,num);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;查找结果为：第%d个下标&quot;</span>,result);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">请输入一个数：8</span></span><br><span class="line"><span class="comment">查找结果为：第0个下标</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">请输入一个数：66</span></span><br><span class="line"><span class="comment">查找结果为：第11个下标</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">请输入一个数：3</span></span><br><span class="line"><span class="comment">查找结果为：第-1个下标</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="7-函数定义与调用"><a href="#7-函数定义与调用" class="headerlink" title="7. 函数定义与调用"></a>7. 函数定义与调用</h3><h4 id="7-1-库函数的正确调用。"><a href="#7-1-库函数的正确调用。" class="headerlink" title="7.1 库函数的正确调用。"></a>7.1 库函数的正确调用。</h4><p>​    #include &lt;函数库名&gt;</p><h4 id="7-2-用户自定义函数的定义、类型与返回值。"><a href="#7-2-用户自定义函数的定义、类型与返回值。" class="headerlink" title="7.2 用户自定义函数的定义、类型与返回值。"></a>7.2 用户自定义函数的定义、类型与返回值。</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">返回的数据类型 自定义函数名(参数值)&#123;</span><br><span class="line">函数体;</span><br><span class="line">&#125;</span><br><span class="line">例如：</span><br><span class="line">void print_x()&#123;</span><br><span class="line">printf(&quot;##\n&quot;);</span><br><span class="line">printf(&quot; # #\n&quot;);</span><br><span class="line">printf(&quot;  #\n&quot;);</span><br><span class="line">printf(&quot; # #\n&quot;);</span><br><span class="line">printf(&quot;##\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line">注意：如果不写返回类型，默认值为int</span><br></pre></td></tr></table></figure><h4 id="7-3-函数的正确调用、参数的值传递。"><a href="#7-3-函数的正确调用、参数的值传递。" class="headerlink" title="7.3 函数的正确调用、参数的值传递。"></a>7.3 函数的正确调用、参数的值传递。</h4><p>​        正确调用：自定义函数要写在main函数之前，如果写在之后则应在main函数之前<strong>声明</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">print_x</span><span class="params">()</span>;<span class="comment">// 这就是声明，没有函数体</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    print_x(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">print_x</span><span class="params">(<span class="type">int</span> count)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; count; i++)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot; # #\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  #\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot; # #\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;=====================\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> # #</span></span><br><span class="line"><span class="comment">  #</span></span><br><span class="line"><span class="comment"> # #</span></span><br><span class="line"><span class="comment">=====================</span></span><br><span class="line"><span class="comment"> # #</span></span><br><span class="line"><span class="comment">  #</span></span><br><span class="line"><span class="comment"> # #</span></span><br><span class="line"><span class="comment">=====================</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h4 id="7-4-函数的嵌套调用、递归调用。"><a href="#7-4-函数的嵌套调用、递归调用。" class="headerlink" title="7.4 函数的嵌套调用、递归调用。"></a>7.4 函数的嵌套调用、递归调用。</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">factorial</span><span class="params">(<span class="type">int</span> max)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (max == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max * factorial(max - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入阶乘数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;count);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;结果为：%d&quot;</span>,factorial(count));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">请输入阶乘数：5</span></span><br><span class="line"><span class="comment">结果为：120</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h4 id="7-5-局部变量与全局变量。"><a href="#7-5-局部变量与全局变量。" class="headerlink" title="7.5 局部变量与全局变量。"></a>7.5 局部变量与全局变量。</h4><p>​    不同函数的变量无法相互访问</p><p>​    在函数里面定义的叫局部变量，在函数外面定义的叫全局变量，全局变量默认初始化为0</p><p>​    如果在局部变量中有和全局变量名字相同的，编译器不会报错，会暂时屏蔽全局变量</p><p>​    如果函数调用全局变量在定义全局变量之前，则可以使用关键字extern，告诉编译器，我后面定义了，别忙报错</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">a</span><span class="params">()</span>&#123;   <span class="comment">// 调用在全局变量定义之前</span></span><br><span class="line">    <span class="keyword">extern</span> global; <span class="comment">// 后面定义了，此时不要报错</span></span><br><span class="line">    global++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;IN a,blobal = %d\n&quot;</span>,global);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> global = <span class="number">6</span>;     <span class="comment">// 全局变量</span></span><br><span class="line"><span class="type">int</span> undefind_global;<span class="comment">// 未定义的全局变量</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">b</span><span class="params">()</span>&#123;</span><br><span class="line">    undefind_global++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;IN b,undefind_global = %d\n&quot;</span>,undefind_global);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// 测试全局变量默认值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;IN main,undefind_global = %d\n&quot;</span>,undefind_global);</span><br><span class="line">    b();</span><br><span class="line">    <span class="comment">// 调用在全局变量定义之前</span></span><br><span class="line">    a();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">IN main,undefind_global = 0</span></span><br><span class="line"><span class="comment">IN b,undefind_global = 1</span></span><br><span class="line"><span class="comment">IN a,blobal = 7</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>request.js</title>
      <link href="/post/bfb36cc6.html"/>
      <url>/post/bfb36cc6.html</url>
      
        <content type="html"><![CDATA[<h1 id="request-js"><a href="#request-js" class="headerlink" title="request.js"></a>request.js</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> request = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">baseURL</span>: <span class="string">&#x27;http://localhost:9090&#x27;</span>,</span><br><span class="line">    <span class="attr">timeout</span>: <span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// request 拦截器</span></span><br><span class="line"><span class="comment">// 可以自请求发送前对请求做一些处理</span></span><br><span class="line"><span class="comment">// 比如统一加token，对请求参数统一加密</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    config.<span class="property">headers</span>[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;application/json;charset=utf-8&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// config.headers[&#x27;token&#x27;] = user.token;  // 设置请求头</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// response 拦截器</span></span><br><span class="line"><span class="comment">// 可以在接口响应后统一处理结果</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> res = response.<span class="property">data</span>;</span><br><span class="line">        <span class="comment">// 如果是返回的文件</span></span><br><span class="line">        <span class="keyword">if</span> (response.<span class="property">config</span>.<span class="property">responseType</span> === <span class="string">&#x27;blob&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 兼容服务端返回的字符串数据</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> res === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">            res = res ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(res) : res</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="string">&#x27;401&#x27;</span>)&#123;</span><br><span class="line">            <span class="title class_">ElementUI</span>.<span class="property">Message</span>.<span class="title function_">error</span>(res.<span class="title function_">msg</span>())</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;err&#x27;</span> + error) <span class="comment">// for debug</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于使用xftp上传可读文件夹权限不足的问题</title>
      <link href="/post/9842f093.html"/>
      <url>/post/9842f093.html</url>
      
        <content type="html"><![CDATA[<h1 id="关于使用xftp上传可读文件夹权限不足的问题"><a href="#关于使用xftp上传可读文件夹权限不足的问题" class="headerlink" title="关于使用xftp上传可读文件夹权限不足的问题"></a>关于使用xftp上传可读文件夹权限不足的问题</h1><blockquote><p>在打包vue项目时出来一个dist文件夹，我想用xftp直接拖到我的服务器上，发现拖的时候提示我dist文件夹不可读，然后我就想把文件夹的可读属性去掉，但是发现去不掉。。。。一去掉在打开还是勾上了，然后就有了下面这个中折的办法，如果有好的办法，欢迎留言，可能我太笨比了。。。。</p></blockquote><h3 id="1-在本地电脑上用压缩软件给压缩成-tar"><a href="#1-在本地电脑上用压缩软件给压缩成-tar" class="headerlink" title="1. 在本地电脑上用压缩软件给压缩成###.tar"></a>1. 在本地电脑上用压缩软件给压缩成###.tar</h3><h3 id="2-将压缩的-tar用xftp上传到服务器中"><a href="#2-将压缩的-tar用xftp上传到服务器中" class="headerlink" title="2. 将压缩的###.tar用xftp上传到服务器中"></a>2. 将压缩的###.tar用xftp上传到服务器中</h3><h3 id="3-将-tar权限改为777，再去解压就OK了"><a href="#3-将-tar权限改为777，再去解压就OK了" class="headerlink" title="3. 将###.tar权限改为777，再去解压就OK了"></a>3. 将###.tar权限改为777，再去解压就OK了</h3>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> xftp </tag>
            
            <tag> xshell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux下载、安装nginx</title>
      <link href="/post/4a0cedfb.html"/>
      <url>/post/4a0cedfb.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux下载、安装nginx"><a href="#Linux下载、安装nginx" class="headerlink" title="Linux下载、安装nginx"></a>Linux下载、安装nginx</h1><blockquote><p>好的，我们只剩下最后一步，安装配置nginx</p></blockquote><h3 id="1-下载并解压nginx"><a href="#1-下载并解压nginx" class="headerlink" title="1. 下载并解压nginx"></a>1. 下载并解压nginx</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# wget http://nginx.org/download/nginx-1.18.0.tar.gz</span><br><span class="line">[root@cx software-install]# tar -xvf nginx-1.18.0.tar.gz -C /opt/software</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software]# ls</span><br><span class="line">java  nginx-1.18.0  node  python</span><br></pre></td></tr></table></figure><h3 id="2-进入安装目录，执行编译安装"><a href="#2-进入安装目录，执行编译安装" class="headerlink" title="2. 进入安装目录，执行编译安装"></a>2. 进入安装目录，执行编译安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@cx nginx-1.18.0]# ls</span><br><span class="line">auto  CHANGES  CHANGES.ru  conf  configure  contrib  html  LICENSE  man  README  src</span><br><span class="line">[root@cx nginx-1.18.0]# pwd</span><br><span class="line">/opt/software/nginx-1.18.0</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cx nginx-1.18.0]# ./configure </span><br><span class="line">[root@cx nginx-1.18.0]# make</span><br><span class="line">[root@cx nginx-1.18.0]# make install</span><br></pre></td></tr></table></figure><p>如果在执行编译安装时发生错误，则需要安装nginx相关依赖包，然后重新执行编译安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx nginx-1.18.0]# yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel</span><br></pre></td></tr></table></figure><h3 id="3-配置-usr-local-nginx-conf-nginx-conf"><a href="#3-配置-usr-local-nginx-conf-nginx-conf" class="headerlink" title="3. 配置/usr/local/nginx/conf/nginx.conf"></a>3. 配置/usr/local/nginx/conf/nginx.conf</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx novel]# vi /usr/local/nginx/conf/nginx.conf</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  ###.###.###.###; #服务端地址</span><br><span class="line"> </span><br><span class="line">        location / &#123;</span><br><span class="line">            root   html;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查配置文件</span></span><br><span class="line">sudo /usr/local/nginx/sbin/nginx  -t</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">启动</span></span><br><span class="line">sudo /usr/local/nginx/sbin/nginx</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启加载配置</span></span><br><span class="line">sudo /usr/local/nginx/sbin/nginx -s reload</span><br></pre></td></tr></table></figure><h3 id="4-访问-80"><a href="#4-访问-80" class="headerlink" title="4. 访问###.###.###.###:80"></a>4. 访问###.###.###.###:80</h3><p>出现</p><h1 id="Welcome-to-nginx"><a href="#Welcome-to-nginx" class="headerlink" title="Welcome to nginx!"></a>Welcome to nginx!</h1><p>代表安装成功！</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux下载、配置MySQL8.0</title>
      <link href="/post/cdaee8e0.html"/>
      <url>/post/cdaee8e0.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux下载、配置MySQL8-0"><a href="#Linux下载、配置MySQL8-0" class="headerlink" title="Linux下载、配置MySQL8.0"></a>Linux下载、配置MySQL8.0</h1><blockquote><p>基础的环境都搭好了，现在搭一下数据库，用的是mysql</p></blockquote><h3 id="1-查看Linux自带的数据库mariadb并删除"><a href="#1-查看Linux自带的数据库mariadb并删除" class="headerlink" title="1. 查看Linux自带的数据库mariadb并删除"></a>1. 查看Linux自带的数据库mariadb并删除</h3><p>​    这个数据库是mysql一个分支，不需要它给删除</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@cx ~]# rpm -qa|grep mariadb</span><br><span class="line">mariadb-libs-5.5.60-1.el7_5.x86_64</span><br><span class="line">[root@cx ~]# rpm -e --nodeps mariadb-libs-5.5.60-1.el7_5.x86_64</span><br><span class="line">[root@cx ~]# rpm -qa|grep mariadb</span><br><span class="line">[root@cx ~]# </span><br></pre></td></tr></table></figure><p>​    可以看到已经删了，下面就开始下载MySQL</p><p>​    进入下载页：<a href="https://downloads.mysql.com/archives/community/">https://downloads.mysql.com/archives/community/</a></p><p>​    查看Linux版本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cx ~]# uname -a</span><br><span class="line">Linux cx 3.10.0-957.21.3.el7.x86_64 #1 SMP Tue Jun 18 16:35:19 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux</span><br></pre></td></tr></table></figure><p>​    然后就知道要下载的版本了，下载这个：mysql-8.0.21-1.el7.x86_64.rpm-bundle.tar</p><h1 id="切记切记切记，下载的是centos7，看准了版本"><a href="#切记切记切记，下载的是centos7，看准了版本" class="headerlink" title="切记切记切记，下载的是centos7，看准了版本"></a><strong>切记切记切记，下载的是centos7，看准了版本</strong></h1><hr><h3 id="2-在服务器上使用wget下载MySQL"><a href="#2-在服务器上使用wget下载MySQL" class="headerlink" title="2. 在服务器上使用wget下载MySQL"></a>2. 在服务器上使用wget下载MySQL</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# wget https://downloads.mysql.com/archives/get/p/23/file/mysql-8.0.21-1.el7.x86_64.rpm-bundle.tar</span><br></pre></td></tr></table></figure><p>​    等下载完成，查看一下目录下文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# ls</span><br><span class="line">jdk-8u221-linux-x64.rpm  mysql-8.0.21-1.el7.x86_64.rpm-bundle.tar  node-v14.3.0-linux-x64.tar.gz  Python-3.6.3.tgz</span><br></pre></td></tr></table></figure><p>​    可以看到已经下载成功了</p><h3 id="3-安装mysql"><a href="#3-安装mysql" class="headerlink" title="3. 安装mysql"></a>3. 安装mysql</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# tar -xvf mysql-8.0.21-1.el7.x86_64.rpm-bundle.tar -C /opt/temp/</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# ls</span><br><span class="line">mysql-community-client-8.0.21-1.el7.x86_64.rpm           mysql-community-libs-8.0.21-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-common-8.0.21-1.el7.x86_64.rpm           mysql-community-libs-compat-8.0.21-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-devel-8.0.21-1.el7.x86_64.rpm            mysql-community-server-8.0.21-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-embedded-compat-8.0.21-1.el7.x86_64.rpm  mysql-community-test-8.0.21-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure><p>​    依次安装MySQL数据库的mysql common、mysql libs、mysql client软件包，和server</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# rpm -ivh mysql-community-common-8.0.21-1.el7.x86_64.rpm </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# rpm -ivh mysql-community-libs-8.0.21-1.el7.x86_64.rpm </span><br></pre></td></tr></table></figure><p>​    —nodeps：安装不检查依赖问题</p><p>​    —force：强制安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# rpm -ivh mysql-community-client-8.0.21-1.el7.x86_64.rpm </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# rpm -ivh mysql-community-server-8.0.21-1.el7.x86_64.rpm </span><br><span class="line">warning: mysql-community-server-8.0.21-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY</span><br><span class="line">error: Failed dependencies:</span><br><span class="line">libaio.so.1()(64bit) is needed by mysql-community-server-8.0.21-1.el7.x86_64</span><br><span class="line">libaio.so.1(LIBAIO_0.1)(64bit) is needed by mysql-community-server-8.0.21-1.el7.x86_64</span><br><span class="line">libaio.so.1(LIBAIO_0.4)(64bit) is needed by mysql-community-server-8.0.21-1.el7.x86_64</span><br></pre></td></tr></table></figure><p>​    执行出现以上错误，离线安装的mysql缺少libaio.so.1文件</p><p>​    文件地址：<a href="https://pkgs.org/download/libaio.so.1">https://pkgs.org/download/libaio.so.1</a></p><p>​    我们要下载的具体文件的下载页面：<a href="https://centos.pkgs.org/7/centos-x86_64/libaio-0.3.109-13.el7.x86_64.rpm.html">https://centos.pkgs.org/7/centos-x86_64/libaio-0.3.109-13.el7.x86_64.rpm.html</a></p><p>​    具体文件地址：<a href="http://mirror.centos.org/centos/7/os/x86_64/Packages/libaio-0.3.109-13.el7.x86_64.rpm">http://mirror.centos.org/centos/7/os/x86_64/Packages/libaio-0.3.109-13.el7.x86_64.rpm</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# wget http://mirror.centos.org/centos/7/os/x86_64/Packages/libaio-0.3.109-13.el7.x86_64.rpm</span><br><span class="line">[root@cx software-install]# ls</span><br><span class="line">jdk-8u221-linux-x64.rpm           mysql-8.0.21-1.el8.x86_64.rpm-bundle.tar  Python-3.6.3.tgz</span><br><span class="line">libaio-0.3.109-13.el7.x86_64.rpm  node-v14.3.0-linux-x64.tar.gz</span><br></pre></td></tr></table></figure><p>​    进入/opt/software-install目录下，进行下载</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# rpm -ivh libaio-0.3.109-13.el7.x86_64.rpm</span><br><span class="line">[root@cx software-install]# whereis libaio.so.1</span><br><span class="line">libaio.so: /usr/lib64/libaio.so.1</span><br></pre></td></tr></table></figure><p>​    安装libaio并查看是否安装成功</p><p>​    重新执行安装server的命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# rpm -ivh mysql-community-server-8.0.21-1.el7.x86_64.rpm </span><br></pre></td></tr></table></figure><p>​    看到安装成功了</p><p>​    安装完后可以用rpm -qa查看一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# rpm -qa|grep mysql</span><br><span class="line">mysql-community-libs-8.0.21-1.el8.x86_64</span><br><span class="line">mysql-community-server-8.0.21-1.el8.x86_64</span><br><span class="line">mysql-community-common-8.0.21-1.el8.x86_64</span><br><span class="line">mysql-community-client-8.0.21-1.el8.x86_64</span><br></pre></td></tr></table></figure><h3 id="4-初始化mysql数据库"><a href="#4-初始化mysql数据库" class="headerlink" title="4. 初始化mysql数据库"></a>4. 初始化mysql数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# mysqld --initialize;# 初始化</span><br><span class="line">[root@cx temp]# chown mysql:mysql /var/lib/mysql -R;# 授权</span><br><span class="line">[root@cx temp]# systemctl start mysqld# 开启服务</span><br><span class="line">[root@cx temp]# systemctl status mysqld# 查看服务状态</span><br><span class="line">[root@cx temp]# systemctl enable mysql# 开机自启</span><br></pre></td></tr></table></figure><h3 id="5-查看密码，重设置密码"><a href="#5-查看密码，重设置密码" class="headerlink" title="5. 查看密码，重设置密码"></a>5. 查看密码，重设置密码</h3><p>​    查看密码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# cat /var/log/mysqld.log | grep password</span><br><span class="line">2021-11-14T05:16:17.754515Z 6 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: :Cld9aHkri:Q</span><br></pre></td></tr></table></figure><p>​    登录mysql</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@cx temp]# mysql -uroot -p</span><br><span class="line">Enter password: # 密码输入上面的那个，直接复制就行，密码不会显示</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 8</span><br><span class="line">Server version: 8.0.21</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; # 登录成功</span><br></pre></td></tr></table></figure><p>​    修改密码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter user &#x27;root&#x27;@&#x27;localhost&#x27; identified with mysql_native_password by &#x27;密码&#x27;;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure><p>​    退出重新登录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; exit;</span><br><span class="line">Bye</span><br><span class="line">[root@cx temp]# mysql -uroot -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 9</span><br><span class="line">Server version: 8.0.21 MySQL Community Server - GPL</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure><p>​    允许远程访问服务器的MySQL，root是登录账户，%代表任意地址，可以设置你固定的ip地址，密码是远程登录的密码</p><p>​    1. 先创建用户</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create user &#x27;root&#x27;@&#x27;%&#x27; identified with mysql_native_password by &#x27;密码&#x27;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><pre><code> 2. 设置远程访问并用flush privileges;刷新一下</code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; grant all privileges on *.* to &#x27;root&#x27;@&#x27;%&#x27; with grant option;</span><br><span class="line">mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure><h3 id="6-本地数据库可视化软件连接服务器中的MySQL"><a href="#6-本地数据库可视化软件连接服务器中的MySQL" class="headerlink" title="6. 本地数据库可视化软件连接服务器中的MySQL"></a>6. 本地数据库可视化软件连接服务器中的MySQL</h3><p>​    先看一下服务器的防火墙关没关</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld</span><br></pre></td></tr></table></figure><p>​    主要看activate，如果是绿色的表示正在运行，灰色的是关闭的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure><p>‘<br>     关完后去阿里云的控制台，防火墙规则里添加一个规则，开放MySQL的3306端口<br>     <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/2c2edb8cb9a54503ba755956d1743420.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWxvbmVsaWVz,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="阿里"><br>    本地可视化软件连接一下就🆗了<br>    <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/919e5acb7ac342db8349c6fe4d1a4248.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWxvbmVsaWVz,size_17,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="本地"></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python爬虫之数据解析</title>
      <link href="/post/c7266a94.html"/>
      <url>/post/c7266a94.html</url>
      
        <content type="html"><![CDATA[<h1 id="第五章-数据解析"><a href="#第五章-数据解析" class="headerlink" title="第五章 数据解析"></a>第五章 数据解析</h1><blockquote><ol><li>针对文本的解析，有正则表达式</li><li>针对HTML/XML解析有XPath、Beautiful Soup、正则表达式</li><li>针对JSON的解析，有jsonpath</li></ol></blockquote><h2 id="一、正则表达式"><a href="#一、正则表达式" class="headerlink" title="一、正则表达式"></a>一、正则表达式</h2><h3 id="1-导入re模块-用re-search-方法和re-findall-方法"><a href="#1-导入re模块-用re-search-方法和re-findall-方法" class="headerlink" title="1. 导入re模块,用re.search()方法和re.findall()方法"></a>1. 导入re模块,用re.search()方法和re.findall()方法</h3><blockquote><p>re.search(想找的内容,一个整体)这是找第一个，后面的找不到</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">exam = <span class="string">&#x27;pachong&#x27;</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">&#x27;pachonghei pachong&#x27;</span></span><br><span class="line">ret = re.search(exam,<span class="built_in">str</span>)<span class="comment">#从str里找exam，但是只能找到第一个，后一个找不到</span></span><br><span class="line"><span class="built_in">print</span>(ret)</span><br><span class="line"><span class="comment">#&lt;re.Match object; span=(0, 7), match=&#x27;pachong&#x27;&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>re.findall(正则语句,查找的文件)返回所有的符合条件的</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">s = <span class="string">&#x27;waawfajwkfokawh34578fjahwfokfawf&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">r&#x27;(ok)&#x27;</span>,s))<span class="comment">#从s中查找所有的ok字符串,中间用的是正则表达式</span></span><br><span class="line"><span class="comment">#[&#x27;ok&#x27;, &#x27;ok&#x27;]返回的列表</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(re.findall(<span class="string">r&#x27;(ok)&#x27;</span>,s)))<span class="comment">#查看有多少个ok</span></span><br><span class="line"><span class="comment">#2</span></span><br></pre></td></tr></table></figure><blockquote><p>从字符串中提取中文,当中文不连接时，返回的是两个元素的列表</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="comment">#从字符串中提取中文</span></span><br><span class="line">text = <span class="string">&#x27;hello,世界world&#x27;</span></span><br><span class="line"><span class="comment">#1. 通过正则表达式</span></span><br><span class="line">result = re.findall(<span class="string">r&#x27;[\u4e00-\u9fa5]+&#x27;</span>,text)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment">#[&#x27;世界&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ew</span><br><span class="line"><span class="comment">#从字符串中提取中文</span></span><br><span class="line">text = <span class="string">&#x27;hello,世wada界world&#x27;</span></span><br><span class="line"><span class="comment">#1. 通过正则表达式</span></span><br><span class="line">result = re.findall(<span class="string">r&#x27;[\u4e00-\u9fa5]+&#x27;</span>,text)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment">#[&#x27;世&#x27;, &#x27;界&#x27;]</span></span><br></pre></td></tr></table></figure><h2 id="二、XPath和lxml库"><a href="#二、XPath和lxml库" class="headerlink" title="二、XPath和lxml库"></a>二、XPath和lxml库</h2><h3 id="1-XPath语法"><a href="#1-XPath语法" class="headerlink" title="1. XPath语法"></a>1. XPath语法</h3><h4 id="a-选取节点"><a href="#a-选取节点" class="headerlink" title="a)选取节点"></a>a)选取节点</h4><div class="table-container"><table><thead><tr><th style="text-align:center">表达式</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">nodename</td><td style="text-align:left">选取此节点的所有子节点</td></tr><tr><td style="text-align:center">/</td><td style="text-align:left">从根节点选取</td></tr><tr><td style="text-align:center">//</td><td style="text-align:left">从匹配选择的当前节点选取文档中的节点，而不用考虑它们的位置（重要）</td></tr><tr><td style="text-align:center">.</td><td style="text-align:left">选取当前节点（类似于Linux）</td></tr><tr><td style="text-align:center">..</td><td style="text-align:left">选取当前节点的父节点</td></tr><tr><td style="text-align:center">@</td><td style="text-align:left">选取属性</td></tr></tbody></table></div><h4 id="b-谓语"><a href="#b-谓语" class="headerlink" title="b)谓语"></a>b)谓语</h4><div class="table-container"><table><thead><tr><th style="text-align:center">表达式</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:center">/bookstore/book[1]</td><td>选取属于bookstore子元素的第一个book元素</td></tr><tr><td style="text-align:center">/bookstore/book[last()]</td><td>选取属于bookstore子元素的最后一个book元素</td></tr><tr><td style="text-align:center">/bookstore/book[last()-1]</td><td>选取属于bookstore子元素的倒数第二个book元素</td></tr><tr><td style="text-align:center">/bookstore/book[position()&lt;3]</td><td>选取最前面的两个属于bookstore元素的子元素的book元素</td></tr><tr><td style="text-align:center">//title[@lang]</td><td>选取所有的title元素，且这些元素的拥有名称为lang的属性</td></tr><tr><td style="text-align:center">//title[@lang=’eng’]</td><td>选取所有的title元素，且这些元素的拥有值为eng的lang属性</td></tr><tr><td style="text-align:center">/bookstore/book[price&gt;35.00]</td><td>选取bookstore元素的所有book元素，且其中的price元素的值大于35.00</td></tr><tr><td style="text-align:center">/bookstore/book[price&gt;35.00]/title</td><td>选取bookstore元素中book元素的所有title元素，且其中的price元素值必须大于35.00</td></tr></tbody></table></div><h3 id="2-lxml库概述（需要导入lxml-etree模块）"><a href="#2-lxml库概述（需要导入lxml-etree模块）" class="headerlink" title="2. lxml库概述（需要导入lxml.etree模块）"></a>2. lxml库概述（需要导入lxml.etree模块）</h3><blockquote><ol><li>Element类：可以理解为XML的节点</li><li>ElementTree类：可以理解为一个完整的XML文档树</li><li>ElementPath类：可以理解为XPath，用于搜索和定位节点</li></ol></blockquote><h4 id="a-Element类简介"><a href="#a-Element类简介" class="headerlink" title="a)Element类简介"></a>a)Element类简介</h4><blockquote><p>Element类是XML处理的核心类，可以直观的理解为XML节点，大部分XML节点的处理都是围绕篇Element类进行的</p><p>所以，我们要创建一个节点对象</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导入模块etree</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="comment">#1.创建节点 （element对象）</span></span><br><span class="line">root = etree.Element(<span class="string">&#x27;root&#x27;</span>)</span><br></pre></td></tr></table></figure><p>​    上述示例中，参数root表示节点的名称</p><p>​    关于Element类的相关操作，主要可分为三部分，分别是<strong>节点操作、节点属性的操作、节点内文本的操作</strong></p><ol><li><p>节点操作；若要获取节点的名称，可以通过tag属性获取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(root.tag)</span><br><span class="line"><span class="comment">#root</span></span><br><span class="line"><span class="built_in">print</span>(etree.tostring(root))</span><br><span class="line"><span class="comment">#b&#x27;&lt;root/&gt;&#x27;(我感觉这是节点的显示吧。。)</span></span><br><span class="line"><span class="comment">#该函数将元素序列化为XML树的编码字符串表示形式</span></span><br></pre></td></tr></table></figure></li></ol><ol><li><p>节点属性的操作：在创建节点的同时，可以为节点增加属性。节点中的属性是以<strong>键值对</strong>的形式进行存储的，类似于字典的存储方式。通过构造方法创建节点时，可以在该方法中以参数的形式设置属性，其中<strong>参数的名称表示属性的名称，参数的值表示为属性的值</strong>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2.给节点增加属性</span></span><br><span class="line"><span class="comment">#在创建的同时添加属性</span></span><br><span class="line">root = etree.Element(<span class="string">&#x27;root&#x27;</span>,name=<span class="string">&#x27;zhang&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(etree.tostring(root))</span><br><span class="line"><span class="comment">#b&#x27;&lt;root name=&quot;zhang&quot;/&gt;&#x27;</span></span><br></pre></td></tr></table></figure><p>还可以用set()方法，把<strong>属性键值对</strong>增加进已有的节点</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2.2增加属性 set</span></span><br><span class="line">root.<span class="built_in">set</span>(<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;18&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(etree.tostring(root))</span><br><span class="line"><span class="comment">#b&#x27;&lt;root name=&quot;zhang&quot; age=&quot;18&quot;/&gt;&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>节点内文本的操作：一般情况下，可以通过text、tail属性或者xpath()方法来访问文本内容</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#3.添加文本</span></span><br><span class="line">root.text=<span class="string">&#x27;hello,world!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(etree.tostring(root))</span><br><span class="line"><span class="comment">#b&#x27;&lt;root name=&quot;zhang&quot; age=&quot;18&quot;&gt;hello,world!&lt;/root&gt;&#x27;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="b-从字符串或文件中解析XML"><a href="#b-从字符串或文件中解析XML" class="headerlink" title="b)从字符串或文件中解析XML"></a>b)从字符串或文件中解析XML</h4><blockquote><p>为了能够将XML文件解析为树结构，etree模块中提供了如下3个函数</p><pre><code>   1. fromstring()函数：从字符串中解析XML文档或片段，返回根节点   2. XML()函数：从字符串常量中解析XML文档或片段，返回根节点   3. HTML()函数：从字符串常量中解析HTML文档或片段，返回根节点</code></pre><p>其中，XML函数的行为类似于fromstring函数；HTML()函数自动补全缺少的<html>和<body>标签</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lxml <span class="keyword">from</span> etree</span><br><span class="line"><span class="comment">#二、解析xml</span></span><br><span class="line">xml_data=<span class="string">&#x27;&lt;root&gt;&lt;a class=&quot;page&quot;&gt;data&lt;/a&gt;&lt;/root&gt;&#x27;</span></span><br><span class="line"><span class="comment">#方法1:用的是fromstring(),返回根节点</span></span><br><span class="line">element= etree.fromstring(xml_data)</span><br><span class="line"><span class="built_in">print</span>(etree.tostring(element))</span><br><span class="line"><span class="comment">#b&#x27;&lt;root&gt;&lt;a class=&quot;page&quot;&gt;data&lt;/a&gt;&lt;/root&gt;&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法2：用xml函数</span></span><br><span class="line">element = etree.XML(xml_data)</span><br><span class="line"><span class="built_in">print</span>(etree.tostring(element))</span><br><span class="line"><span class="comment">#b&#x27;&lt;root&gt;&lt;a class=&quot;page&quot;&gt;data&lt;/a&gt;&lt;/root&gt;&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法3：html函数，他会自动修正html</span></span><br><span class="line">element = etree.HTML(xml_data)</span><br><span class="line"><span class="built_in">print</span>(etree.tostring(element))</span><br><span class="line"><span class="comment">#b&#x27;&lt;html&gt;&lt;body&gt;&lt;root&gt;&lt;a class=&quot;page&quot;&gt;data&lt;/a&gt;&lt;/root&gt;&lt;/body&gt;&lt;/html&gt;&#x27;</span></span><br></pre></td></tr></table></figure><p>从文件中读取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)<span class="comment">#读取文件</span></span><br></pre></td></tr></table></figure><h4 id="c-ElementPath类简介"><a href="#c-ElementPath类简介" class="headerlink" title="c)ElementPath类简介"></a>c)ElementPath类简介</h4><p>​    ElementTree类中附带了一个类似于XPath路径语言的ElementPath类。现提供以下三个常用的函数：</p><ol><li><p>find()方法：返回匹配的第一个子元素</p><ol><li>findall()方法：以列表的形式返回所有匹配的子元素</li><li>iterfind()方法：返回一个所有匹配元素的迭代器</li></ol></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#三。查找与搜索元素</span></span><br><span class="line">root = etree.XML(<span class="string">&quot;&lt;root&gt;&lt;a x=&#x27;123&#x27;&gt;aText&lt;/a&gt;&lt;a&gt;bText&lt;/a&gt;&lt;/root&gt;&quot;</span>)</span><br><span class="line"><span class="comment">#可以通过xpath（）语法搜元素</span></span><br><span class="line"><span class="built_in">print</span>(root.xpath(<span class="string">&#x27;//a&#x27;</span>)) <span class="comment">#返回列表</span></span><br><span class="line"><span class="built_in">print</span>(root.xpath(<span class="string">&#x27;//a&#x27;</span>)[<span class="number">0</span>].text)</span><br><span class="line"><span class="comment">#find（）方法，返回匹配的第一个子元素</span></span><br><span class="line"><span class="built_in">print</span>(root.find(<span class="string">&#x27;a&#x27;</span>))</span><br><span class="line"><span class="comment">#findall().以列表形式返回所有匹配的子节点</span></span><br><span class="line"><span class="built_in">print</span>(root.findall(<span class="string">&#x27;./a&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#[&lt;Element a at 0x31df388&gt;, &lt;Element a at 0x31df3a8&gt;]</span></span><br><span class="line"><span class="comment">#aText</span></span><br><span class="line"><span class="comment">#&lt;Element a at 0x31df3c8&gt;</span></span><br><span class="line"><span class="comment">#[&lt;Element a at 0x31df388&gt;, &lt;Element a at 0x31df3a8&gt;]</span></span><br></pre></td></tr></table></figure><h3 id="3-lxml库的基本使用"><a href="#3-lxml库的基本使用" class="headerlink" title="3.lxml库的基本使用"></a>3.lxml库的基本使用</h3><blockquote><p>这里有一个测试用例文件，hello.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-0&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link1.html&quot;</span>&gt;</span>first item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link2.html&quot;</span>&gt;</span>second item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-inactive&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link3.html&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;bold&quot;</span>&gt;</span>third item<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link4.html&quot;</span>&gt;</span>fourth item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-0&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link5.html&quot;</span>&gt;</span>fifth item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></blockquote><p>​    首先导入lxml.etree模块</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br></pre></td></tr></table></figure><p>​    读取文件，发现返回的是elementTree，不是element节点</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)<span class="comment">#读取文件</span></span><br><span class="line"><span class="built_in">print</span>(element) <span class="comment">#返回的是elementtree，不是element节点</span></span><br><span class="line"><span class="comment">#&lt;lxml.etree._ElementTree object at 0x00A95908&gt;</span></span><br></pre></td></tr></table></figure><p>​    用xpath()方法，将hello.html文件中与该路径表达式匹配到的列表返回</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.获取所有的li标签</span></span><br><span class="line">li_s = element.xpath(<span class="string">&#x27;//li&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(li_s)<span class="comment">#打印的是列表</span></span><br><span class="line"><span class="comment">#[&lt;Element li at 0x2e9f328&gt;, &lt;Element li at 0x2e9f388&gt;, &lt;Element li at 0x2e9f3a8&gt;, &lt;Element li at 0x2e9f3c8&gt;, &lt;Element li at 0x2e9f3e8&gt;]这里返回的是列表，不是里面的值</span></span><br><span class="line"><span class="built_in">print</span>(li_s[<span class="number">0</span>])<span class="comment">#拿第一个</span></span><br><span class="line"><span class="comment">#&lt;Element li at 0x2e9f328&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2. 获取所有li元素的class属性</span></span><br><span class="line">lis_class = element.xpath(<span class="string">&#x27;//li/@class&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(lis_class)</span><br><span class="line"><span class="comment">#[&#x27;item-0&#x27;, &#x27;item-1&#x27;, &#x27;item-inactive&#x27;, &#x27;item-1&#x27;, &#x27;item-0&#x27;]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#3. 获取li标签下的所有a标签</span></span><br><span class="line"><span class="built_in">print</span>(element.xpath(<span class="string">&#x27;//li/a&#x27;</span>))<span class="comment">#返回的是列表</span></span><br><span class="line"><span class="comment">#[&lt;Element a at 0x2e9f5a8&gt;, &lt;Element a at 0x2e9f4c8&gt;, &lt;Element a at 0x2e9f5c8&gt;, &lt;Element a at 0x2e9f5e8&gt;, &lt;Element a at 0x2e9f608&gt;]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4. 获取倒数第二个li标签下的a标签的文本</span></span><br><span class="line"><span class="comment">#4.1 方式1</span></span><br><span class="line"><span class="comment">#//li[last()-1]/a返回的是列表，要用数组去拿一下</span></span><br><span class="line">last_two_a = element.xpath(<span class="string">&#x27;//li[last()-1]/a&#x27;</span>)[<span class="number">0</span>].text</span><br><span class="line"><span class="built_in">print</span>(last_two_a)</span><br><span class="line"><span class="comment">#fourth item</span></span><br><span class="line"><span class="comment">#4.2 方式2 text()方法拿到的也是列表，要用数组读取</span></span><br><span class="line"><span class="built_in">print</span>(element.xpath(<span class="string">&#x27;//li[last()-1]/a/text()&#x27;</span>))</span><br><span class="line"><span class="comment">#[&#x27;fourth item&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(element.xpath(<span class="string">&#x27;//li[last()-1]/a/text()&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line"><span class="comment">#fourth item</span></span><br></pre></td></tr></table></figure><h2 id="三、Beautiful-Soup"><a href="#三、Beautiful-Soup" class="headerlink" title="三、Beautiful Soup"></a>三、Beautiful Soup</h2><blockquote><p>Beautiful Soup 和lxml库功能相似，但是Beautiful Soup 使用起来更加简洁方便</p><p>需安装<strong>beautifulsoup4和bs4</strong></p></blockquote><h3 id="1-导入bs4-beautifuSoup"><a href="#1-导入bs4-beautifuSoup" class="headerlink" title="1. 导入bs4.beautifuSoup"></a>1. 导入bs4.beautifuSoup</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br></pre></td></tr></table></figure><h3 id="2-测试用例（‘’‘三个点表示原样式写入）"><a href="#2-测试用例（‘’‘三个点表示原样式写入）" class="headerlink" title="2. 测试用例（‘’‘三个点表示原样式写入）"></a>2. 测试用例（‘’‘三个点表示原样式写入）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">html = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;title&quot; name=&quot;dormouse&quot;&gt;&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;sotry&quot;&gt;Once upon a time there were three little sisters;and their names were</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="string">and they lived at the bottom of a well.&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><h3 id="3-构造beautifulSoup对象"><a href="#3-构造beautifulSoup对象" class="headerlink" title="3. 构造beautifulSoup对象"></a>3. 构造beautifulSoup对象</h3><p>BeautifulSoup(html,’lxml’),html是页面的代码(表示要解析的文档字符串或文件对象)，lxml是解析的的解析器，自动补全标签</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#构造beautifulsoup对象</span></span><br><span class="line">bs = BeautifulSoup(html,<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(bs)</span><br><span class="line"><span class="comment">#&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="comment">#&lt;body&gt;</span></span><br><span class="line"><span class="comment">#&lt;p class=&quot;title&quot; name=&quot;dormouse&quot;&gt;&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="comment">#&lt;p class=&quot;sotry&quot;&gt;Once upon a time there were three little sisters;and their names were</span></span><br><span class="line"><span class="comment">#&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="comment">#&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="comment">#&lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="comment">#and they lived at the bottom of a well.&lt;/p&gt;</span></span><br><span class="line"><span class="comment">#&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="comment">#&lt;/body&gt;&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><p>可以用本地的HTML文件来构造beautifulsoup对象</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bs = BeautifulSoup(<span class="built_in">open</span>(<span class="string">&#x27;index.html&#x27;</span>),<span class="string">&#x27;lxml&#x27;</span>)</span><br></pre></td></tr></table></figure><p>格式化输出，用的是prettify()方法，输出的形式就类似于页面代码的格式，方便查看</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(bs.prettify())<span class="comment">#美观显示</span></span><br></pre></td></tr></table></figure><h3 id="4-三个获取-获取节点、获取文本字符串、获取注释"><a href="#4-三个获取-获取节点、获取文本字符串、获取注释" class="headerlink" title="4. 三个获取(获取节点、获取文本字符串、获取注释)"></a>4. 三个获取(获取节点、获取文本字符串、获取注释)</h3><ol><li><p>获取节点，bs.属性标签（<strong>如果有多个标签，只取第一个</strong>）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(bs.p)     <span class="comment">#如果有多个标签，只取第一个</span></span><br><span class="line"><span class="comment">#&lt;p class=&quot;title&quot; name=&quot;dormouse&quot;&gt;&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;&lt;/p&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(bs.a.name)<span class="comment">#获取标签名称</span></span><br><span class="line"><span class="comment">#a</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(bs.a.attrs)<span class="comment">#获取标签的所有属性</span></span><br><span class="line"><span class="comment">#&#123;&#x27;href&#x27;: &#x27;http://example.com/elsie&#x27;, &#x27;class&#x27;: [&#x27;sister&#x27;], &#x27;id&#x27;: &#x27;link1&#x27;&#125;</span></span><br></pre></td></tr></table></figure><ol><li>获取文本字符串，用的.string</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title = bs.title.string</span><br><span class="line"><span class="built_in">print</span>(title)</span><br><span class="line"><span class="comment">#The Dormouse&#x27;s story</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(title.find_parent()) <span class="comment">#获取父节点</span></span><br><span class="line"><span class="comment">#&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#如果没有下一节点，就会找父亲的下一节点，如果还是没有，会找爷爷的下一节点</span></span><br><span class="line"><span class="built_in">print</span>(title.find_next())   <span class="comment">#获取下一个节点（下一节点的意思是“兄弟”）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;body&gt;</span></span><br><span class="line"><span class="comment">#&lt;p class=&quot;title&quot; name=&quot;dormouse&quot;&gt;&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="comment">#&lt;p class=&quot;sotry&quot;&gt;Once upon a time there were three little sisters;and their names were</span></span><br><span class="line"><span class="comment">#&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="comment">#&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="comment">#&lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="comment">#and they lived at the bottom of a well.&lt;/p&gt;</span></span><br><span class="line"><span class="comment">#&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="comment">#&lt;/body&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#因为title的下一节点没有，就去找了head标签的下一个节点，head标签下也没有下一节点，就去html节点下找，然后找到了body</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(title.find_previous())<span class="comment">#获取上一节点(父节点)</span></span><br><span class="line"><span class="comment">##&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;</span></span><br></pre></td></tr></table></figure><ol><li>获取注释的内容（也就是说<strong>.string方法不规避注释</strong>）</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#3. 注释</span></span><br><span class="line"><span class="built_in">print</span>(bs.a.string)</span><br><span class="line"><span class="comment"># Elsie </span></span><br><span class="line"><span class="comment">#这里获取的是第一个a标签，而第一个a标签中是注释的内容，正好获取了注释的内容</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="5-通过操作方法进行解读搜索"><a href="#5-通过操作方法进行解读搜索" class="headerlink" title="5. 通过操作方法进行解读搜索"></a>5. 通过操作方法进行解读搜索</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">bs = BeautifulSoup(<span class="built_in">open</span>(<span class="string">&#x27;index.html&#x27;</span>),<span class="string">&#x27;lxml&#x27;</span>)</span><br></pre></td></tr></table></figure><p>​    实际上，网页中有用的信息都存在于网页中的文本或者各种不同的标签的属性值，为了能够得到这些有用的网页信息，可以通过一些查找方法获取文本或者标签属性。因此，bs4库内置了一些方法，常用的有这两个方法：</p><p>​    (1) find()方法：用于查找符合查询条件的第一个标签节点。</p><p>​    (2) find_all()方法：查找所有符合查询条件的标签节点，并返回一个列表    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find_all</span>(<span class="params">self, name=<span class="literal">None</span>, attrs=&#123;&#125;, recursive=<span class="literal">True</span>, text=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">             limit=<span class="literal">None</span>, **kwargs</span>)</span><br></pre></td></tr></table></figure><ol><li><p>name参数，查找所有名字为name的标签，但<strong>字符串会被自动忽略</strong>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.1 标签名</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(<span class="string">&#x27;a&#x27;</span>))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.2 正则 必须是编译后的正则 </span></span><br><span class="line"><span class="comment"># 查找以b开头的标签</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(re.<span class="built_in">compile</span>(<span class="string">&#x27;^b&#x27;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;div data-foo=&quot;value&quot;&gt;foo!&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;title&quot; name=&quot;dormouse&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;</span></span><br><span class="line"><span class="string">&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;sotry&quot;&gt;Once upon a time there were three little sisters;and their names were</span></span><br><span class="line"><span class="string">        &lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,</span></span><br><span class="line"><span class="string">        &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="string">        &lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="string">        and they lived at the bottom of a well.</span></span><br><span class="line"><span class="string">    &lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;, </span></span><br><span class="line"><span class="string">&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.3 列表</span></span><br><span class="line"><span class="comment"># 查找a标签和b标签</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all([<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>]))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>kwargs：根据属性进行查找</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2.1 直接传入属性值</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(<span class="built_in">id</span>=<span class="string">&#x27;link2&#x27;</span>))</span><br><span class="line"><span class="comment">#[&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2.2 传入编译后的正则</span></span><br><span class="line"><span class="comment">#查找href属性包含elsie的标签</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(href=re.<span class="built_in">compile</span>(<span class="string">&#x27;elsie&#x27;</span>)))</span><br><span class="line"><span class="comment">#[&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2.3 查找class属性&#x27;sister&#x27;的标签 class是关键字，写成class_</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(class_=<span class="string">&#x27;sister&#x27;</span>))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>attrs：如果某个指定名字的参数不是搜索方法中内置的参数名，那么在进行搜索时，会把该参数当作指定名称中的属性来搜索</p><p>传入的是字典</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2.4 查找data-foo为&#x27;value&#x27;的标签</span></span><br><span class="line">!!!<span class="built_in">print</span>(bs.find_all(data-foo=<span class="string">&#x27;value&#x27;</span>))  <span class="comment">#错，参数不能有中划线</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#3。 attrs:根据属性进行查找，参数是字典</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(attrs=&#123;</span><br><span class="line">    <span class="string">&#x27;data-foo&#x27;</span>:<span class="string">&#x27;value&#x27;</span></span><br><span class="line">&#125;))</span><br><span class="line"><span class="comment">#[&lt;div data-foo=&quot;value&quot;&gt;foo!&lt;/div&gt;]</span></span><br></pre></td></tr></table></figure></li><li><p>text：搜索文档中的字符串内容，可以接受字符串、正则表达式和列表。<strong>此方法不查找注释的内容</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4。 text:根据文本进行查找，可以传入字符串，正则，列表</span></span><br><span class="line"><span class="comment">#4.1 传入字符串 查找内容为&#x27;Lacie&#x27;的标签</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(text=<span class="string">&#x27;Lacie&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(bs.find_all(text=<span class="string">&#x27;Lacie&#x27;</span>)[<span class="number">0</span>].find_parent())</span><br><span class="line"><span class="comment">#[&#x27;Lacie&#x27;]</span></span><br><span class="line"><span class="comment">#&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.2 传入正则</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(text=re.<span class="built_in">compile</span>(<span class="string">&#x27;story&#x27;</span>)))</span><br><span class="line"><span class="comment">#[&quot;The Dormouse&#x27;s story&quot;, &quot;The Dormouse&#x27;s story&quot;]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#4.3 传入列表   text参数不查找注释</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(text=[<span class="string">&#x27;Elsie&#x27;</span>,<span class="string">&#x27;Lacie&#x27;</span>,<span class="string">&#x27;Tillie&#x27;</span>]))</span><br><span class="line"><span class="comment">#[&#x27;Lacie&#x27;, &#x27;Tillie&#x27;]</span></span><br></pre></td></tr></table></figure></li><li><p>limit参数：限制查找的个数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#5 limit:用于限制最多查几个</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(<span class="string">&#x27;a&#x27;</span>,limit=<span class="number">2</span>))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>recursive参数：调用tag的 find_all() 方法时,Beautiful Soup会检索当前tag的所有子孙节点,如果只想搜索tag的直接子节点,可以使用参数 recursive=False</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#6 recursive:是否要递归查找，默认是True,如果指定为False 只能查找直接子标签</span></span><br><span class="line"><span class="built_in">print</span>(bs.find_all(<span class="string">&#x27;title&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(bs.find_all(<span class="string">&#x27;title&#x27;</span>,recursive=<span class="literal">False</span>))</span><br><span class="line"><span class="comment">#[&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;]</span></span><br><span class="line"><span class="comment">#[]</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="6-通过CSS选择器进行搜索"><a href="#6-通过CSS选择器进行搜索" class="headerlink" title="6. 通过CSS选择器进行搜索"></a>6. 通过CSS选择器进行搜索</h3><p>​    为了使用CSS选择器达到筛选节点的目的，在bs4库的BeautifulSoup类中提供了一个<strong>select()方法</strong>，该方法会将搜索到的结果放入<strong>列表</strong>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">html = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    &lt;html&gt;</span></span><br><span class="line"><span class="string">        &lt;head&gt;</span></span><br><span class="line"><span class="string">            &lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;</span></span><br><span class="line"><span class="string">        &lt;/head&gt;</span></span><br><span class="line"><span class="string">    &lt;body&gt;</span></span><br><span class="line"><span class="string">    &lt;div data-foo=&quot;value&quot;&gt;foo!&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;p class=&quot;title&quot; name=&quot;dormouse&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;</span></span><br><span class="line"><span class="string">    &lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;p class=&quot;sotry&quot;&gt;Once upon a time there were three little sisters;and their names were</span></span><br><span class="line"><span class="string">        &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,</span></span><br><span class="line"><span class="string">        &lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="string">        &lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="string">        and they lived at the bottom of a well.</span></span><br><span class="line"><span class="string">    &lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">bs = BeautifulSoup(html,<span class="string">&#x27;lxml&#x27;</span>)</span><br></pre></td></tr></table></figure><ol><li><p>通过标签查找</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(bs.select(<span class="string">&#x27;title&#x27;</span>))</span><br><span class="line"><span class="comment">#[&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;]</span></span><br></pre></td></tr></table></figure><ol><li>通过类名查找</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(bs.select(<span class="string">&#x27;.sister&#x27;</span>))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><ol><li>通过id查找</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(bs.select(<span class="string">&#x27;#link1&#x27;</span>))</span><br><span class="line"><span class="comment">#[&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;]</span></span><br></pre></td></tr></table></figure><ol><li>组合查找</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(bs.select(<span class="string">&#x27;p #link2&#x27;</span>))<span class="comment">#查找p标签下的link2的标签</span></span><br><span class="line"><span class="comment">#[&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></span><br><span class="line"><span class="built_in">print</span>(bs.select(<span class="string">&#x27;head &gt; title&#x27;</span>))<span class="comment">#查找head下的title</span></span><br><span class="line"><span class="comment">#[&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;]</span></span><br><span class="line"><span class="built_in">print</span>(bs.select(<span class="string">&#x27;body &gt; title&#x27;</span>))<span class="comment">#查找body下的title</span></span><br><span class="line"><span class="comment">#[&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;]</span></span><br><span class="line"><span class="built_in">print</span>(bs.select(<span class="string">&#x27;body .sister&#x27;</span>))<span class="comment">#查找body下class为title的标签</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, </span></span><br><span class="line"><span class="string">&lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><ol><li>通过属性查找，查找href=’<a href="http://example.com/elsie&#39;的a标签">http://example.com/elsie&#39;的a标签</a></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(bs.select(<span class="string">&#x27;a[href=&quot;http://example.com/elsie&quot;]&#x27;</span>))</span><br><span class="line"><span class="comment">#[&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;]</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="四、JSONPath和json模块"><a href="#四、JSONPath和json模块" class="headerlink" title="四、JSONPath和json模块"></a>四、JSONPath和json模块</h2><blockquote><p>从Python 2.6 开始加入了json模块，使用import json导入就可以使用。json模块提供了Python 对象的序列化和反序列化功能。</p><p>​    (1) 序列化：将一个python对象编码转换为JSON字符串的过程，<strong>dump()和dumps()</strong></p><p>​    (2)反序列化：将以给JSON字符串解码转换为python对象的过程，<strong>load()和loads()</strong></p></blockquote><h3 id="1-json模块基本运用"><a href="#1-json模块基本运用" class="headerlink" title="1. json模块基本运用"></a>1. json模块基本运用</h3><div class="table-container"><table><thead><tr><th style="text-align:center">函数</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center">loads()</td><td style="text-align:center">将<strong>json字符串</strong>转换为python对象</td></tr><tr><td style="text-align:center">load()</td><td style="text-align:center">将<strong>json文件</strong>转换为python对象</td></tr><tr><td style="text-align:center">dumps()</td><td style="text-align:center">将python类型转换为json字符串</td></tr><tr><td style="text-align:center">dump()</td><td style="text-align:center">将python类型转换为json文件</td></tr></tbody></table></div><h4 id="1-loads-json字符串-gt-python"><a href="#1-loads-json字符串-gt-python" class="headerlink" title="(1) loads() json字符串-&gt;python"></a>(1) loads() json字符串-&gt;python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">json_obj = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;张三&quot;,&quot;age&quot;:18&#125;&#x27;</span></span><br><span class="line">dic = json.loads(json_obj)</span><br><span class="line"><span class="built_in">print</span>(dic)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(dic))</span><br><span class="line"><span class="comment">#&#123;&#x27;name&#x27;: &#x27;张三&#x27;, &#x27;age&#x27;: 16, &#x27;gender&#x27;: &#x27;男&#x27;&#125;</span></span><br><span class="line"><span class="comment">#&lt;class &#x27;dict&#x27;&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-jumps-python-gt-json字符串-！！注意：jumps-方法默认使用ascii码，禁用，使用utf-8编码"><a href="#2-jumps-python-gt-json字符串-！！注意：jumps-方法默认使用ascii码，禁用，使用utf-8编码" class="headerlink" title="(2) jumps() python-&gt;json字符串    ！！注意：jumps()方法默认使用ascii码，禁用，使用utf-8编码"></a>(2) jumps() python-&gt;json字符串    ！！注意：jumps()方法默认使用ascii码，禁用，使用utf-8编码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">json_obj = json.dumps(dic)</span><br><span class="line"><span class="built_in">print</span>(json_obj)</span><br><span class="line"><span class="comment">#&#123;&quot;name&quot;: &quot;\u5f20\u4e09&quot;, &quot;age&quot;: 16, &quot;gender&quot;: &quot;\u7537&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#！！dumps()方法默认使用ascii码,可以禁用，那么以utf-8编码</span></span><br><span class="line"><span class="built_in">print</span>(json.dumps(dic,ensure_ascii=<span class="literal">False</span>))</span><br><span class="line"><span class="comment">#&#123;&quot;name&quot;: &quot;张三&quot;, &quot;age&quot;: 16, &quot;gender&quot;: &quot;男&quot;&#125;</span></span><br></pre></td></tr></table></figure><blockquote><h4 id="这里有个小技巧，可以设置缩进，让json格式看起来更爽洁"><a href="#这里有个小技巧，可以设置缩进，让json格式看起来更爽洁" class="headerlink" title="这里有个小技巧，可以设置缩进，让json格式看起来更爽洁"></a>这里有个小技巧，可以设置缩进，让json格式看起来更爽洁</h4><h4 id="格式化输出，用indent参数设定缩进的空格数，可以设置为2，或者4"><a href="#格式化输出，用indent参数设定缩进的空格数，可以设置为2，或者4" class="headerlink" title="格式化输出，用indent参数设定缩进的空格数，可以设置为2，或者4"></a>格式化输出，用indent参数设定缩进的空格数，可以设置为2，或者4</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(json.dumps(dic,ensure_ascii=<span class="literal">False</span>,indent=<span class="number">4</span>))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string"> &quot;name&quot;: &quot;张三&quot;,</span></span><br><span class="line"><span class="string"> &quot;age&quot;: 16,</span></span><br><span class="line"><span class="string"> &quot;gender&quot;: &quot;男&quot;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="3-dump-python-gt-json文件对象"><a href="#3-dump-python-gt-json文件对象" class="headerlink" title="(3) dump() python-&gt;json文件对象"></a>(3) dump() python-&gt;json文件对象</h4><p>​    打开文件，如没有此文件就创建，如果有就写，with可以自动关闭</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;person.json&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">json.dump(dic,f,ensure_ascii=<span class="literal">False</span>,indent=<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h4 id="4-load-json文件-gt-python"><a href="#4-load-json文件-gt-python" class="headerlink" title="(4) load() json文件-&gt;python"></a>(4) load() json文件-&gt;python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;person.json&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">dic = json.load(f)</span><br><span class="line"><span class="built_in">print</span>(dic)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;&#123;&#x27;name&#x27;: &#x27;张三&#x27;, &#x27;age&#x27;: 16&#125;&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="2-JSONPath简介"><a href="#2-JSONPath简介" class="headerlink" title="2. JSONPath简介"></a>2. JSONPath简介</h3><p>​    JSONPath是一种信息抽取类库，是从JSON文档中抽取指定信息的工具。</p><p>​    要提前安装jsonpath库</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install jsonpath</span><br></pre></td></tr></table></figure><p>​    使用要导入josnpath模块</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jsonpath</span><br></pre></td></tr></table></figure><h3 id="3-JSONPath语法对比"><a href="#3-JSONPath语法对比" class="headerlink" title="3. JSONPath语法对比"></a>3. JSONPath语法对比</h3><blockquote><p>JSON结构清晰，可读性高，复杂度低，非常容易匹配。JSONPath的语法和XPath类似。</p></blockquote><div class="table-container"><table><thead><tr><th style="text-align:center">XPath</th><th style="text-align:center">JSONPath</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center">/</td><td style="text-align:center">$</td><td>根节点</td></tr><tr><td style="text-align:center">.</td><td style="text-align:center">@</td><td>现行节点</td></tr><tr><td style="text-align:center">/</td><td style="text-align:center">.or[]</td><td>取子节点</td></tr><tr><td style="text-align:center">..</td><td style="text-align:center">n/a</td><td>取父节点，JSONPath未支持</td></tr><tr><td style="text-align:center">//</td><td style="text-align:center">..</td><td>不管位置，选择所有符合条件的节点</td></tr><tr><td style="text-align:center">*</td><td style="text-align:center">*</td><td>匹配所有元素节点</td></tr><tr><td style="text-align:center">@</td><td style="text-align:center">n/a</td><td>根据属性访问，JSON不支持，因为JSON是键值对的结构，不需要属性访问</td></tr><tr><td style="text-align:center">[]</td><td style="text-align:center">[]</td><td>迭代器表示(可以在里面做简单的迭代操作，如数组下标、根据内容选值等)</td></tr><tr><td style="text-align:center">\</td><td style="text-align:center"></td><td>[,]</td><td>支持迭代器多选</td></tr><tr><td style="text-align:center">[]</td><td style="text-align:center">?()</td><td>过滤操作</td></tr></tbody></table></div><ol><li><p>首先获得一个json文件，导入json和jsonpath</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> jsonpath</span><br><span class="line">json_str = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">  &quot;store&quot;: &#123;</span></span><br><span class="line"><span class="string">    &quot;book&quot;: [</span></span><br><span class="line"><span class="string">      &#123; &quot;category&quot;:&quot;reference&quot;,</span></span><br><span class="line"><span class="string">        &quot;author&quot;:&quot;Nigel Rees&quot;,</span></span><br><span class="line"><span class="string">        &quot;title&quot;:&quot;Sayings of the Century&quot;,</span></span><br><span class="line"><span class="string">        &quot;price&quot;:8.95</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      &#123; &quot;category&quot;:&quot;fiction&quot;,</span></span><br><span class="line"><span class="string">        &quot;author&quot;:&quot;J. R. R. Tolkien&quot;,</span></span><br><span class="line"><span class="string">        &quot;title&quot;:&quot;The Lord of the Rings&quot;,</span></span><br><span class="line"><span class="string">        &quot;isbn&quot;:&quot;0-395-19395-8&quot;,</span></span><br><span class="line"><span class="string">        &quot;price&quot;:22.99</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    ],</span></span><br><span class="line"><span class="string">    &quot;bicycle&quot;:&#123;</span></span><br><span class="line"><span class="string">      &quot;color&quot;:&quot;red&quot;,</span></span><br><span class="line"><span class="string">      &quot;price&quot;:19.95</span></span><br><span class="line"><span class="string">     &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>将json格式转换为python对象</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">json_param = json.loads(json_str)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(json_param))</span><br><span class="line"><span class="comment">#&lt;class &#x27;dict&#x27;&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>进行jsonpath对文件进行数据解析</p><ol><li><p>查看json_param下的bicycle的color属性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">check_url = <span class="string">&#x27;$.store.bicycle.color&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(jsonpath.jsonpath(json_param,check_url))</span><br><span class="line"><span class="comment">#[&#x27;red&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#或者直接用..进行定位(最好在最前面加个$表示一下在根节点内进行查找)</span></span><br><span class="line">check_url = <span class="string">&#x27;$..color&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(jsonpath.jsonpath(json_param,check_url))</span><br><span class="line"><span class="comment">#[&#x27;red&#x27;]</span></span><br></pre></td></tr></table></figure></li><li><p>输出所有的book</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">check_url = <span class="string">&#x27;$.store.book[*]&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(jsonpath.jsonpath(json_param,check_url))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&#123;&#x27;category&#x27;: &#x27;reference&#x27;, &#x27;author&#x27;: &#x27;Nigel Rees&#x27;, &#x27;title&#x27;: &#x27;Sayings of the Century&#x27;, &#x27;price&#x27;: 8.95&#125;, &#123;&#x27;category&#x27;: &#x27;fiction&#x27;, &#x27;author&#x27;: &#x27;J. R. R. Tolkien&#x27;, &#x27;title&#x27;: &#x27;The Lord of the Rings&#x27;, &#x27;isbn&#x27;: &#x27;0-395-19395-8&#x27;, &#x27;price&#x27;: 22.99&#125;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>输出第一本book，<strong>注意：这里第一个索引是从0开始</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">check_url = <span class="string">&#x27;$.store.book[0]&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(jsonpath.jsonpath(json_param,check_url))</span><br><span class="line"><span class="comment">#[&#123;&#x27;category&#x27;: &#x27;reference&#x27;, &#x27;author&#x27;: &#x27;Nigel Rees&#x27;, &#x27;title&#x27;: &#x27;Sayings of the Century&#x27;, &#x27;price&#x27;: 8.95&#125;]</span></span><br></pre></td></tr></table></figure></li><li><p>输出所有的书名</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">check_url = <span class="string">&#x27;$.store.book[*].title&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(jsonpath.jsonpath(json_param,check_url))</span><br><span class="line"><span class="comment">#[&#x27;Sayings of the Century&#x27;, &#x27;The Lord of the Rings&#x27;]</span></span><br></pre></td></tr></table></figure></li><li><p>过滤 输出book中的price为22.99的所有对象</p><p><strong>?() ?就是那个要找的对象，()是要满足的要求,@要加，表示在book里找。点表示在下一个节点了，也主要要加</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">check_url = <span class="string">&#x27;$.store.book[?(@.price==22.99)]&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(jsonpath.jsonpath(json_param,check_url))</span><br><span class="line"><span class="comment">#[&#123;&#x27;category&#x27;: &#x27;fiction&#x27;, &#x27;author&#x27;: &#x27;J. R. R. Tolkien&#x27;, &#x27;title&#x27;: &#x27;The Lord of the Rings&#x27;, &#x27;isbn&#x27;: &#x27;0-395-19395-8&#x27;, &#x27;price&#x27;: 22.99&#125;]</span></span><br></pre></td></tr></table></figure></li><li><p>输出所有价格小于10的book</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">check_url = <span class="string">&#x27;$.store.book[?(@.price&lt;10)]&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(jsonpath.jsonpath(json_param,check_url))</span><br><span class="line"><span class="comment">#[&#123;&#x27;category&#x27;: &#x27;reference&#x27;, &#x27;author&#x27;: &#x27;Nigel Rees&#x27;, &#x27;title&#x27;: &#x27;Sayings of the Century&#x27;, &#x27;price&#x27;: 8.95&#125;]</span></span><br></pre></td></tr></table></figure></li><li><p>输出所有含有isbn的book</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">check_url = <span class="string">&#x27;$.store.book[?(@.isbn)]&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(jsonpath.jsonpath(json_param,check_url))</span><br><span class="line"><span class="comment">#[&#123;&#x27;category&#x27;: &#x27;fiction&#x27;, &#x27;author&#x27;: &#x27;J. R. R. Tolkien&#x27;, &#x27;title&#x27;: &#x27;The Lord of the Rings&#x27;, &#x27;isbn&#x27;: &#x27;0-395-19395-8&#x27;, &#x27;price&#x27;: 22.99&#125;]</span></span><br></pre></td></tr></table></figure></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>配置selinum环境和安装chromedriver的位置问题</title>
      <link href="/post/c9385a35.html"/>
      <url>/post/c9385a35.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、安装selenium"><a href="#一、安装selenium" class="headerlink" title="一、安装selenium"></a>一、安装selenium</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium</span><br></pre></td></tr></table></figure><h2 id="二、安装chromedriver-win32和phantomjs-2-1-1-windows"><a href="#二、安装chromedriver-win32和phantomjs-2-1-1-windows" class="headerlink" title="二、安装chromedriver_win32和phantomjs-2.1.1-windows"></a>二、安装chromedriver_win32和phantomjs-2.1.1-windows</h2><ol><li>在c盘下新建一个文件夹，取名为driver;如C:\driver</li><li>将两个压缩包解压</li><li>将解压包中的两个exe文件放在C:\driver下</li><li>配置系统变量Path添加C:\driver</li></ol><p>ps:如果不能用的话如下</p><p>在这里下载chromedriver文件：<a href="http://npm.taobao.org/mirrors/chromedriver/">http://npm.taobao.org/mirrors/chromedriver/</a></p><p>​        在python.exe同目录下，把chromeDriver.exe文件放在这里</p><p><strong> ​(注意这里放的位置能放三个地方，一个是随便放一个地方，然后把系统的环境变量引到此位置<br>​        第二个 是放在python.exe存放的位置，第三个则放在项目的目录下) </strong></p>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
            <tag> selinum </tag>
            
            <tag> chromedriver </tag>
            
            <tag> 自动化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux安装、配置node环境</title>
      <link href="/post/bb18755d.html"/>
      <url>/post/bb18755d.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux安装、配置node环境"><a href="#Linux安装、配置node环境" class="headerlink" title="Linux安装、配置node环境"></a>Linux安装、配置node环境</h1><blockquote><p>java和python环境已经配置好了，现在尝试一下配置node环境</p></blockquote><h3 id="1-node下载地址：https-nodejs-org-dist"><a href="#1-node下载地址：https-nodejs-org-dist" class="headerlink" title="1. node下载地址：https://nodejs.org/dist"></a>1. node下载地址：<a href="https://nodejs.org/dist">https://nodejs.org/dist</a></h3><p>​    进入到/opt/software-install目录下执行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# wget https://nodejs.org/dist/v14.3.0/node-v14.3.0-linux-x64.tar.gz</span><br><span class="line">[root@cx software-install]# ls</span><br><span class="line">jdk-8u221-linux-x64.rpm  node-v14.3.0-linux-x64.tar.gz  Python-3.6.3.tgz</span><br></pre></td></tr></table></figure><p>​    等待下载成功后，可以ls看到文件夹下已经有了node安装文件</p><h3 id="2-解压node的安装包"><a href="#2-解压node的安装包" class="headerlink" title="2. 解压node的安装包"></a>2. 解压node的安装包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# tar -zxvf node-v14.3.0-linux-x64.tar.gz /opt/software</span><br></pre></td></tr></table></figure><p>​    等待解压，进入/opt/software目录下可以看到已经生成了文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software]# ls</span><br><span class="line">java  node-v14.3.0-linux-x64  python</span><br></pre></td></tr></table></figure><p>​    更改一下名字，这个名字太长了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software]# mv node-v14.3.0-linux-x64/ node</span><br><span class="line">[root@cx software]# ls</span><br><span class="line">java  node  python</span><br></pre></td></tr></table></figure><h3 id="3-通过修改环境变量来设置node"><a href="#3-通过修改环境变量来设置node" class="headerlink" title="3. 通过修改环境变量来设置node"></a>3. 通过修改环境变量来设置node</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software]# vi /etc/profile</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software]# cat /etc/profile|tail -n 5</span><br><span class="line"></span><br><span class="line">export JAVA_HOME=/opt/software/java</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line"></span><br><span class="line">export PATH=$PATH:/opt/software/node/bin</span><br></pre></td></tr></table></figure><p> 重新加载/etc/profile文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software]# source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="4-查看版本，验证是否安装成功"><a href="#4-查看版本，验证是否安装成功" class="headerlink" title="4. 查看版本，验证是否安装成功"></a>4. 查看版本，验证是否安装成功</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software]# node -v</span><br><span class="line">v14.3.0</span><br><span class="line">[root@cx software]# npm -v</span><br><span class="line">6.14.5</span><br></pre></td></tr></table></figure><p>至此，安装成功</p><p>三句话：下载，解压，配置环境变量</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux下载、配置python环境</title>
      <link href="/post/dc433e44.html"/>
      <url>/post/dc433e44.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux下载、配置python环境"><a href="#Linux下载、配置python环境" class="headerlink" title="Linux下载、配置python环境"></a>Linux下载、配置python环境</h1><blockquote><p>刚刚把java环境配了，现在配python环境</p><p>因为centos7自带python2的环境</p><p>所以我们需要更新一下系统自带的版本</p></blockquote><p>python官网：<a href="https://www.python.org/">https://www.python.org</a></p><h3 id="1-进入-opt-software-install，使用wget命令下载python"><a href="#1-进入-opt-software-install，使用wget命令下载python" class="headerlink" title="1. 进入/opt/software-install，使用wget命令下载python"></a>1. 进入/opt/software-install，使用wget命令下载python</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# wget https://www.python.org/ftp/python/3.6.3/Python-3.6.3.tgz</span><br><span class="line">[root@cx software-install]# ls</span><br><span class="line">jdk-8u221-linux-x64.rpm  Python-3.6.3.tgz</span><br></pre></td></tr></table></figure><h3 id="2-解压到-opt-software下，更名为python"><a href="#2-解压到-opt-software下，更名为python" class="headerlink" title="2. 解压到/opt/software下，更名为python"></a>2. 解压到/opt/software下，更名为python</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# tar -zxvf Python-3.6.3.tgz -C /opt/software</span><br><span class="line">[root@cx software]# ls</span><br><span class="line">java  python</span><br></pre></td></tr></table></figure><h3 id="3-进入到python目录下，安装配置"><a href="#3-进入到python目录下，安装配置" class="headerlink" title="3. 进入到python目录下，安装配置"></a>3. 进入到python目录下，安装配置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@cx python]# ./configure</span><br></pre></td></tr></table></figure><p>​    等待执行完毕</p><h3 id="4-编译并安装"><a href="#4-编译并安装" class="headerlink" title="4. 编译并安装"></a>4. 编译并安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@cx python]# make</span><br><span class="line">[root@cx python]# make install</span><br></pre></td></tr></table></figure><h3 id="5-查看python3安装的位置"><a href="#5-查看python3安装的位置" class="headerlink" title="5. 查看python3安装的位置"></a>5. 查看python3安装的位置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@cx python]# ll /usr/local/bin/python*</span><br><span class="line">lrwxrwxrwx 1 root root        9 Nov 11 22:13 /usr/local/bin/python3 -&gt; python3.6</span><br><span class="line">-rwxr-xr-x 2 root root 12650320 Nov 11 22:12 /usr/local/bin/python3.6</span><br><span class="line">lrwxrwxrwx 1 root root       17 Nov 11 22:13 /usr/local/bin/python3.6-config -&gt; python3.6m-config</span><br><span class="line">-rwxr-xr-x 2 root root 12650320 Nov 11 22:12 /usr/local/bin/python3.6m</span><br><span class="line">-rwxr-xr-x 1 root root     3097 Nov 11 22:13 /usr/local/bin/python3.6m-config</span><br><span class="line">lrwxrwxrwx 1 root root       16 Nov 11 22:13 /usr/local/bin/python3-config -&gt; python3.6-config</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@cx python]# which python</span><br><span class="line">/usr/bin/python</span><br><span class="line">[root@cx python]# ll /usr/bin/python*</span><br><span class="line">lrwxrwxrwx 1 root root   22 Nov 11 22:20 /usr/bin/python -&gt; /usr/local/bin/python3</span><br><span class="line">lrwxrwxrwx 1 root root    9 Jul 11  2019 /usr/bin/python2 -&gt; python2.7</span><br><span class="line">-rwxr-xr-x 1 root root 7216 Jun 21  2019 /usr/bin/python2.7</span><br><span class="line">-rwxr-xr-x 1 root root 1835 Jun 21  2019 /usr/bin/python2.7-config</span><br><span class="line">lrwxrwxrwx 1 root root   16 Jul 11  2019 /usr/bin/python2-config -&gt; python2.7-config</span><br><span class="line">lrwxrwxrwx 1 root root    7 Jul 11  2019 /usr/bin/python.bak -&gt; python2</span><br><span class="line">lrwxrwxrwx 1 root root   14 Jul 11  2019 /usr/bin/python-config -&gt; python2-config</span><br></pre></td></tr></table></figure><p>​    这里我已经配置好了，所以可以看到我的软链接已经指向我新的python3，旧的话应该指的是python2</p><h3 id="6-备份原有配置，设置python默认版本号为3-x"><a href="#6-备份原有配置，设置python默认版本号为3-x" class="headerlink" title="6. 备份原有配置，设置python默认版本号为3.x"></a>6. 备份原有配置，设置python默认版本号为3.x</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv /usr/bin/python /usr/bin/python.bak</span><br><span class="line">ln -s /usr/local/bin/python3 /usr/bin/python</span><br></pre></td></tr></table></figure><h3 id="7-这里使用python-V可以看到版本为python3了"><a href="#7-这里使用python-V可以看到版本为python3了" class="headerlink" title="7. 这里使用python -V可以看到版本为python3了"></a>7. 这里使用python -V可以看到版本为python3了</h3><h3 id="8-查看python2的位置"><a href="#8-查看python2的位置" class="headerlink" title="8. 查看python2的位置"></a>8. 查看python2的位置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@cx python]# ll /usr/bin/python*</span><br><span class="line">lrwxrwxrwx 1 root root   22 Nov 11 22:20 /usr/bin/python -&gt; /usr/local/bin/python3</span><br><span class="line">lrwxrwxrwx 1 root root    9 Jul 11  2019 /usr/bin/python2 -&gt; python2.7</span><br><span class="line">-rwxr-xr-x 1 root root 7216 Jun 21  2019 /usr/bin/python2.7</span><br><span class="line">-rwxr-xr-x 1 root root 1835 Jun 21  2019 /usr/bin/python2.7-config</span><br><span class="line">lrwxrwxrwx 1 root root   16 Jul 11  2019 /usr/bin/python2-config -&gt; python2.7-config</span><br><span class="line">lrwxrwxrwx 1 root root    7 Jul 11  2019 /usr/bin/python.bak -&gt; python2</span><br><span class="line">lrwxrwxrwx 1 root root   14 Jul 11  2019 /usr/bin/python-config -&gt; python2-config</span><br></pre></td></tr></table></figure><h3 id="9-为了使yum命令正常使用，需要将其配置的python依然指向2-x版本"><a href="#9-为了使yum命令正常使用，需要将其配置的python依然指向2-x版本" class="headerlink" title="9. 为了使yum命令正常使用，需要将其配置的python依然指向2.x版本"></a>9. 为了使yum命令正常使用，需要将其配置的python依然指向2.x版本</h3><p>/usr/bin/yum<br>/usr/libexec/urlgrabber-ext-down<br>将上面两个文件的头部文件修改为老版本即可<br>!/usr/bin/python 修改成 !/usr/bin/python2.7</p><p>=======================================================</p><h1 id="新方法"><a href="#新方法" class="headerlink" title="新方法"></a>新方法</h1><p>查看 python 的所在目录<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-2-centos /]# whereis python</span><br><span class="line">python: /usr/bin/python3.6m </span><br><span class="line">/usr/bin/python3.6 </span><br><span class="line">/usr/bin/python </span><br><span class="line">/usr/bin/python2.7-config </span><br><span class="line">/usr/bin/python2.7 </span><br><span class="line">/usr/lib/python3.6 </span><br><span class="line">/usr/lib/python2.7 </span><br><span class="line">/usr/lib64/python3.6 </span><br><span class="line">/usr/lib64/python2.7 </span><br><span class="line">/etc/python </span><br><span class="line">/usr/local/lib/python3.6 </span><br><span class="line">/usr/include/python3.6m </span><br><span class="line">/usr/include/python2.7 </span><br><span class="line">/usr/share/man/man1/python.1.gz</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>这里可以看到 python 在 /usr/bin 目录下</p><p>切换到这个目录<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-2-centos bin]# ll python*</span><br><span class="line">lrwxrwxrwx 1 root root     7 Jan  8  2021 python -&gt; python2</span><br><span class="line">lrwxrwxrwx 1 root root     9 Jan  8  2021 python2 -&gt; python2.7</span><br><span class="line">-rwxr-xr-x 1 root root  7144 Nov 17  2020 python2.7</span><br><span class="line">-rwxr-xr-x 1 root root  1835 Nov 17  2020 python2.7-config</span><br><span class="line">lrwxrwxrwx 1 root root    16 Jan  8  2021 python2-config -&gt; python2.7-config</span><br><span class="line">lrwxrwxrwx 1 root root     9 Jan  8  2021 python3 -&gt; python3.6</span><br><span class="line">-rwxr-xr-x 2 root root 11328 Nov 17  2020 python3.6</span><br><span class="line">-rwxr-xr-x 2 root root 11328 Nov 17  2020 python3.6m</span><br><span class="line">lrwxrwxrwx 1 root root    14 Jan  8  2021 python-config -&gt; python2-config</span><br></pre></td></tr></table></figure><br>可以看到 centos7.6 这里已经自带了 python2 和 python3</p><p>可以使用 python —version 查看各自版本<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-2-centos bin]# python2 --version</span><br><span class="line">Python 2.7.5</span><br><span class="line">[root@VM-4-2-centos bin]# python3 --version</span><br><span class="line">Python 3.6.8</span><br></pre></td></tr></table></figure><br>接下来查看管理器 pip，依然在这个 /usr/bin 目录下<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-2-centos bin]# ll pip*</span><br><span class="line">-rwxr-xr-x 1 root root 282 Sep  3  2020 pip</span><br><span class="line">-rwxr-xr-x 1 root root 284 Sep  3  2020 pip2</span><br><span class="line">-rwxr-xr-x 1 root root 288 Sep  3  2020 pip2.7</span><br><span class="line">-rwxr-xr-x 1 root root 407 Oct 14  2020 pip3</span><br><span class="line">lrwxrwxrwx 1 root root   9 Jan  8  2021 pip-3 -&gt; ./pip-3.6</span><br><span class="line">lrwxrwxrwx 1 root root   8 Jan  8  2021 pip-3.6 -&gt; ./pip3.6</span><br><span class="line">-rwxr-xr-x 1 root root 407 Oct 14  2020 pip3.6</span><br></pre></td></tr></table></figure><br>这里代表的意思是：</p><ol><li>使用 pip2 命令的是 python2</li><li>使用 pip3 命令的是 python3</li></ol><p>可以使用各自的命令 pip list 查看各自的包依赖<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-2-centos bin]# pip3 list</span><br><span class="line">Package            Version  </span><br><span class="line">------------------ ---------</span><br><span class="line">certifi            2022.9.24</span><br><span class="line">charset-normalizer 2.0.12   </span><br><span class="line">idna               3.4      </span><br><span class="line">pip                9.0.3    </span><br><span class="line">requests           2.27.1   </span><br><span class="line">setuptools         39.2.0   </span><br><span class="line">urllib3            1.26.12  </span><br></pre></td></tr></table></figure><br>注意：如果这里出现警告的信息，原因是 pip 的版本需要更新。</p><p>也可以修改 pip 的配置文件。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-2-centos bin]# cd /</span><br><span class="line">[root@VM-4-2-centos /]# find -name pip.conf</span><br><span class="line">./root/.pip/pip.conf</span><br><span class="line">[root@VM-4-2-centos /]# cd /root/.pip</span><br><span class="line">[root@VM-4-2-centos .pip]# ls</span><br><span class="line">pip.conf</span><br><span class="line">[root@VM-4-2-centos .pip]# vi pip.conf</span><br></pre></td></tr></table></figure><p>加上 list section 即可<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url = http://mirrors.tencentyun.com/pypi/simple</span><br><span class="line">trusted-host = mirrors.tencentyun.com</span><br><span class="line">[list]</span><br><span class="line">format = columns</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux安装jdk</title>
      <link href="/post/c357b778.html"/>
      <url>/post/c357b778.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux安装jdk"><a href="#Linux安装jdk" class="headerlink" title="Linux安装jdk"></a>Linux安装jdk</h1><blockquote><p>刚白嫖了一个服务器，美滋滋，然后在服务器上配置centos7的系统</p><p>在这里配置一下jdk</p></blockquote><h4 id="1-用xshell中sftp把windows文件上传到我的centos服务器"><a href="#1-用xshell中sftp把windows文件上传到我的centos服务器" class="headerlink" title="1. 用xshell中sftp把windows文件上传到我的centos服务器"></a>1. 用xshell中sftp把windows文件上传到我的centos服务器</h4><p>文件位置我放在了/opt/software-install</p><h4 id="2-然后使用-rpm-ivh-jdk名称-rpm-—prefix-opt-software"><a href="#2-然后使用-rpm-ivh-jdk名称-rpm-—prefix-opt-software" class="headerlink" title="2. 然后使用 rpm -ivh jdk名称.rpm —prefix=/opt/software"></a>2. 然后使用 rpm -ivh jdk名称.rpm —prefix=/opt/software</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software-install]# ls</span><br><span class="line">jdk-8u221-linux-x64.rpm</span><br><span class="line">[root@cx software-install]# rpm -ivh jdk-8u221-linux-x64.rpm --prefix=/opt/software</span><br></pre></td></tr></table></figure><p>等待安装成功</p><h4 id="3-改一下目录名字，改成Java"><a href="#3-改一下目录名字，改成Java" class="headerlink" title="3. 改一下目录名字，改成Java"></a>3. 改一下目录名字，改成Java</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software]# ls</span><br><span class="line">jdk1.8.0_221-amd64</span><br><span class="line">[root@cx software]# mv jdk1.8.0_221-amd64/ java</span><br><span class="line">[root@cx software]# ls</span><br><span class="line">java</span><br></pre></td></tr></table></figure><h4 id="3-软件安装完成了，那现在就开始配置一下环境变量"><a href="#3-软件安装完成了，那现在就开始配置一下环境变量" class="headerlink" title="3. 软件安装完成了，那现在就开始配置一下环境变量"></a>3. 软件安装完成了，那现在就开始配置一下环境变量</h4><p>​    vi进入/etc/profile</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile</span><br></pre></td></tr></table></figure><p>​    按shitf+g进入到最后一行，在最后一行按o加入以下信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/opt/software/java</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br></pre></td></tr></table></figure><p>​    保存退出，esc+:x+enter</p><h4 id="4-重启配置文件信息"><a href="#4-重启配置文件信息" class="headerlink" title="4. 重启配置文件信息"></a>4. 重启配置文件信息</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h4 id="5-使用java-version查看是否安装成功"><a href="#5-使用java-version查看是否安装成功" class="headerlink" title="5. 使用java -version查看是否安装成功"></a>5. 使用java -version查看是否安装成功</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@cx software]# java -version</span><br><span class="line">java version &quot;1.8.0_221&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_221-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.221-b11, mixed mode)</span><br></pre></td></tr></table></figure><h3 id="出现版本信息，表示大功告成！你很棒哟"><a href="#出现版本信息，表示大功告成！你很棒哟" class="headerlink" title="出现版本信息，表示大功告成！你很棒哟"></a>出现版本信息，表示大功告成！你很棒哟</h3>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于使用scrapy绕过400状态码报错，停止爬取的方法</title>
      <link href="/post/1fdc6d41.html"/>
      <url>/post/1fdc6d41.html</url>
      
        <content type="html"><![CDATA[<h1 id="关于使用scrapy绕过400状态码报错，停止爬取的方法"><a href="#关于使用scrapy绕过400状态码报错，停止爬取的方法" class="headerlink" title="关于使用scrapy绕过400状态码报错，停止爬取的方法"></a>关于使用scrapy绕过400状态码报错，停止爬取的方法</h1><blockquote><p>我在爬起点小说网的时候，因为是扫网页，也就是一个一个去试，导致不可避免的会访问到400的请求</p><p>而scrapy在遇到400的状态码的时候会自动停止爬取，在爬虫文件中的parse方法里获取不到返回的信息</p><p>直接给你报错，然后终止爬虫工作，就很烦。。。</p><p>在网上找了好久，终于找到一个方法，能在获取到400后不停止，直接返回到爬虫文件的parse中的response</p></blockquote><h3 id="在settings-py中设置"><a href="#在settings-py中设置" class="headerlink" title="在settings.py中设置"></a>在settings.py中设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 忽略400报错，直接传入parse</span><br><span class="line">HTTPERROR_ALLOWED_CODES = [400]</span><br></pre></td></tr></table></figure><h3 id="然后在爬虫文件中的parse方法的response获取到"><a href="#然后在爬虫文件中的parse方法的response获取到" class="headerlink" title="然后在爬虫文件中的parse方法的response获取到"></a>然后在爬虫文件中的parse方法的response获取到</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def parse(self, response):</span><br><span class="line">print(response)</span><br><span class="line">print(response.status)</span><br></pre></td></tr></table></figure><h3 id="在控制台中可以看到信息了"><a href="#在控制台中可以看到信息了" class="headerlink" title="在控制台中可以看到信息了"></a>在控制台中可以看到信息了</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;400 https://book.qidian.com/info/1030564368/&gt;</span><br><span class="line">400</span><br></pre></td></tr></table></figure><h3 id="下面就可以根据不同的需求进行相关的代码编写了"><a href="#下面就可以根据不同的需求进行相关的代码编写了" class="headerlink" title="下面就可以根据不同的需求进行相关的代码编写了"></a>下面就可以根据不同的需求进行相关的代码编写了</h3>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 爬虫 </tag>
            
            <tag> scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>修改 red hat 6 系统时间</title>
      <link href="/post/82fcd2c0.html"/>
      <url>/post/82fcd2c0.html</url>
      
        <content type="html"><![CDATA[<h1 id="修改red-hat-6系统时间"><a href="#修改red-hat-6系统时间" class="headerlink" title="修改red hat 6系统时间"></a>修改red hat 6系统时间</h1><h2 id="date，查看系统时间"><a href="#date，查看系统时间" class="headerlink" title="date，查看系统时间"></a>date，查看系统时间</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure><p>执行完这个命令后</p><p>再次执行date查看系统时间，发现时间更改为上海时间</p><p>用<strong>reboot</strong>重新启动查看date也是上海时间</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> redhat6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于在vue3脚手架创建的项目中初步使用store文件</title>
      <link href="/post/2c99a659.html"/>
      <url>/post/2c99a659.html</url>
      
        <content type="html"><![CDATA[<h1 id="关于在vue3脚手架创建的项目中初步使用store文件"><a href="#关于在vue3脚手架创建的项目中初步使用store文件" class="headerlink" title="关于在vue3脚手架创建的项目中初步使用store文件"></a>关于在vue3脚手架创建的项目中初步使用store文件</h1><blockquote><p>在用vue3脚手架创建完成后项目工程里出现store文件夹，里面有个index.js文件，根据查找网上的信息来看，里面都是存储一些全局变量、异步变量、状态管理之类的。在这里，我初步使用了一下这个文件，仅作个人感悟，很暴力的使用。</p></blockquote><p>先看一下脚手架生成的store文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createStore &#125; from &#x27;vuex&#x27;</span><br><span class="line"></span><br><span class="line">export default createStore(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">  // 放置变量所用</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">  // 获取set方法</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>这里我先暂时用了两个方法，state和mutations，分别是放置全局变量和set方法</p><p>在vuex官网上还有一个概念：<a href="https://vuex.vuejs.org/zh/guide/getters.html">Getter</a> ，在这个方法里可以写get方法获取变量</p><p>于是，修改过后的store文件如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createStore &#125; from &#x27;vuex&#x27;</span><br><span class="line"></span><br><span class="line">export default createStore(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    url: &quot;/api&quot; + JSON.parse(window.sessionStorage.getItem(&quot;admin&quot;)).adminpic</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    geturl: state =&gt; state.url</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    seturl(state,newurl)&#123;</span><br><span class="line">      state.url = newurl</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>这里存储了一个全局变量url、get方法和set方法</p><p>然后在组件1中引用</p><p>1.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data () &#123;</span><br><span class="line">return &#123;</span><br><span class="line">url: “”</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">created () &#123;</span><br><span class="line">this.url = this.$store.getters.geturl//这里用get方法获取到变量</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>在组件2中修改全局变量</p><p>2.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data () &#123;</span><br><span class="line">return &#123;</span><br><span class="line">url: &quot;111&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">change () &#123;// 这里是你自己随意定义的一个方法</span><br><span class="line">this.$store.commit(&quot;seturl&quot;,this.url)// 这里使用set方法对store中的变量进行更改</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>经过change方法更改过后，store中的变量url就更改为111了</p><p>组件2让store变量修改后因为组件1已经DOM渲染完了，所以如果想让组件1也随之改变，就需要对组件1的变量url进行监听</p><p>监听代码如下：</p><p>1.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data () &#123;</span><br><span class="line">return &#123;</span><br><span class="line">url: “”</span><br><span class="line">&#125;</span><br><span class="line">&#125;，</span><br><span class="line">    computed: &#123;// computed是计算属性，state里面的url改变之后，就会进行一次计算，并返回计算值到对应的参数中</span><br><span class="line">        url () &#123;</span><br><span class="line">          return this.$store.state.url</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch:&#123;// 监听属性，在computed计算属性更改之后会触发参数值的改变，所以能够监听到</span><br><span class="line">      url () &#123;</span><br><span class="line">      // 这里会在commit之后触发，然后做后续的操作</span><br><span class="line">        this.url = this.$store.getters.geturl</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">created () &#123;</span><br><span class="line">this.url = this.$store.getters.geturl//这里用get方法获取到变量</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>这样的话，在组件2中修改store全局变量后，组件1会检测到然后里面的变量也会随之修改</p><p>当然，这是最粗暴的使用奥，若有不规范的，轻喷</p><div class="note warning flat"><p>现在好像在 vue3 中使用 pinia 更轻便</p></div>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> vuex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于在IDEA打开的项目中，项目引入了lombok的依赖后，IDEA出现报错的问题</title>
      <link href="/post/1c82ad06.html"/>
      <url>/post/1c82ad06.html</url>
      
        <content type="html"><![CDATA[<h1 id="关于在IDEA打开的项目中，项目引入了lombok的依赖后，IDEA出现报错的问题"><a href="#关于在IDEA打开的项目中，项目引入了lombok的依赖后，IDEA出现报错的问题" class="headerlink" title="关于在IDEA打开的项目中，项目引入了lombok的依赖后，IDEA出现报错的问题"></a>关于在IDEA打开的项目中，项目引入了lombok的依赖后，IDEA出现报错的问题</h1><h2 id="一、首先确定项目是否成功引入了lombok依赖"><a href="#一、首先确定项目是否成功引入了lombok依赖" class="headerlink" title="一、首先确定项目是否成功引入了lombok依赖"></a>一、首先确定项目是否成功引入了lombok依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="二、查看实体类中的方法是否添加了注解-Data"><a href="#二、查看实体类中的方法是否添加了注解-Data" class="headerlink" title="二、查看实体类中的方法是否添加了注解@Data"></a>二、查看实体类中的方法是否添加了注解@Data</h2><h2 id="三、查看所使用lombok语法的方法类是否添加注解-Data"><a href="#三、查看所使用lombok语法的方法类是否添加注解-Data" class="headerlink" title="三、查看所使用lombok语法的方法类是否添加注解@Data"></a>三、查看所使用lombok语法的方法类是否添加注解@Data</h2><h2 id="四、在IDEA的Plugins中下载插件lombok"><a href="#四、在IDEA的Plugins中下载插件lombok" class="headerlink" title="四、在IDEA的Plugins中下载插件lombok"></a>四、在IDEA的Plugins中下载插件lombok</h2>]]></content>
      
      
      <categories>
          
          <category> 问题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> idea </tag>
            
            <tag> lombok </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于使用Git上传仓库的一些个人见解</title>
      <link href="/post/11c02f3.html"/>
      <url>/post/11c02f3.html</url>
      
        <content type="html"><![CDATA[<h1 id="关于使用Git上传仓库的一些个人见解"><a href="#关于使用Git上传仓库的一些个人见解" class="headerlink" title="关于使用Git上传仓库的一些个人见解"></a>关于使用Git上传仓库的一些个人见解</h1><h2 id="1-当在远端仓库已经初始化建好时"><a href="#1-当在远端仓库已经初始化建好时" class="headerlink" title="1. 当在远端仓库已经初始化建好时"></a>1. 当在远端仓库已经初始化建好时</h2><ol><li>git init                                            初始化仓库，在文件下面会生成一个.git 文件夹</li><li>git status</li><li>git add .                                         将文件夹里的内容全部添加到git中</li><li>git commit -m “注释”                    添加注释</li><li>在代码托管平台(github,gitee)新建远程仓库</li><li>git remote add origin <a href="https://gitee.com/****/*****.git">https://gitee.com/****/*****.git</a></li><li>git push -u origin master            将本地仓库提交给远程仓库（第一次推送加（-u origin master），后面推送可以不加）</li></ol><h2 id="2-当克隆下来的代码时"><a href="#2-当克隆下来的代码时" class="headerlink" title="2. 当克隆下来的代码时"></a>2. 当克隆下来的代码时</h2><ol><li><p>拉代码到本地：在本地磁盘新建个文件夹，比如：D:\java每日一题，然后进入这个文件夹右键 git bash</p></li><li><p>执行命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://gitee.com/****/*****.git</span><br></pre></td></tr></table></figure></li><li><p>此文件夹下会出来另一个文件夹，在进入下一个文件夹后，写下自己的代码，写完后添加</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ./*****</span><br><span class="line">git add .</span><br></pre></td></tr></table></figure></li><li><p>通过 git status可以查看自己仓库的状态</p></li><li><p>再提交代码到本地仓库</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &#x27;提交代码  *****.md&#x27;</span><br></pre></td></tr></table></figure><blockquote><p>注意：-m必须要写，后面的信息表示你本次提交的代码信息，比如新增文件，就写 ‘add xx文件’</p></blockquote></li><li><p>经过上面的步骤，本地仓库的代码就完成提交了，但是，我们还没有提交到远程Gitee仓库，需要再执行下面的命令，将代码推到远程仓库。</p><ol><li><p>先拉代码：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure></li><li><p>推代码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure></li></ol></li></ol><p>可以打开网页的gitee仓库，验证下代码是否已经提交成功。</p><blockquote><p>注意：每次push之前一定要先pull拉代码，不然就会报错！</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
