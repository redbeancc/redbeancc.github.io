<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>第二章-科学计算库NumPy | Rean's Blog</title><meta name="author" content="red bean"><meta name="copyright" content="red bean"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="referrer" content="never" /><meta name="description" content="🍑针对科学计算库 NumPy 进行了介绍, 包括 ndarray 数组对象的属性和数据类型, 数组的运算, 索引和切片操作, 数组的转置和轴对称个, NumPy 通用函数, 线性代数模块, 随机数模块, 以及使用数组进行数据处理的相关操作">
<meta property="og:type" content="article">
<meta property="og:title" content="第二章-科学计算库NumPy">
<meta property="og:url" content="https://redbeancc.pages.dev/post/ed1a7053.html">
<meta property="og:site_name" content="Rean&#39;s Blog">
<meta property="og:description" content="🍑针对科学计算库 NumPy 进行了介绍, 包括 ndarray 数组对象的属性和数据类型, 数组的运算, 索引和切片操作, 数组的转置和轴对称个, NumPy 通用函数, 线性代数模块, 随机数模块, 以及使用数组进行数据处理的相关操作">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://haowallpaper.com/link/common/file/getCroppingImg/16510972873461120">
<meta property="article:published_time" content="2025-04-30T15:22:42.000Z">
<meta property="article:modified_time" content="2025-04-30T15:22:51.000Z">
<meta property="article:author" content="red bean">
<meta property="article:tag" content="python">
<meta property="article:tag" content="数据分析">
<meta property="article:tag" content="numpy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://haowallpaper.com/link/common/file/getCroppingImg/16510972873461120"><link rel="shortcut icon" href="https://img-blog.csdnimg.cn/direct/12929871d5ce4af186e2e45cebaa3e7c.png"><link rel="canonical" href="https://redbeancc.pages.dev/post/ed1a7053.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://gcore.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '第二章-科学计算库NumPy',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-04-30 23:22:51'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="referrer" content="no-referrer" /><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-y/echarts/4.9.0-rc.1/echarts.min.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-y/element-ui/2.15.6/theme-chalk/index.css"><link rel="stylesheet" href="https://cdn.jsdmirror.com/gh/redbeancc/redbeancc.github.io/css/custom.min.css" media="defer" onload="this.media='all'"><!-- 白黑夜切换动画--><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://img-blog.csdnimg.cn/direct/0d2446d80d4f45528563579d0ba0c619.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">62</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-HOME"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-HOME"></use></svg><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw icon-mianxingshijianzhou"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-mianxingshijianzhou"></use></svg><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-wenzhangzhongxin"></use></svg><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tag">                   </use></svg><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei">                   </use></svg><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiebaogao"></use></svg><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="fa-fw fas fa-music faa-tada"></i><span> 音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/power/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span> 健身日寄</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhifeiji">                   </use></svg><span> 文章统计</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiuxian"></use></svg><span> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/bb/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shejiaoxinxi">                   </use></svg><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/link/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-gerenzhongxin">                   </use></svg><span> 友链</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-aixin">                   </use></svg><span> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://haowallpaper.com/link/common/file/getCroppingImg/16510972873461120')"><nav id="nav"><span id="blog-info"><a href="/" title="Rean's Blog"><span class="site-name">Rean's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-HOME"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-HOME"></use></svg><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw icon-mianxingshijianzhou"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-mianxingshijianzhou"></use></svg><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-wenzhangzhongxin"></use></svg><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tag">                   </use></svg><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei">                   </use></svg><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiebaogao"></use></svg><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="fa-fw fas fa-music faa-tada"></i><span> 音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/power/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span> 健身日寄</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhifeiji">                   </use></svg><span> 文章统计</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiuxian"></use></svg><span> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/bb/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shejiaoxinxi">                   </use></svg><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/link/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-gerenzhongxin">                   </use></svg><span> 友链</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-aixin">                   </use></svg><span> 关于</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="检索站内任何你想要的信息"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-sousuo"></use></svg><span> 搜索</span></a></div><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="浅色和深色模式转换" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-weather-color_moon-stars">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">第二章-科学计算库NumPy</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili1"></use></svg><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-04-30T15:22:42.000Z" title="发表于 2025-04-30 23:22:42">2025-04-30</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin_"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-04-30T15:22:51.000Z" title="更新于 2025-04-30 23:22:51">2025-04-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-wenzhang"></use></svg><span class="post-meta-label">字数总计:</span><span class="word-count">8.6k</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>31分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="第二章-科学计算库NumPy"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-guankanliang"></use></svg><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第二章-科学计算库NumPy"><a href="#第二章-科学计算库NumPy" class="headerlink" title="第二章-科学计算库NumPy"></a>第二章-科学计算库NumPy</h1><blockquote>
<p>   Numpy 作为高性能科学计算和数据分析的基础包,是其他重要数据分析工具的基础, 掌握 NumPy 的功能及其用法, 将有助于后续其他数据分析工具的学习. </p>
</blockquote>
<h2 id="2-1-认识-NumPy-数组对象"><a href="#2-1-认识-NumPy-数组对象" class="headerlink" title="2.1 认识 NumPy 数组对象"></a>2.1 认识 NumPy 数组对象</h2><p>NumPy 中最重要的一个特点就是其 N 维数组对象, 即 ndarray(别名 array) 对象, 该对象具有矢量算术能力和复杂的广播能力, 可以执行一些科学计算. 不同于 Python 标准库, ndarray 对象拥有对高维数组的处理能力, 这也是数值计算中缺一不可的重要特性.<br>ndarray 对象中定义了一些重要的属性, 具体如下.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>属性</th>
<th style="text-align:center">具体说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ndarray.ndim</td>
<td style="text-align:center">维度个数,也就是数组轴的个数, 比如一维, 二维, 三维等</td>
</tr>
<tr>
<td>ndarray.shape</td>
<td style="text-align:center">数组的维度, 这是一个整数的元组, 表示每个维度上数组的大小. 例如, 一个 n 行 m 列的数组, 它的 shape 属性为 (n,m)</td>
</tr>
<tr>
<td>ndarray.size</td>
<td style="text-align:center">数组元素的总个数, 等于 shape 属性中元组元素的乘积</td>
</tr>
<tr>
<td>ndarray.dtype</td>
<td style="text-align:center">描述数组中元素类型的对象, 既可以使用标准的 Python 类型创建或指定, 也可以使用 NumPy 特有的数据类型来指定, 比如 numpy.int32, numpy.float64等</td>
</tr>
<tr>
<td>ndarray.itemsize</td>
<td style="text-align:center">数组中每个元素的字节大小. 例如, 元素类型为 float64的数组有 8(64/8) 个字节, 这相当于 ndarray.dtype.itemsize</td>
</tr>
</tbody>
</table>
</div>
<p>值得一提的是, ndarray 对象中存储元素的类型必须是相同的.<br>具体代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np                  <span class="comment"># 导入 numpy 工具包</span></span><br><span class="line">data = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)   <span class="comment"># 创建一个 3 行 4 列的数据</span></span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span>(data)</span><br></pre></td></tr></table></figure>
<pre><code>numpy.ndarray
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.ndim       <span class="comment"># 数组维度的个数, 输出结果 2, 表示二维数组</span></span><br></pre></td></tr></table></figure>
<pre><code>2
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.shape      <span class="comment"># 数组的维度, 输出结果(3,4), 表示 3 行 4 列</span></span><br></pre></td></tr></table></figure>
<pre><code>(3, 4)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.size       <span class="comment"># 数组元素的个数, 输出结果 12, 表示总共有 12 个元素</span></span><br></pre></td></tr></table></figure>
<pre><code>12
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.dtype      <span class="comment"># 数组元素的类型, 输出结果是 dtype(&#x27;int64&#x27;)</span></span><br><span class="line">                <span class="comment"># 表示元素类型都是 int64</span></span><br></pre></td></tr></table></figure>
<pre><code>dtype(&#39;int32&#39;)
</code></pre><h2 id="2-2-创建-NumPy-数组"><a href="#2-2-创建-NumPy-数组" class="headerlink" title="2.2 创建 NumPy 数组"></a>2.2 创建 NumPy 数组</h2><p>创建 ndarray 对象的方式有若干种, 其中最简单的方式就是使用 array() 函数, 在调用该函数时传入一个 Python 现有的类型即可, 比如列表, 元组. 例如, 通过 array() 函数分别创建一个一维数组和二维数组, 具体代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">data1 = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])           <span class="comment"># 创建一个一维数组</span></span><br><span class="line">data1</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 3])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data2 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]) <span class="comment"># 创建一个二维数组</span></span><br><span class="line">data2</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [4, 5, 6]])
</code></pre><p>除了可以使用 array() 函数创建 ndarray 对象外, 还有其他创建数组的方式, 具体分为以下几种:</p>
<ol>
<li>通过 zeros() 函数创建元素值都是 0 的数组, 示例代码如下.</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.zeros((<span class="number">3</span>,<span class="number">4</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[0., 0., 0., 0.],
       [0., 0., 0., 0.],
       [0., 0., 0., 0.]])
</code></pre><ol>
<li>通过调用 ones() 函数创建元素值都是 1 的数组, 示例代码如下.</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np_ones = np.ones((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">np_ones</span><br><span class="line"><span class="comment">#np_ones.dtype   # dtype(&#x27;float64&#x27;)</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 1., 1., 1.],
       [1., 1., 1., 1.],
       [1., 1., 1., 1.]])
</code></pre><ol>
<li>通过 empty() 函数创建一个新的数组, 该数组只分配了内存空间, 它里面填充的元素都是随机的, 且数据类型默认为 float64, 示例代码如下</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.empty((<span class="number">5</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[6.23042070e-307, 4.67296746e-307],
       [1.69121096e-306, 1.05695507e-307],
       [1.89146896e-307, 7.56571288e-307],
       [3.11525958e-307, 1.24610723e-306],
       [1.29061142e-306, 5.53353523e-322]])
</code></pre><ol>
<li>通过 arange() 函数可以创建一个等差数组, 它的功能类似于 range(), 只不过 arange() 函数的返回结果是数组, 而不是列表, 示例代码如下.</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.arange(<span class="number">1</span>,<span class="number">20</span>,<span class="number">5</span>)       <span class="comment"># 从 1 到 20, 步差为 5</span></span><br></pre></td></tr></table></figure>
<pre><code>array([ 1,  6, 11, 16])
</code></pre><p>读者可能注意到, 有些数组元素的后面会跟着一个小数点, 而有些元素后面没有, 比如 <code>1</code> 和 <code>1.</code>, 产生这种现象, 主要是因为元素的数据类型不同所导致的.<br>值得一提的是, 在创建 ndarray 对象时, 我们可以显式的声明数组元素的类型, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],<span class="built_in">float</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([1., 2., 3., 4.])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.ones((<span class="number">2</span>,<span class="number">3</span>),dtype=<span class="string">&#x27;float64&#x27;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 1., 1.],
       [1., 1., 1.]])
</code></pre><p>关于 ndarray 对象数据的更多介绍, 将在下面进行讲解.</p>
<h2 id="2-3-ndarray-对象的数据结构"><a href="#2-3-ndarray-对象的数据结构" class="headerlink" title="2.3 ndarray 对象的数据结构"></a>2.3 ndarray 对象的数据结构</h2><h3 id="2-3-1-查看数据结构"><a href="#2-3-1-查看数据结构" class="headerlink" title="2.3.1 查看数据结构"></a>2.3.1 查看数据结构</h3><p>如前面所述, 通过 “ndarray.dtype” 可以创建一个表示数据类型的对象. 要想获取数据类型的名称, 则需要访问 <code>name</code> 属性进行获取, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data_one = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">data_one.dtype.name</span><br></pre></td></tr></table></figure>
<pre><code>&#39;int32&#39;
</code></pre><p><strong>注意</strong>:在默认情况下, 64 位 Windows 系统输出的结果为 int32, 64 位 Linux 或 MacOS 系统输出结果为 int64, 当然也可以通过 dtype 来指定数据类型的长度.</p>
<p>上述代码中, 使用 dtype 属性查看 data_one 对象的类型, 输出的结果为 int32. 从数据类型的命名方式上可以看出, Numpy 的数据类型是有一个类型名(如 int, float)和元素位长的数字组成.</p>
<p>如果在创建数组时, 没有显式的指明数据的类型, 可以根据列表或元组中的元素类型推导出来. 默认情况下, 通过 <code>zeros()</code>, <code>ones()</code>, <code>empty()</code> 函数创建的数组中的数据类型为 <code>float64</code>.</p>
<p>以下是 Numpy 中常用的数据类型.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>数据类型</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>bool</td>
<td style="text-align:left">布尔类型, 值为 True 或 False</td>
</tr>
<tr>
<td>int8, uint8</td>
<td style="text-align:left">有符号和无符号的 8 位整数</td>
</tr>
<tr>
<td>int16, uint16</td>
<td style="text-align:left">有符号和无符号的 16 位整数</td>
</tr>
<tr>
<td>int32, uint32</td>
<td style="text-align:left">有符号和无符号的 32 位整数</td>
</tr>
<tr>
<td>int64, uint64</td>
<td style="text-align:left">有符号和无符号的 64 位整数</td>
</tr>
<tr>
<td>float16</td>
<td style="text-align:left">半精度浮点数(16位)</td>
</tr>
<tr>
<td>float32</td>
<td style="text-align:left">半精度浮点数(32位)</td>
</tr>
<tr>
<td>float64</td>
<td style="text-align:left">半精度浮点数(64位)</td>
</tr>
<tr>
<td>complex64</td>
<td style="text-align:left">复数, 分别用两个 32 位浮点数表示实部和虚部</td>
</tr>
<tr>
<td>complex128</td>
<td style="text-align:left">复数, 分别用两个 64 位浮点数表示实部和虚部</td>
</tr>
<tr>
<td>object</td>
<td style="text-align:left">Python对象</td>
</tr>
<tr>
<td>string_</td>
<td style="text-align:left">固定长度的字符串类型</td>
</tr>
<tr>
<td>unicode</td>
<td style="text-align:left">固定长度的 unicode 类型</td>
</tr>
</tbody>
</table>
</div>
<p>每一个 Numpy 内置的数据类型都有一个特征码, 它能唯一的标识一种数据类型, NumPy 内置特征码如下.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>特征码</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>b</td>
<td style="text-align:left">布尔型</td>
</tr>
<tr>
<td>i</td>
<td style="text-align:left">有符号整型</td>
</tr>
<tr>
<td>u</td>
<td style="text-align:left">无符号整型</td>
</tr>
<tr>
<td>f</td>
<td style="text-align:left">浮点型</td>
</tr>
<tr>
<td>c</td>
<td style="text-align:left">复数类型</td>
</tr>
<tr>
<td>O</td>
<td style="text-align:left">Python 对象</td>
</tr>
<tr>
<td>S,a</td>
<td style="text-align:left">字节字符串</td>
</tr>
<tr>
<td>U</td>
<td style="text-align:left">unicode 字符串</td>
</tr>
<tr>
<td>V</td>
<td style="text-align:left">原始数据</td>
</tr>
</tbody>
</table>
</div>
<h3 id="2-3-2-转换数据类型"><a href="#2-3-2-转换数据类型" class="headerlink" title="2.3.2 转换数据类型"></a>2.3.2 转换数据类型</h3><p>ndarray 对象的数据类型可以通过 <code>astype()</code> 方法进行转换, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="built_in">print</span>(data.dtype)</span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<pre><code>int32





array([[1, 2, 3],
       [4, 5, 6]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">float_data = data.astype(np.float64) <span class="comment"># 转换数据类型为 float64</span></span><br><span class="line"><span class="built_in">print</span>(float_data.dtype)</span><br><span class="line">float_data</span><br></pre></td></tr></table></figure>
<pre><code>float64





array([[1., 2., 3.],
       [4., 5., 6.]])
</code></pre><p>上述示例中, 将数据类型 int64 转换为 float64, 即整型转换为浮点型. 若希望将数据的类型由浮点型转换为整型, 则需要将小数点后面的部分截掉(<strong>不会四舍五入</strong>), 具体示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">float_data = np.array([<span class="number">1.2</span>,<span class="number">2.3</span>,<span class="number">3.5</span>])</span><br><span class="line">float_data</span><br></pre></td></tr></table></figure>
<pre><code>array([1.2, 2.3, 3.5])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int_data = float_data.astype(np.int64) <span class="comment"># 不会四舍五入</span></span><br><span class="line">int_data</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 3], dtype=int64)
</code></pre><p>如果数组中的元素是字符串类型的, 且字符串中的每个字符都是数字,也可以使用 <code>astype()</code> 方法将字符串转换为数值类型, 具体示例如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str_data = np.array([<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>])</span><br><span class="line">int_data = str_data.astype(np.int64)</span><br><span class="line">int_data</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 3], dtype=int64)
</code></pre><h2 id="2-4-数组运算"><a href="#2-4-数组运算" class="headerlink" title="2.4 数组运算"></a>2.4 数组运算</h2><p>NumPy 数组不需要遍历循环, 即可对每个元素执行批量的算术运算操作, 这个过程叫做<strong>矢量化运算</strong>. 不过, 如果两个数组的大小(ndarray.shape)不同, 则它们进行算术运算时会出现<strong>广播机制</strong>. 除此之外, 数组还支持使用算术运算符与标量进行运算.</p>
<h3 id="2-4-1-矢量化运算"><a href="#2-4-1-矢量化运算" class="headerlink" title="2.4.1 矢量化运算"></a>2.4.1 矢量化运算</h3><p>在 NumPy 中, 大小相等的数组之间的任何算术运算都会应用到元素级, 即只用位置相同的元素之间, 所得的运算结果组成一个新的数组. 接下来, 同意一张示意图来描述什么是矢量化运算.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/87ee4f2619384917b3728b26b91d334e.png" alt=""></p>
<p>由上述图片可知, 数组 arr1 与 arr2 对齐以后, 会让相同位置的元素相加得到一个新的数组 result. 其中, result 数组中的每个元素为操作数相加的结果, 并且结果的位置跟操作数的位置是相同的.</p>
<p>大小相等的数组之间的算术运算, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data1 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">data2 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">data1 + data2   <span class="comment"># 数组相加</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[ 2,  4,  6],
       [ 8, 10, 12]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 * data2   <span class="comment"># 数组相乘</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[ 1,  4,  9],
       [16, 25, 36]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 - data2   <span class="comment"># 数组相减</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 0, 0],
       [0, 0, 0]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 / data2   <span class="comment"># 数组相除</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 1., 1.],
       [1., 1., 1.]])
</code></pre><h3 id="2-4-2-数组广播"><a href="#2-4-2-数组广播" class="headerlink" title="2.4.2 数组广播"></a>2.4.2 数组广播</h3><p>数组在进行矢量化运算时, 要求数组的形状是相等的. 当形状不相等的数组执行算术运算的时候, 就会出现广播机制, 该机制会对数组进行扩展, 使数组的 <code>shape</code> 属性一致, 这样就可以进行矢量化运算了. 示例如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr1 = np.array([[<span class="number">0</span>],[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">3</span>]])</span><br><span class="line">arr1.shape</span><br></pre></td></tr></table></figure>
<pre><code>(4, 1)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr2 = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">arr2.shape</span><br></pre></td></tr></table></figure>
<pre><code>(3,)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr1 + arr2</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [2, 3, 4],
       [3, 4, 5],
       [4, 5, 6]])
</code></pre><p>上述代码中, 数组 arr1 的 shape 是 (4,1), arr2 的 shape 是 (3,), 这两个数组要是进行相加, 按照广播机制就会对数组 arr1 和 arr2 都进行扩展, 使得数组 arr1 和 arr2 的 shape 都变成 (4,3).</p>
<p>具体数组广播机制实现如图所示.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/d1b387092b8547e79f8486ce18142360.png" alt=""></p>
<p><strong>注意</strong>: 广播机制实现了对两个或两个以上数组的运算, 即使这些数组的 shape 不是完全相同的, 需要满足如下的条件:</p>
<ol>
<li>数组维度全部相同</li>
<li>其中一个数组的某一个维度为 1.</li>
</ol>
<p>广播机制需要扩展维度小数组, 使得它与维度最大的数组的 shape 值仙童, 以便使用元素级函数或运算符进行运算.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr3 = np.array([[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr3.shape)</span><br><span class="line">arr3</span><br></pre></td></tr></table></figure>
<pre><code>(4, 2)





array([[0, 1],
       [2, 3],
       [4, 5],
       [6, 7]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr4 = np.array([[<span class="number">1</span>],[<span class="number">2</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr4.shape)</span><br><span class="line">arr4</span><br></pre></td></tr></table></figure>
<pre><code>(2, 1)





array([[1],
       [2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr3 + arr4 <span class="comment"># 相加报错, 两个维度都不相同</span></span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

Cell In[52], line 1
----&gt; 1 arr3 + arr4


ValueError: operands could not be broadcast together with shapes (4,2) (2,1) 
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr5 = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr5.shape)</span><br><span class="line">arr5</span><br></pre></td></tr></table></figure>
<pre><code>(3, 2)





array([[1, 2],
       [2, 3],
       [3, 4]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr3 + arr5     <span class="comment"># error</span></span><br><span class="line"><span class="comment"># 第一维度：4 和 3 → 不相等且都不为 1 → 无法广播。</span></span><br><span class="line"><span class="comment"># 第二维度：2 和 2 → 相等 → 可以广播。</span></span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

Cell In[54], line 1
----&gt; 1 arr3 + arr5


ValueError: operands could not be broadcast together with shapes (4,2) (3,2) 
</code></pre><h3 id="2-4-3-数组与标量间的运算"><a href="#2-4-3-数组与标量间的运算" class="headerlink" title="2.4.3 数组与标量间的运算"></a>2.4.3 数组与标量间的运算</h3><p>大小相等的数组之间的任何算术运算都会将运算应用到元素级, 同样, 数组与标量的算术运算也会将那个标量值传播给各个元素. 当数组进行相加, 相减, 乘以或除以一个数字时, 这些被称为标量运算. 标量运算会产生一个与数组具有相同数量的行和列的新矩阵, 其原始矩阵的每个元素都被相加, 相减, 乘以或者相除.</p>
<p>数组和标量之间的运算, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">data1 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">data1 + <span class="number">10</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[11, 12, 13],
       [14, 15, 16]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 - <span class="number">10</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[-9, -8, -7],
       [-6, -5, -4]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 * <span class="number">10</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[10, 20, 30],
       [40, 50, 60]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1 / <span class="number">10</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[0.1, 0.2, 0.3],
       [0.4, 0.5, 0.6]])
</code></pre><h2 id="2-5-ndarray-的索引和切片"><a href="#2-5-ndarray-的索引和切片" class="headerlink" title="2.5 ndarray 的索引和切片"></a>2.5 ndarray 的索引和切片</h2><p>ndarray 对象支持索引和切片操作, 且提供了比常规 Python 序列更多的索引功能, 除了使用整数进行索引以外, 还可以使用整数数组和布尔数组进行索引.</p>
<h3 id="2-5-1-整数索引和切片的基本使用"><a href="#2-5-1-整数索引和切片的基本使用" class="headerlink" title="2.5.1 整数索引和切片的基本使用"></a>2.5.1 整数索引和切片的基本使用</h3><p>ndarray 对象的元素可以通过索引和切片来访问和修改, 就像 Python 内置的容易对象一样, 下面是一个一维数组, 从表面上来看, 该数组使用索引和切片的方式与 Python 列表的功能相差不大, 具体代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr = np.arange(<span class="number">8</span>)</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">5</span>]      <span class="comment"># 获取索引(下标)为 5 的元素</span></span><br></pre></td></tr></table></figure>
<pre><code>5
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">3</span>:<span class="number">5</span>]    <span class="comment"># 获取索引从 3~5 的元素, 但不包括 5</span></span><br></pre></td></tr></table></figure>
<pre><code>array([3, 4])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">1</span>:<span class="number">6</span>:<span class="number">2</span>]  <span class="comment"># 获取索引从 1~6 的元素, 步长为 2</span></span><br></pre></td></tr></table></figure>
<pre><code>array([1, 3, 5])
</code></pre><p>不过, 对于多维数组, 索引和切片的使用方式与列表就大不一样了. 在二维数组中, 每个索引位置上的元素不再是一个标量了, 而是一个一维数组, 具体代码示例如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr2d = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]) <span class="comment"># 创建二维数组</span></span><br><span class="line">arr2d</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr2d[<span class="number">1</span>]    <span class="comment"># 获取索引为 1 的元素</span></span><br></pre></td></tr></table></figure>
<pre><code>array([4, 5, 6])
</code></pre><p>此时, 如果我们想通过索引的方式来获取二维数组的单个元素, 就需要通过形如 <code>&quot;arr[x,y]&quot;</code>, 以逗号分割的索引来实现. 其中, <code>x</code> 表示行号, <code>y</code> 表示列号. 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr2d[<span class="number">0</span>,<span class="number">1</span>]  <span class="comment"># 获取第 0 行第 1 列的元素</span></span><br></pre></td></tr></table></figure>
<pre><code>2
</code></pre><p>下面, 通过一张图来描述数组 arr2d 的索引方式, 如下图所示.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/22b34f5468b543f4be7b9d12cbd4e366.png" alt=""></p>
<p>从图中可以看出, arr2d 是一个 3 行 3 列的数组, 如果我们想获取数组的单个元素, 必须同时指定这个元素的行索引和列索引. 例如, 获取索引位置为第 1 行第 1 列的元素, 我们可以通过 <code>arr2d[1,1]</code> 来实现.</p>
<p>相比一维数组, 多维数组的切片方式花样更多, <strong>多维数组的切片是沿着行或列的方向选取元素的</strong>, 我们可以传入一个切片, 也可以传入多个切片, 还可以将切片与整数索引混合使用.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多维数组传入一个切片</span></span><br><span class="line">arr2d[:<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [4, 5, 6]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多维数组传入两个切片</span></span><br><span class="line">arr2d[<span class="number">0</span>:<span class="number">2</span>,<span class="number">0</span>:<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2],
       [4, 5]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切片与整数索引混合使用</span></span><br><span class="line">arr2d[<span class="number">1</span>,:<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([4, 5])
</code></pre><p>上述多维数组切片操作的相关示意图如下.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/1f606ba47b4847cd8987d0e19b4ade79.png" alt=""></p>
<h3 id="2-5-2-花式-数组-索引的基本使用"><a href="#2-5-2-花式-数组-索引的基本使用" class="headerlink" title="2.5.2 花式(数组)索引的基本使用"></a>2.5.2 花式(数组)索引的基本使用</h3><p>花式索引是 Numpy 的一个术语, 是指将整数数组或列表作为索引, 然后根据索引数组或索引列表的每个元素作为目标数组的下标再进行取值.</p>
<ul>
<li>当使用一维数组或列表作为索引时, 如果使用索引要操作的目标是一维数组, 则获取的结果是对应下标的元素; </li>
<li>如果要操作的目标是一个二维数组, 则获取的结果就是对应下标的一行数据.</li>
</ul>
<p>例如, 创建一个 4 行 4 列的二维数组, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">demo_arr = np.empty((<span class="number">4</span>,<span class="number">4</span>))          <span class="comment"># 4 行 4 列的空数组</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):                  <span class="comment"># 遍历 4 行</span></span><br><span class="line">    demo_arr[i] = np.arange(i,i+<span class="number">4</span>)  <span class="comment"># 每一行一个数组从 [i ~ i+4)</span></span><br><span class="line">demo_arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[0., 1., 2., 3.],
       [1., 2., 3., 4.],
       [2., 3., 4., 5.],
       [3., 4., 5., 6.]])
</code></pre><p>将 <code>[0,2]</code> 作为索引, 分别获取 demo_arr 中索引 0 对应的一行数据以及索引 2 对应的一行数据, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">demo_arr[[<span class="number">0</span>,<span class="number">2</span>]]     <span class="comment"># 获取索引为 [0,2] 的元素行</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[0., 1., 2., 3.],
       [2., 3., 4., 5.]])
</code></pre><p>上述操作的相关示意图如下.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/148e9ade381c4d7ca115f7a362d59946.png" alt=""></p>
<p>如果使用两个花式索引操作数组时, 即两个列表或数组, 则会将<strong>第 1 个作为行索引, 第 2 个作为列索引</strong>, 通过二维数组索引的方式, 选取其对应位置的元素, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">demo_arr[[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">2</span>]]       <span class="comment"># 获取索引为 (1,1) 和 (3,2) 的元素</span></span><br></pre></td></tr></table></figure>
<pre><code>array([2., 5.])
</code></pre><p>上述操作的相关示意图如下.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/24b5ecde2e464d9bb5ca3d6afccec7ac.png" alt=""></p>
<h3 id="2-5-3-布尔型索引的基本使用"><a href="#2-5-3-布尔型索引的基本使用" class="headerlink" title="2.5.3 布尔型索引的基本使用"></a>2.5.3 布尔型索引的基本使用</h3><p>布尔型索引指的是将一个布尔数组作为数组索引, 返回的数据是布尔数组中 <code>True</code> 对应位置的值.</p>
<p>假设现在有一组存储了学生姓名的数组, 以及一组存储了学生各科成绩的数组, 存储学生成绩的数组中, 每一行成绩对应的是一个学生的成绩. 如果我们想筛选某个学生对应的成绩, 可以通过比较运算符, 先产生一个布尔型数组, 然后利用布尔型数组作为索引, 返回布尔值 <code>True</code> 对应位置的数据. 示例代码如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 存储学生姓名的数组</span></span><br><span class="line">student_name = np.array([<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Lily&quot;</span>,<span class="string">&quot;Jack&quot;</span>,<span class="string">&quot;Rose&quot;</span>])</span><br><span class="line">student_name</span><br></pre></td></tr></table></figure>
<pre><code>array([&#39;Tom&#39;, &#39;Lily&#39;, &#39;Jack&#39;, &#39;Rose&#39;], dtype=&#39;&lt;U4&#39;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 存储学生成绩的数组</span></span><br><span class="line">student_score = np.array([[<span class="number">79</span>,<span class="number">88</span>,<span class="number">80</span>],</span><br><span class="line">                          [<span class="number">89</span>,<span class="number">90</span>,<span class="number">92</span>],</span><br><span class="line">                          [<span class="number">83</span>,<span class="number">78</span>,<span class="number">85</span>],</span><br><span class="line">                          [<span class="number">78</span>,<span class="number">76</span>,<span class="number">80</span>]])</span><br><span class="line">student_score</span><br></pre></td></tr></table></figure>
<pre><code>array([[79, 88, 80],
       [89, 90, 92],
       [83, 78, 85],
       [78, 76, 80]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对 student_name 和字符串 &quot;Jack&quot; 通过运算符产生一个布尔型数组</span></span><br><span class="line">student_name == <span class="string">&quot;Jack&quot;</span></span><br></pre></td></tr></table></figure>
<pre><code>array([False, False,  True, False])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将布尔数组作为索引应用与存储成绩的数组 student_score,</span></span><br><span class="line"><span class="comment"># 返回的数据是 True 值对应的行</span></span><br><span class="line">student_score[student_name == <span class="string">&quot;Jack&quot;</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([[83, 78, 85]])
</code></pre><p>布尔索引的相关示意图如下.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/85e9f60c15bf4247a8a185c9cf5bf6bd.png" alt=""></p>
<p>需要注意的是, 布尔型数组的长度必须和被索引的轴长度一致.<br>此外, 我们还可以将布尔型数组跟切片混合使用, 示例代码如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">student_score[student_name == <span class="string">&quot;Jack&quot;</span>, :<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([[83]])
</code></pre><p>值得一提的是, 使用布尔型索引获取值的时候, 除了可以使用 <code>&quot;==&quot;</code> 运算符, 还可以使用诸如 <code>&quot;!=&quot;</code>, <code>&quot;-&quot;</code> 来进行否定, 也可以使用 <code>&quot;&amp;&quot;</code>和<code>&quot;|&quot;</code>等符号来组合多个布尔条件.</p>
<h2 id="2-6-数组的转置和轴对称"><a href="#2-6-数组的转置和轴对称" class="headerlink" title="2.6 数组的转置和轴对称"></a>2.6 数组的转置和轴对称</h2><p>数组的转置是指将数组中的每个元素按照一定的规则进行位置变换. NumPy 提供了 <code>transpose()</code> 方法和 <code>T</code> 属性两种实现形式. 其中, 简单的转置可以使用 <code>T</code> 属性, 它其实就是进行轴对换而已. 例如, 现在有个 3 行 4 列的二维数组, 那么使用 <code>T</code> 属性对数组转置后, 形成的是一个 4 行 3 列的新数组, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.T       <span class="comment"># 使用 T 属性对数组进行转置</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0,  4,  8],
       [ 1,  5,  9],
       [ 2,  6, 10],
       [ 3,  7, 11]])
</code></pre><p>对于高纬度的数组而言, <code>transpose()</code> 方法需要得到一个由轴编号组成的元组, 才能对这些轴进行转置. 假设现在有个数组 arr, 具体代码如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">16</span>).reshape((<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>))    <span class="comment"># 2 面 2 行 4 列</span></span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[[ 0,  1,  2,  3],
        [ 4,  5,  6,  7]],

       [[ 8,  9, 10, 11],
        [12, 13, 14, 15]]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.shape</span><br></pre></td></tr></table></figure>
<pre><code>(2, 2, 4)
</code></pre><p>上述数组 arr 的 shape 是 (2,2,4), 表示是一个三维数组, 也就是说有三个轴, 每个轴都对应着一个编号, 分别是 0, 1, 2.</p>
<p>如果希望对 arr 进行转置操作, 就需要对它的 <code>shape</code> 中的顺序进行调换. 也就是说, 当使用 <code>transpose()</code> 方法对函数的 <code>shape</code> 进行变换时, 需要以元组的形式传入  <code>shape</code> 的编号, 比如 (1,2,0).如果调用 <code>transpose()</code> 方法时传入 <code>&quot;(0,1,2)&quot;</code> ,则数组的 <code>shape</code> 不会发生任何变化.</p>
<p>下面是 arr 调用 <code>transpose(1,2,0)</code> 的示例, 具体代码如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.transpose(<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>)    <span class="comment"># 使用 transpose() 方法对数组进行转置</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[[ 0,  8],
        [ 1,  9],
        [ 2, 10],
        [ 3, 11]],

       [[ 4, 12],
        [ 5, 13],
        [ 6, 14],
        [ 7, 15]]])
</code></pre><p>转换过程如图:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/1fdc044eda8f4b5faeae99ed5d56b38a.png" alt="在这里插入图片描述"></p>
<p>如果我们不输入任何参数, 直接调用 <code>transpose()</code> 方法, 则其执行的效果就是将数组进行转置, 作用等价于 <code>transpose(2,1,0)</code>. 具体结果如下图所示.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/c6c61eccc73247d19b00a09449945cd7.png" alt="在这里插入图片描述"></p>
<p>在某些情况下, 我们可能只需要转换其中的两个轴, 这时我们可以使用 ndarray 提供的 <code>swapaxes()</code> 方法实现, 该方法需要接收一对轴编号, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[[ 0,  1,  2,  3],
        [ 4,  5,  6,  7]],

       [[ 8,  9, 10, 11],
        [12, 13, 14, 15]]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.swapaxes(<span class="number">1</span>,<span class="number">0</span>)   <span class="comment"># 使用 swapaxes 方法插入一对小括号对数组进行转置</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[[ 0,  1,  2,  3],
        [ 8,  9, 10, 11]],

       [[ 4,  5,  6,  7],
        [12, 13, 14, 15]]])
</code></pre><p><strong>多学一招: 轴编号</strong></p>
<p>在 NumPy 中维度(dimensions)叫做轴(axes), 轴的个数叫做秩(rank). 例如, 3D 空间中有个点的坐标[1,2,1]是一个秩为 1 的数组, 因为它只有一个轴. 这个轴有 3 个元素, 所以我们说它长度为 3.</p>
<p>在下面的示例中, 数组有 2 个轴, 第一个轴的长度为32, 第二个轴的长度为 3.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.array([[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">          [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]])</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 0, 0],
       [0, 1, 2]])
</code></pre><h2 id="2-7-NumPy-通用函数"><a href="#2-7-NumPy-通用函数" class="headerlink" title="2.7 NumPy 通用函数"></a>2.7 NumPy 通用函数</h2><p>在 NumPy 中, 提供了诸如 <code>&quot;sin&quot;</code>, <code>&quot;cos&quot;</code> 和 <code>&quot;exp&quot;</code> 等常见的数学函数, 这些函数叫做通用函数(ufunc). 通用函数是一种针对 ndarray 中的数据执行元素级运算的函数, 函数返回的是一个新的数组. 通常情况下, 我们将 ufunc 中接受的一个数组参数的函数称为一元通用函数. 而接收两个数组参数的称为二元通用函数. 下面是一些常见的一元和二元通用函数.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>常见一元的通用函数函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>abs, fabs</td>
<td style="text-align:left">计算整数, 浮点数或复数的绝对值</td>
</tr>
<tr>
<td>sqrt</td>
<td style="text-align:left">计算各元素的平方根</td>
</tr>
<tr>
<td>square</td>
<td style="text-align:left">计算各元素的平方</td>
</tr>
<tr>
<td>exp</td>
<td style="text-align:left">计算各元素的指数 e 的 x 次方</td>
</tr>
<tr>
<td>log, log10, log2, log1p</td>
<td style="text-align:left">分别为自然对数(底数为e), 底数为 10 的 log, 底数为 2 的log, log(1+x)</td>
</tr>
<tr>
<td>sign</td>
<td style="text-align:left">计算各元素的正负号: 1(正数), 0(零), -1(负数)</td>
</tr>
<tr>
<td>ceil</td>
<td style="text-align:left">计算各元素的 ceilling 值, 即大于或者等于该值的最小整数</td>
</tr>
<tr>
<td>floor</td>
<td style="text-align:left">计算各元素的 floor 值, 即小于等于该值的最大整数</td>
</tr>
<tr>
<td>rint</td>
<td style="text-align:left">将各元素四舍五入到最接近的整数</td>
</tr>
<tr>
<td>modf</td>
<td style="text-align:left">将数组的小数和整数部分以两个独立数组的形式返回</td>
</tr>
<tr>
<td>isnan</td>
<td style="text-align:left">返回一个表示 “哪些值是 NaN” 的布尔型数组</td>
</tr>
<tr>
<td>isfinite, isinf</td>
<td style="text-align:left">分别返回表示 “那些元素是有穷的” 或 “哪些元素是无穷” 的布尔型数组</td>
</tr>
<tr>
<td>sin, sinh, cos, cosh, tan, tanh</td>
<td style="text-align:left">普通型和双曲型三角函数</td>
</tr>
<tr>
<td>arcos,arccosh,arcsion</td>
<td style="text-align:left">反三角函数</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>常见二元通用函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>add</td>
<td style="text-align:left">数组对应的元素相加</td>
</tr>
<tr>
<td>subtract</td>
<td style="text-align:left">从第一个数组中减去第二个数组中的元素</td>
</tr>
<tr>
<td>multiply</td>
<td style="text-align:left">数组元素相乘</td>
</tr>
<tr>
<td>divide,floor_divide</td>
<td style="text-align:left">除法或向下整除法(舍去余数)</td>
</tr>
<tr>
<td>maximum, fmax</td>
<td style="text-align:left">元素级的最大值计算</td>
</tr>
<tr>
<td>minimum, fmin</td>
<td style="text-align:left">元素级的最小值计算</td>
</tr>
<tr>
<td>mod</td>
<td style="text-align:left">元素级取余</td>
</tr>
<tr>
<td>copysign</td>
<td style="text-align:left">将第二个数组中的值的符号赋值给第一个数组中的值</td>
</tr>
<tr>
<td>greater,greater_equal,less,less-equal,equal,not_equal,logical_and,logical_or,logical_xor</td>
<td style="text-align:left">执行元素级的比较运算, 最终产生布尔型数组, 相当于运算符 &gt;,&gt;=,&lt;,&lt;=,==,!=</td>
</tr>
</tbody>
</table>
</div>
<p>为了更好理解, 接下来, 通过一些代码来演示上述部分函数的用法. 有关一元通用函数的示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr = np.array([<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>])</span><br><span class="line"><span class="comment"># 计算数组元素的平方根</span></span><br><span class="line">np.sqrt(arr)</span><br></pre></td></tr></table></figure>
<pre><code>array([2., 3., 4.])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算数组元素的绝对值</span></span><br><span class="line">np.<span class="built_in">abs</span>(arr)</span><br></pre></td></tr></table></figure>
<pre><code>array([ 4,  9, 16])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算数组元素的平方</span></span><br><span class="line">np.square(arr)</span><br></pre></td></tr></table></figure>
<pre><code>array([ 16,  81, 256])
</code></pre><p>有关二元通用函数的示例代码如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">12</span>,<span class="number">9</span>,<span class="number">13</span>,<span class="number">15</span>])</span><br><span class="line">y = np.array([<span class="number">11</span>,<span class="number">10</span>,<span class="number">4</span>,<span class="number">8</span>])</span><br><span class="line"><span class="comment"># 计算两个数组的和</span></span><br><span class="line">np.add(x,y)</span><br></pre></td></tr></table></figure>
<pre><code>array([23, 19, 17, 23])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算两个数组的乘积</span></span><br><span class="line">np.multiply(x,y)</span><br></pre></td></tr></table></figure>
<pre><code>array([132,  90,  52, 120])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 两个数组元素级最大值的比较</span></span><br><span class="line">np.maximum(x,y)</span><br></pre></td></tr></table></figure>
<pre><code>array([12, 10, 13, 15])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 执行元素级的比较操作</span></span><br><span class="line">np.greater(x,y)</span><br></pre></td></tr></table></figure>
<pre><code>array([ True, False,  True,  True])
</code></pre><h2 id="2-8-利用-NumPy-数组进行数据处理"><a href="#2-8-利用-NumPy-数组进行数据处理" class="headerlink" title="2.8 利用 NumPy 数组进行数据处理"></a>2.8 利用 NumPy 数组进行数据处理</h2><p>NumPy 数组可以将许多数据处理任务转换为简洁的数组表达式, 它处理数据的速度要比内置的 Python 循环快了至少一个数量级, 所以, 我们把数组作为处理数据的首选. 接下来, 本章节将讲解如何利用数组来处理数据, 包括条件逻辑, 统计, 排序, 检索数组元素以及唯一化.</p>
<h3 id="2-8-1-将条件逻辑转为数组运算"><a href="#2-8-1-将条件逻辑转为数组运算" class="headerlink" title="2.8.1 将条件逻辑转为数组运算"></a>2.8.1 将条件逻辑转为数组运算</h3><p>NumPy 的 <code>where()</code> 函数是三元表达式 <code>x if condition else y</code> 的矢量化版本.</p>
<p>假设有两个数值类型的数组和一个布尔类型的数组, 具体如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr_x = np.array([<span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>])</span><br><span class="line">arr_y = np.array([<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>])</span><br><span class="line">arr_con = np.array([<span class="literal">True</span>,<span class="literal">False</span>,<span class="literal">True</span>])</span><br></pre></td></tr></table></figure>
<p>现在提出一个需求, 即当 <code>arr_con</code> 的元素值为 <code>True</code> 时, 从 <code>arr_x</code> 数组中获取一个值, 否则从 <code>arr_y</code> 数组中获取一个值. 使用 <code>where()</code> 函数实现的方式如下所示.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = np.where(arr_con, arr_x, arr_y)</span><br><span class="line">result</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 6, 7])
</code></pre><h3 id="2-8-2-数组统计运算"><a href="#2-8-2-数组统计运算" class="headerlink" title="2.8.2 数组统计运算"></a>2.8.2 数组统计运算</h3><p>通过 NumPy 库中的相关方法, 我们可以很方便的运用 Python 进行数组的统计汇总, 比如, 计算数组极大值, 极小值以及平均值等. 下面是 NumPy 数组中与统计运算相关的方法.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sum</td>
<td style="text-align:left">对数组中全部或某个轴向的元素求和</td>
</tr>
<tr>
<td>mean</td>
<td style="text-align:left">算术平均值</td>
</tr>
<tr>
<td>min</td>
<td style="text-align:left">计算数组中的最小值</td>
</tr>
<tr>
<td>max</td>
<td style="text-align:left">计算数组中的最大值</td>
</tr>
<tr>
<td>argmin</td>
<td style="text-align:left">表示最小值的索引</td>
</tr>
<tr>
<td>argmax</td>
<td style="text-align:left">表示最大值的索引</td>
</tr>
<tr>
<td>cumsum</td>
<td style="text-align:left">所有元素的累计和</td>
</tr>
<tr>
<td>cumprod</td>
<td style="text-align:left">所有元素的累计乘积</td>
</tr>
</tbody>
</table>
</div>
<p>需要注意的是, 当使用 ndarray 对象调用 <code>cumsum()</code> 和<code>cumprod()</code> 方法后, 产生的结果是一个由中间结果组成的数组.</p>
<p>下面是一些示例.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line">arr.<span class="built_in">sum</span>()       <span class="comment"># 求和</span></span><br></pre></td></tr></table></figure>
<pre><code>[0 1 2 3 4 5 6 7 8 9]





45
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.mean()      <span class="comment"># 求平均值</span></span><br></pre></td></tr></table></figure>
<pre><code>4.5
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.<span class="built_in">min</span>()       <span class="comment"># 求最小值</span></span><br></pre></td></tr></table></figure>
<pre><code>0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.<span class="built_in">max</span>()       <span class="comment"># 求最大值</span></span><br></pre></td></tr></table></figure>
<pre><code>9
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.argmin()    <span class="comment"># 最小值的下标</span></span><br></pre></td></tr></table></figure>
<pre><code>0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.argmax()    <span class="comment"># 最大值的下标</span></span><br></pre></td></tr></table></figure>
<pre><code>9
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.cumsum()    <span class="comment"># 元素的累计和</span></span><br></pre></td></tr></table></figure>
<pre><code>array([ 0,  1,  3,  6, 10, 15, 21, 28, 36, 45])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.cumprod()   <span class="comment"># 元素的累计乘积</span></span><br></pre></td></tr></table></figure>
<pre><code>array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
</code></pre><h3 id="2-8-3-数组排序"><a href="#2-8-3-数组排序" class="headerlink" title="2.8.3 数组排序"></a>2.8.3 数组排序</h3><p>如果希望对 NumPy 数组中的元素进行排序, 可以通过 <code>sort()</code> 方法实现, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([[<span class="number">6</span>,<span class="number">2</span>,<span class="number">7</span>],[<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>],[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]])</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[6, 2, 7],
       [3, 6, 2],
       [4, 3, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr.sort()</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[2, 6, 7],
       [2, 3, 6],
       [2, 3, 4]])
</code></pre><p>从上述代码可以看出, 当调用 <code>sort()</code> 方法后, 数组 arr 中数据按行从小到大进行排序. 需要注意的是, 使用 <code>sort()</code> 方法排序会<strong>修改数组本身</strong>.</p>
<p>如果希望对任何一个轴上的元素进行排序, 只需要将轴的编号作为 <code>sort()</code> 方法的参数传入即可. 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([[<span class="number">6</span>,<span class="number">2</span>,<span class="number">7</span>],[<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>],[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]])</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[6, 2, 7],
       [3, 6, 2],
       [4, 3, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr.sort(<span class="number">0</span>)</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[3, 2, 2],
       [4, 3, 2],
       [6, 6, 7]])
</code></pre><p><strong>理解: <code>arr.sort(0)</code> 的直观操作</strong></p>
<blockquote>
<ul>
<li><strong>轴0（行方向）</strong>：想象你 <strong>从上到下垂直移动</strong>（处理每一列）。</li>
<li><strong>轴1（列方向）</strong>：想象你 <strong>从左到右水平移动</strong>（处理每一行）。</li>
</ul>
</blockquote>
<p>当执行 <code>arr.sort(0)</code>（沿轴0排序）时：</p>
<ul>
<li><strong>操作方向：从上到下</strong>（垂直方向）。</li>
<li><strong>具体行为</strong>：对 <strong>每一列</strong> 独立排序（每一列的数字按升序排列）。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">原始数组：</span><br><span class="line">列0  列1  列2</span><br><span class="line"> ↓    ↓    ↓</span><br><span class="line">[6,   2,   7]  ← 行0</span><br><span class="line">[3,   6,   2]  ← 行1</span><br><span class="line">[4,   3,   2]  ← 行2</span><br><span class="line"></span><br><span class="line">沿轴0（列方向）排序后的结果：</span><br><span class="line">列0排序 ↓  列1排序 ↓  列2排序 ↓</span><br><span class="line">    [3,   2,   2]  ← 行0</span><br><span class="line">    [4,   3,   2]  ← 行1</span><br><span class="line">    [6,   6,   7]  ← 行2</span><br></pre></td></tr></table></figure>
<p><span style="color: red"><strong>关键理解</strong></span></p>
<ul>
<li><span style="color: red"><strong>为什么叫「沿行方向处理」？</strong></span><br><span style="color: red">因为你在处理时，<strong>沿着行的方向（上下移动）</strong>，依次处理每一列的数据（比如先处理列0，再处理列1）。</span></li>
</ul>
<h3 id="2-8-4-检索数组元素"><a href="#2-8-4-检索数组元素" class="headerlink" title="2.8.4 检索数组元素"></a>2.8.4 检索数组元素</h3><p>在 NumPy 中, <code>all()</code> 函数用于判断整个数组中的元素的值是否完全满足条件, 如果满足条件返回 <code>True</code>, 否则返回 <code>False</code>. <code>any()</code> 函数用于判断整个数组中的元素至少有一个满足条件就返回 <code>True</code>, 否则返回 <code>False</code>.</p>
<p>使用 <code>all()</code> 和 <code>any()</code> 函数检索数组元素的示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([[<span class="number">1</span>,-<span class="number">2</span>,-<span class="number">7</span>],[-<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>],[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]])</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 1, -2, -7],
       [-3,  6,  2],
       [ 4,  3,  2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.<span class="built_in">any</span>(arr&gt;<span class="number">0</span>)       <span class="comment"># arr 的所有元素是否有一个大于 0</span></span><br></pre></td></tr></table></figure>
<pre><code>True
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.<span class="built_in">all</span>(arr&gt;<span class="number">0</span>)       <span class="comment"># arr 的所有元素是否都大于 0</span></span><br></pre></td></tr></table></figure>
<pre><code>False
</code></pre><h3 id="2-8-5-唯一化及其他集合逻辑"><a href="#2-8-5-唯一化及其他集合逻辑" class="headerlink" title="2.8.5 唯一化及其他集合逻辑"></a>2.8.5 唯一化及其他集合逻辑</h3><p>针对一维数组, NumPy 提供了 <code>unique()</code> 函数来找出数组中的唯一值, 并返回排序后的结果, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([<span class="number">12</span>,<span class="number">11</span>,<span class="number">34</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">8</span>,<span class="number">11</span>])</span><br><span class="line">np.unique(arr)      <span class="comment"># 去重</span></span><br></pre></td></tr></table></figure>
<pre><code>array([ 8, 11, 12, 23, 34])
</code></pre><p>除此之外, 还有一个 <code>in1d()</code> 函数用于判断数组中的元素是否在另一个数组中存在, 该函数返回的是一个布尔型的数组, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.in1d(arr,[<span class="number">11</span>,<span class="number">12</span>])</span><br></pre></td></tr></table></figure>
<pre><code>array([ True,  True, False, False,  True, False,  True])
</code></pre><p>NumPy 提供的有关集合的函数还有很多, 下面是数组集合运算的常见函数.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>unique(x)</td>
<td style="text-align:left">计算 x 中的唯一元素, 并返回有序结果</td>
</tr>
<tr>
<td>intersect1d(x,y)</td>
<td style="text-align:left">计算 x 和 y 中的公共元素, 并返回有序结果</td>
</tr>
<tr>
<td>union1d(x,y)</td>
<td style="text-align:left">计算 x 和 y 的并集, 并返回有序结果</td>
</tr>
<tr>
<td>in1d(x,y)</td>
<td style="text-align:left">得到一个表示”x 的元素是否包含 y”的布尔型数组</td>
</tr>
<tr>
<td>setdiff1d(x,y)</td>
<td style="text-align:left">集合的差, 即元素在 x 中且不在 y 中</td>
</tr>
<tr>
<td>setxor1d(x,y)</td>
<td style="text-align:left">集合的对称差, 即存在于一个数组中但不同时存在于两个数组中的元素</td>
</tr>
</tbody>
</table>
</div>
<h2 id="2-9-线性代数模块"><a href="#2-9-线性代数模块" class="headerlink" title="2.9 线性代数模块"></a>2.9 线性代数模块</h2><p>线性代数是数学运算中的一个重要工具, 它在图形信号处理, 音频信号处理中起非常重要的作用. <code>numpy.linalg</code> 模块中有一组标准的矩阵分解运算以及诸如逆和行列式之类的东西. 例如, 矩阵相乘, 如果通过 “*” 对两个数组相乘, 得到的是一个元素级的乘积, 而不是一个矩阵点积.</p>
<p>NumPy 中提供了一个用于矩阵乘法的 <code>dot()</code> 方法, 该方法的用法示例如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr_x = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">arr_y = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr_x)</span><br><span class="line"><span class="built_in">print</span>(arr_y)</span><br><span class="line">arr_x.dot(arr_y)        <span class="comment"># 等价于 np.dot(arr_x,arr_y)</span></span><br></pre></td></tr></table></figure>
<pre><code>[[1 2 3]
 [4 5 6]]
[[1 2]
 [3 4]
 [5 6]]





array([[22, 28],
       [49, 64]])
</code></pre><p>矩阵点积的条件是矩阵A的列数等于矩阵B的行数, 假设 A 为 m✕p 的矩阵, B 为 p✕n 的矩阵, 那么矩阵 A 与 B 的乘积就是一个 m✕n 的矩阵 C, 其中矩阵 C 的第 i 行第 j 列的元素可以表示为:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/7b1c9871399341a891febf8829bc2383.png" alt="在这里插入图片描述"></p>
<p>上述矩阵 arr_x 与 arr_y 的乘积如下图所示.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i-blog.csdnimg.cn/direct/393e5b54052a4376901e16b8e0b68e4a.png" alt="在这里插入图片描述"></p>
<p>除此之外, <code>linalg</code> 模块中还提供了其他很多有用的函数, 具体如下.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>dot</td>
<td style="text-align:left">矩阵乘法</td>
</tr>
<tr>
<td>diag</td>
<td style="text-align:left">以一维数组的形式返回方阵的对角线, 或将一维数组转为方阵</td>
</tr>
<tr>
<td>trace</td>
<td style="text-align:left">计算对角线元素和</td>
</tr>
<tr>
<td>det</td>
<td style="text-align:left">计算矩阵的行列式</td>
</tr>
<tr>
<td>eig</td>
<td style="text-align:left">计算方阵的特征值和特征向量</td>
</tr>
<tr>
<td>inv</td>
<td style="text-align:left">计算方阵的逆</td>
</tr>
<tr>
<td>qr</td>
<td style="text-align:left">计算 qr 分解</td>
</tr>
<tr>
<td>svd</td>
<td style="text-align:left">计算奇异值(SVD)</td>
</tr>
<tr>
<td>solve</td>
<td style="text-align:left">解线性方程组 Ax=b, 其中 A 是一个方阵</td>
</tr>
<tr>
<td>1stsq</td>
<td style="text-align:left">计算 Ax=b 的最小二乘解</td>
</tr>
</tbody>
</table>
</div>
<h2 id="2-10-随机数模块"><a href="#2-10-随机数模块" class="headerlink" title="2.10 随机数模块"></a>2.10 随机数模块</h2><p>与 Python 的 random 模块相比, NumPy 的 random 模块功能更多, 它增加了一些可以高效生成多种概率分布的样本值的函数. 例如, 通过 NumPy 的 random 模块随机生成了一个 3 行 3 列的数组, 示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.random.rand(<span class="number">3</span>,<span class="number">3</span>)     <span class="comment"># 随机生成一个二维数组</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[0.15259203, 0.96894671, 0.11222132],
       [0.49061311, 0.97040608, 0.50455898],
       [0.04179985, 0.8569699 , 0.8445863 ]])
</code></pre><p>上述代码中, <code>rand()</code> 函数隶属于 <code>numpy.random</code> 模块, 它的作用是随机生成 N 维浮点数组. 需要注意的是, 每次运行代码后生成的随机数组都不一样.</p>
<p>除此之外, <code>random</code> 模块中还包括了可以生成服从多种概率分布随机数的其他函数. 下面列举了 <code>numpy.random</code> 模块中用于生成大量样本值的函数.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>random 模块的常见函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>seed</td>
<td style="text-align:left">生成随机数的种子</td>
</tr>
<tr>
<td>rand</td>
<td style="text-align:left">产生均匀分布的样本值</td>
</tr>
<tr>
<td>randint</td>
<td style="text-align:left">从给定的上下限范围内随机选取整数</td>
</tr>
<tr>
<td>normal</td>
<td style="text-align:left">产生正态分布的样本值</td>
</tr>
<tr>
<td>beta</td>
<td style="text-align:left">产生 Beta 分布的样本值</td>
</tr>
<tr>
<td>uniform</td>
<td style="text-align:left">产生在 [0,1] 中的均匀分布的样本值</td>
</tr>
</tbody>
</table>
</div>
<p>在上面的函数中, <code>seed()</code> 函数可以保证生成的随机只具有可预测性, 也就是说产生的随机数相同, 它的语法格式如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.random.seed(seed=none)</span><br></pre></td></tr></table></figure>
<p>上述函数中只有一个 <code>seed</code> 参数, 用于指定随机数生成时所用算法开始的整数值. 当调用 <code>seed()</code> 函数时, 如果传递给 <code>seed</code> 参数的值相同, 则每次生成的随机数都是一样的. 如果不传递这个参数值, 则系统会根据时间来自己选择值, 此时每次生成的随机数会因时间差异而不同.</p>
<p>使用 <code>seed()</code> 函数的示例代码如下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">0</span>)   <span class="comment"># 生成随机数的种子</span></span><br><span class="line">np.random.rand(<span class="number">5</span>)   <span class="comment"># 随机生成包含 5 个元素的浮点数组</span></span><br></pre></td></tr></table></figure>
<pre><code>array([0.5488135 , 0.71518937, 0.60276338, 0.54488318, 0.4236548 ])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line">np.random.rand(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.5488135 , 0.71518937, 0.60276338, 0.54488318, 0.4236548 ])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed()</span><br><span class="line">np.random.rand(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.62979455, 0.48687157, 0.23137517, 0.71878505, 0.93389724])
</code></pre><p>由此可见, <code>seed()</code> 函数使得随机数具有预见性. 当传递的参数值不同或者不传递参数时, 则该函数的作用跟 <code>rand()</code> 函数相同, 即多次生成随机数且每次生成的随机数都不同.</p>
<div class="note success flat"><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>本章主要针对科学计算库 NumPy 进行了介绍, 包括 ndarray 数组对象的属性和数据类型, 数组的运算, 索引和切片操作, 数组的转置和轴对称个, NumPy 通用函数, 线性代数模块, 随机数模块, 以及使用数组进行数据处理的相关操作.</p>
</div></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>第二章-科学计算库NumPy</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://redbeancc.pages.dev/post/ed1a7053.html">https://redbeancc.pages.dev/post/ed1a7053.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>red bean</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2025-04-30</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2025-04-30</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-zhifeiji"></use></svg></div>python</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-zhifeiji"></use></svg></div>数据分析</a><a class="post-meta__tags" href="/tags/numpy/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-zhifeiji"></use></svg></div>numpy</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/1a989fae.html" title="第二章-预备知识"><img class="cover" src="https://haowallpaper.com/link/common/file/getCroppingImg/17136029310766464" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">第二章-预备知识</div></div></a></div><div class="next-post pull-right"><a href="/post/31e014ec.html" title="第一章-配置环境"><img class="cover" src="https://haowallpaper.com/link/common/file/getCroppingImg/16683500614176128" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">第一章-配置环境</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/f51c7afe.html" title="AI学习路线图"><img class="cover" src="https://haowallpaper.com/link/common/file/getCroppingImg/16704674854784384" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-22</div><div class="title">AI学习路线图</div></div></a></div><div><a href="/post/31e014ec.html" title="第一章-配置环境"><img class="cover" src="https://haowallpaper.com/link/common/file/getCroppingImg/16683500614176128" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-24</div><div class="title">第一章-配置环境</div></div></a></div><div><a href="/post/bcf4774e.html" title="Linux 后台运行 python 脚本"><img class="cover" src="https://img-blog.csdnimg.cn/direct/f90a9cc7b7164306a7ca50fc1550f0e4.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-08</div><div class="title">Linux 后台运行 python 脚本</div></div></a></div><div><a href="/post/dc433e44.html" title="Linux下载、配置python环境"><img class="cover" src="https://img-blog.csdnimg.cn/direct/09e3b3329c82436699c67d2eb90dc7af.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-11</div><div class="title">Linux下载、配置python环境</div></div></a></div><div><a href="/post/fed6a8a.html" title="python 读写 ini 文件"><img class="cover" src="https://img-blog.csdnimg.cn/direct/8c6a7384a76f4106beecad5aa14dc818.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-27</div><div class="title">python 读写 ini 文件</div></div></a></div><div><a href="/post/c7266a94.html" title="python爬虫之数据解析"><img class="cover" src="https://img-blog.csdnimg.cn/direct/b04af0fae1e340ddaffdc9dea312dbb2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-12</div><div class="title">python爬虫之数据解析</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://img-blog.csdnimg.cn/direct/0d2446d80d4f45528563579d0ba0c619.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">red bean</div><div class="author-info__description">及时当勉励，岁月不待人</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">62</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/redbeancc"><i></i><span>🛴 前往小家...</span></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/redbeancc" target="_blank" title="icon-github"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></a><a class="social-icon faa-parent animated-hover" href="mailto:2074077441@qq.com" target="_blank" title="icon-youjian"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-youjian"></use></svg></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><a class="faa-parent animated-hover"><svg class="faa-tada icon" style="height:25px;width:25px;fill:currentColor;position:relative;top:1px" aria-hidden="true"><use xlink:href="#icon-gonggao"></use></svg></a><span>公告栏</span></div><div class="announcement_content">欢迎来到我的博客</div><div id="welcome-info"></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-mulu"></use></svg><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97%E5%BA%93NumPy"><span class="toc-text">第二章-科学计算库NumPy</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E8%AE%A4%E8%AF%86-NumPy-%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.1 认识 NumPy 数组对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%88%9B%E5%BB%BA-NumPy-%E6%95%B0%E7%BB%84"><span class="toc-text">2.2 创建 NumPy 数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-ndarray-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">2.3 ndarray 对象的数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">2.3.1 查看数据结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-%E8%BD%AC%E6%8D%A2%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.3.2 转换数据类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E6%95%B0%E7%BB%84%E8%BF%90%E7%AE%97"><span class="toc-text">2.4 数组运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-%E7%9F%A2%E9%87%8F%E5%8C%96%E8%BF%90%E7%AE%97"><span class="toc-text">2.4.1 矢量化运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-%E6%95%B0%E7%BB%84%E5%B9%BF%E6%92%AD"><span class="toc-text">2.4.2 数组广播</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-3-%E6%95%B0%E7%BB%84%E4%B8%8E%E6%A0%87%E9%87%8F%E9%97%B4%E7%9A%84%E8%BF%90%E7%AE%97"><span class="toc-text">2.4.3 数组与标量间的运算</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-ndarray-%E7%9A%84%E7%B4%A2%E5%BC%95%E5%92%8C%E5%88%87%E7%89%87"><span class="toc-text">2.5 ndarray 的索引和切片</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-1-%E6%95%B4%E6%95%B0%E7%B4%A2%E5%BC%95%E5%92%8C%E5%88%87%E7%89%87%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">2.5.1 整数索引和切片的基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-2-%E8%8A%B1%E5%BC%8F-%E6%95%B0%E7%BB%84-%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">2.5.2 花式(数组)索引的基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-3-%E5%B8%83%E5%B0%94%E5%9E%8B%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">2.5.3 布尔型索引的基本使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E6%95%B0%E7%BB%84%E7%9A%84%E8%BD%AC%E7%BD%AE%E5%92%8C%E8%BD%B4%E5%AF%B9%E7%A7%B0"><span class="toc-text">2.6 数组的转置和轴对称</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-NumPy-%E9%80%9A%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-text">2.7 NumPy 通用函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-8-%E5%88%A9%E7%94%A8-NumPy-%E6%95%B0%E7%BB%84%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="toc-text">2.8 利用 NumPy 数组进行数据处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-1-%E5%B0%86%E6%9D%A1%E4%BB%B6%E9%80%BB%E8%BE%91%E8%BD%AC%E4%B8%BA%E6%95%B0%E7%BB%84%E8%BF%90%E7%AE%97"><span class="toc-text">2.8.1 将条件逻辑转为数组运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-2-%E6%95%B0%E7%BB%84%E7%BB%9F%E8%AE%A1%E8%BF%90%E7%AE%97"><span class="toc-text">2.8.2 数组统计运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-3-%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F"><span class="toc-text">2.8.3 数组排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-4-%E6%A3%80%E7%B4%A2%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-text">2.8.4 检索数组元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-5-%E5%94%AF%E4%B8%80%E5%8C%96%E5%8F%8A%E5%85%B6%E4%BB%96%E9%9B%86%E5%90%88%E9%80%BB%E8%BE%91"><span class="toc-text">2.8.5 唯一化及其他集合逻辑</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-9-%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E6%A8%A1%E5%9D%97"><span class="toc-text">2.9 线性代数模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-10-%E9%9A%8F%E6%9C%BA%E6%95%B0%E6%A8%A1%E5%9D%97"><span class="toc-text">2.10 随机数模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-text">小结</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-fengche"></use></svg><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/1a989fae.html" title="第二章-预备知识"><img src="https://haowallpaper.com/link/common/file/getCroppingImg/17136029310766464" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第二章-预备知识"/></a><div class="content"><a class="title" href="/post/1a989fae.html" title="第二章-预备知识">第二章-预备知识</a><time datetime="2025-07-02T01:19:27.000Z" title="发表于 2025-07-02 09:19:27">2025-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/ed1a7053.html" title="第二章-科学计算库NumPy"><img src="https://haowallpaper.com/link/common/file/getCroppingImg/16510972873461120" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第二章-科学计算库NumPy"/></a><div class="content"><a class="title" href="/post/ed1a7053.html" title="第二章-科学计算库NumPy">第二章-科学计算库NumPy</a><time datetime="2025-04-30T15:22:42.000Z" title="发表于 2025-04-30 23:22:42">2025-04-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/31e014ec.html" title="第一章-配置环境"><img src="https://haowallpaper.com/link/common/file/getCroppingImg/16683500614176128" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第一章-配置环境"/></a><div class="content"><a class="title" href="/post/31e014ec.html" title="第一章-配置环境">第一章-配置环境</a><time datetime="2025-04-24T04:03:41.000Z" title="发表于 2025-04-24 12:03:41">2025-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/f51c7afe.html" title="AI学习路线图"><img src="https://haowallpaper.com/link/common/file/getCroppingImg/16704674854784384" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI学习路线图"/></a><div class="content"><a class="title" href="/post/f51c7afe.html" title="AI学习路线图">AI学习路线图</a><time datetime="2025-04-22T06:55:33.000Z" title="发表于 2025-04-22 14:55:33">2025-04-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/13675369.html" title="C语言学习笔记"><img src="https://i-blog.csdnimg.cn/direct/a9ca329ac5144f30bb7f7109fe95e170.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C语言学习笔记"/></a><div class="content"><a class="title" href="/post/13675369.html" title="C语言学习笔记">C语言学习笔记</a><time datetime="2025-04-02T16:16:09.000Z" title="发表于 2025-04-03 00:16:09">2025-04-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">格言🍬</p><div class="bg-ad"><div>一开始，世界上只有氢，恒星内部的聚变到铁为止，金、铂这样的重金属元素只能来自于超新星爆发这种宇宙中最绚丽的葬礼，也就是说 —— 如果你送了女孩一枚铂金的戒指，她就戴上了一块星星的碎片 ✨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">点击开启星辰之旅</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">猜你想看💡</p><ul class="ft-links"><li><a href="/about/">关于作者</a><a href="/archives/">文章归档</a></li><li><a href="/categories/">文章分类</a><a href="/tags/">文章标签</a></li><li><a href="/bb/">闲言碎语</a><a href="/charts/">网站统计</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">推荐友链⌛</p><div class="ft-img-group"><div class="img-group-item"><a target="_blank" rel="noopener" href="https://redbeancc.github.io" title="Red Bean🌺🌺🌺"><img src="https://img-blog.csdnimg.cn/direct/0d2446d80d4f45528563579d0ba0c619.jpeg" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.fomal.cc/" title="Fomalhaut🥝"><img src="https://sourcebucket.s3.bitiful.net/img/avatar.webp" alt=""/></a></div></div></div></div><div class="copyright"><span><b>&copy;2024 - 2025</b></span><span><b>&nbsp;&nbsp;By red bean</b></span></div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v6.3.0"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v4.3.1"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站采用多线部署，主线路托管于Vercel"><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本网站源码由Github提供存储仓库"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="https://gcore.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><script src="https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><div class="js-pjax"></div><script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-y/jquery/3.6.0/jquery.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-y/vue/2.6.14/vue.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-y/element-ui/2.15.6/index.min.js"></script><script src="//at.alicdn.com/t/c/font_4441600_y42pc92rvgj.js"></script><script src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://gitee.com/redbeancc/cdn/raw/master/hexo/js/cursor.js"></script><script async data-pjax src="https://gitee.com/redbeancc/cdn/raw/master/hexo/js/txmap.js"></script><script async src="https://gitee.com/redbeancc/cdn/raw/master/hexo/js/copy.js"></script><script src="https://gitee.com/redbeancc/cdn/raw/master/hexo/js/sun_moon.js" async></script><script defer src="https://gitee.com/redbeancc/cdn/raw/master/hexo/js/runtime.js"></script><script src="https://gitee.com/redbeancc/cdn/raw/master/hexo/js/nav.js"></script><script async src="https://gitee.com/redbeancc/cdn/raw/master/hexo/js/console.js"></script><script async src="https://gitee.com/redbeancc/cdn/raw/master/hexo/js/title.js"></script><script id="canvas_nest" defer="defer" color="255,254,250" opacity="1" zIndex="-1" count="88" mobile="false" src="https://gcore.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://gcore.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="富强,民主,文明,和谐,自由,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="false" async="async"></script><script src="https://gcore.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://redbeancc.pages.dev/categories/魔改教程/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 红豆の魔改教程 (5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://redbeancc.pages.dev/categories/教程/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👩‍💻 红豆の编程学习 (19)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://redbeancc.pages.dev/categories/学习/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📓 红豆の读书笔记 (19)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://redbeancc.pages.dev/categories/随想/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 红豆の胡思乱想 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://redbeancc.pages.dev/categories/问题/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍭 红豆の疑问多多 (18)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://redbeancc.pages.dev/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #rgb(233,233,233);margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: rgb(115,213,206)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/3324b066.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://img-blog.csdnimg.cn/img_convert/6d3bd229788ab88cd1286813a33f92a3.jpeg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-02-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/3324b066.html&quot;);" href="javascript:void(0);" alt="">hexo基础搭建教程（一）</a><div class="blog-slider__text">🍔hexo基础搭建教程（一）</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/3324b066.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/2013454d.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://img-blog.csdnimg.cn/direct/3d27d9a714664e8f878b54f23deb1331.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-03-12</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/2013454d.html&quot;);" href="javascript:void(0);" alt="">Markdown语法与外挂标签写法汇总</a><div class="blog-slider__text">🎨本文汇总Markdown格式以及外挂标签在网页端的渲染效果，可作为文档进行查询</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/2013454d.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/fcfb9005.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://img-blog.csdnimg.cn/direct/e80de7c9d1a5427bb4215bea219f55e2.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-01-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/fcfb9005.html&quot;);" href="javascript:void(0);" alt="">RabbitMQ 学习笔记</a><div class="blog-slider__text">🧧 RabbitMQ 学习笔记</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/fcfb9005.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/c7266a94.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://img-blog.csdnimg.cn/direct/b04af0fae1e340ddaffdc9dea312dbb2.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-11-12</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/c7266a94.html&quot;);" href="javascript:void(0);" alt="">python爬虫之数据解析</a><div class="blog-slider__text">👑对网页页面解析获取方法总结</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/c7266a94.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script async src="//at.alicdn.com/t/c/font_4441600_y42pc92rvgj.js"></script><!-- hexo injector body_end end --></body></html>